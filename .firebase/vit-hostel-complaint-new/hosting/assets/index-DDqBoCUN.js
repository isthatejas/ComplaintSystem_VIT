(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function Sa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rv={exports:{}},af={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BS;function G3(){if(BS)return af;BS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var u=null;if(s!==void 0&&(u=""+s),a.key!==void 0&&(u=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:s}}return af.Fragment=e,af.jsx=n,af.jsxs=n,af}var zS;function Y3(){return zS||(zS=1,Rv.exports=G3()),Rv.exports}var C=Y3(),Pv={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS;function W3(){if(qS)return Ve;qS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function A($,ae,re){this.props=$,this.context=ae,this.refs=T,this.updater=re||_}A.prototype.isReactComponent={},A.prototype.setState=function($,ae){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ae,"setState")},A.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function I(){}I.prototype=A.prototype;function k($,ae,re){this.props=$,this.context=ae,this.refs=T,this.updater=re||_}var D=k.prototype=new I;D.constructor=k,E(D,A.prototype),D.isPureReactComponent=!0;var F=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function N($,ae,re,ce,be,xe){return re=xe.ref,{$$typeof:t,type:$,key:ae,ref:re!==void 0?re:null,props:xe}}function R($,ae){return N($.type,ae,void 0,void 0,void 0,$.props)}function j($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function B($){var ae={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(re){return ae[re]})}var V=/\/+/g;function U($,ae){return typeof $=="object"&&$!==null&&$.key!=null?B(""+$.key):ae.toString(36)}function L(){}function _e($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(L,L):($.status="pending",$.then(function(ae){$.status==="pending"&&($.status="fulfilled",$.value=ae)},function(ae){$.status==="pending"&&($.status="rejected",$.reason=ae)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function Se($,ae,re,ce,be){var xe=typeof $;(xe==="undefined"||xe==="boolean")&&($=null);var Ne=!1;if($===null)Ne=!0;else switch(xe){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch($.$$typeof){case t:case e:Ne=!0;break;case m:return Ne=$._init,Se(Ne($._payload),ae,re,ce,be)}}if(Ne)return be=be($),Ne=ce===""?"."+U($,0):ce,F(be)?(re="",Ne!=null&&(re=Ne.replace(V,"$&/")+"/"),Se(be,ae,re,"",function(me){return me})):be!=null&&(j(be)&&(be=R(be,re+(be.key==null||$&&$.key===be.key?"":(""+be.key).replace(V,"$&/")+"/")+Ne)),ae.push(be)),1;Ne=0;var zt=ce===""?".":ce+":";if(F($))for(var ot=0;ot<$.length;ot++)ce=$[ot],xe=zt+U(ce,ot),Ne+=Se(ce,ae,re,xe,be);else if(ot=v($),typeof ot=="function")for($=ot.call($),ot=0;!(ce=$.next()).done;)ce=ce.value,xe=zt+U(ce,ot++),Ne+=Se(ce,ae,re,xe,be);else if(xe==="object"){if(typeof $.then=="function")return Se(_e($),ae,re,ce,be);throw ae=String($),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function Z($,ae,re){if($==null)return $;var ce=[],be=0;return Se($,ce,"","",function(xe){return ae.call(re,xe,be++)}),ce}function ue($){if($._status===-1){var ae=$._result;ae=ae(),ae.then(function(re){($._status===0||$._status===-1)&&($._status=1,$._result=re)},function(re){($._status===0||$._status===-1)&&($._status=2,$._result=re)}),$._status===-1&&($._status=0,$._result=ae)}if($._status===1)return $._result.default;throw $._result}var de=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function Ce(){}return Ve.Children={map:Z,forEach:function($,ae,re){Z($,function(){ae.apply(this,arguments)},re)},count:function($){var ae=0;return Z($,function(){ae++}),ae},toArray:function($){return Z($,function(ae){return ae})||[]},only:function($){if(!j($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ve.Component=A,Ve.Fragment=n,Ve.Profiler=a,Ve.PureComponent=k,Ve.StrictMode=r,Ve.Suspense=h,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ve.__COMPILER_RUNTIME={__proto__:null,c:function($){return q.H.useMemoCache($)}},Ve.cache=function($){return function(){return $.apply(null,arguments)}},Ve.cloneElement=function($,ae,re){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ce=E({},$.props),be=$.key,xe=void 0;if(ae!=null)for(Ne in ae.ref!==void 0&&(xe=void 0),ae.key!==void 0&&(be=""+ae.key),ae)!H.call(ae,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ae.ref===void 0||(ce[Ne]=ae[Ne]);var Ne=arguments.length-2;if(Ne===1)ce.children=re;else if(1<Ne){for(var zt=Array(Ne),ot=0;ot<Ne;ot++)zt[ot]=arguments[ot+2];ce.children=zt}return N($.type,be,void 0,void 0,xe,ce)},Ve.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:s,_context:$},$},Ve.createElement=function($,ae,re){var ce,be={},xe=null;if(ae!=null)for(ce in ae.key!==void 0&&(xe=""+ae.key),ae)H.call(ae,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=ae[ce]);var Ne=arguments.length-2;if(Ne===1)be.children=re;else if(1<Ne){for(var zt=Array(Ne),ot=0;ot<Ne;ot++)zt[ot]=arguments[ot+2];be.children=zt}if($&&$.defaultProps)for(ce in Ne=$.defaultProps,Ne)be[ce]===void 0&&(be[ce]=Ne[ce]);return N($,xe,void 0,void 0,null,be)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function($){return{$$typeof:c,render:$}},Ve.isValidElement=j,Ve.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:ue}},Ve.memo=function($,ae){return{$$typeof:d,type:$,compare:ae===void 0?null:ae}},Ve.startTransition=function($){var ae=q.T,re={};q.T=re;try{var ce=$(),be=q.S;be!==null&&be(re,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ce,de)}catch(xe){de(xe)}finally{q.T=ae}},Ve.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ve.use=function($){return q.H.use($)},Ve.useActionState=function($,ae,re){return q.H.useActionState($,ae,re)},Ve.useCallback=function($,ae){return q.H.useCallback($,ae)},Ve.useContext=function($){return q.H.useContext($)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function($,ae){return q.H.useDeferredValue($,ae)},Ve.useEffect=function($,ae,re){var ce=q.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect($,ae)},Ve.useId=function(){return q.H.useId()},Ve.useImperativeHandle=function($,ae,re){return q.H.useImperativeHandle($,ae,re)},Ve.useInsertionEffect=function($,ae){return q.H.useInsertionEffect($,ae)},Ve.useLayoutEffect=function($,ae){return q.H.useLayoutEffect($,ae)},Ve.useMemo=function($,ae){return q.H.useMemo($,ae)},Ve.useOptimistic=function($,ae){return q.H.useOptimistic($,ae)},Ve.useReducer=function($,ae,re){return q.H.useReducer($,ae,re)},Ve.useRef=function($){return q.H.useRef($)},Ve.useState=function($){return q.H.useState($)},Ve.useSyncExternalStore=function($,ae,re){return q.H.useSyncExternalStore($,ae,re)},Ve.useTransition=function(){return q.H.useTransition()},Ve.version="19.1.0",Ve}var $S;function Pu(){return $S||($S=1,Pv.exports=W3()),Pv.exports}var O=Pu(),Nv={exports:{}},sf={},Dv={exports:{}},kv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS;function X3(){return FS||(FS=1,function(t){function e(Z,ue){var de=Z.length;Z.push(ue);e:for(;0<de;){var Ce=de-1>>>1,$=Z[Ce];if(0<a($,ue))Z[Ce]=ue,Z[de]=$,de=Ce;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ue=Z[0],de=Z.pop();if(de!==ue){Z[0]=de;e:for(var Ce=0,$=Z.length,ae=$>>>1;Ce<ae;){var re=2*(Ce+1)-1,ce=Z[re],be=re+1,xe=Z[be];if(0>a(ce,de))be<$&&0>a(xe,ce)?(Z[Ce]=xe,Z[be]=de,Ce=be):(Z[Ce]=ce,Z[re]=de,Ce=re);else if(be<$&&0>a(xe,de))Z[Ce]=xe,Z[be]=de,Ce=be;else break e}}return ue}function a(Z,ue){var de=Z.sortIndex-ue.sortIndex;return de!==0?de:Z.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var h=[],d=[],m=1,y=null,v=3,_=!1,E=!1,T=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function F(Z){for(var ue=n(d);ue!==null;){if(ue.callback===null)r(d);else if(ue.startTime<=Z)r(d),ue.sortIndex=ue.expirationTime,e(h,ue);else break;ue=n(d)}}function q(Z){if(T=!1,F(Z),!E)if(n(h)!==null)E=!0,H||(H=!0,U());else{var ue=n(d);ue!==null&&Se(q,ue.startTime-Z)}}var H=!1,N=-1,R=5,j=-1;function B(){return A?!0:!(t.unstable_now()-j<R)}function V(){if(A=!1,H){var Z=t.unstable_now();j=Z;var ue=!0;try{e:{E=!1,T&&(T=!1,k(N),N=-1),_=!0;var de=v;try{t:{for(F(Z),y=n(h);y!==null&&!(y.expirationTime>Z&&B());){var Ce=y.callback;if(typeof Ce=="function"){y.callback=null,v=y.priorityLevel;var $=Ce(y.expirationTime<=Z);if(Z=t.unstable_now(),typeof $=="function"){y.callback=$,F(Z),ue=!0;break t}y===n(h)&&r(h),F(Z)}else r(h);y=n(h)}if(y!==null)ue=!0;else{var ae=n(d);ae!==null&&Se(q,ae.startTime-Z),ue=!1}}break e}finally{y=null,v=de,_=!1}ue=void 0}}finally{ue?U():H=!1}}}var U;if(typeof D=="function")U=function(){D(V)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,_e=L.port2;L.port1.onmessage=V,U=function(){_e.postMessage(null)}}else U=function(){I(V,0)};function Se(Z,ue){N=I(function(){Z(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Z){switch(v){case 1:case 2:case 3:var ue=3;break;default:ue=v}var de=v;v=ue;try{return Z()}finally{v=de}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=v;v=Z;try{return ue()}finally{v=de}},t.unstable_scheduleCallback=function(Z,ue,de){var Ce=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ce+de:Ce):de=Ce,Z){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=de+$,Z={id:m++,callback:ue,priorityLevel:Z,startTime:de,expirationTime:$,sortIndex:-1},de>Ce?(Z.sortIndex=de,e(d,Z),n(h)===null&&Z===n(d)&&(T?(k(N),N=-1):T=!0,Se(q,de-Ce))):(Z.sortIndex=$,e(h,Z),E||_||(E=!0,H||(H=!0,U()))),Z},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(Z){var ue=v;return function(){var de=v;v=ue;try{return Z.apply(this,arguments)}finally{v=de}}}}(kv)),kv}var HS;function Q3(){return HS||(HS=1,Dv.exports=X3()),Dv.exports}var Mv={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS;function Z3(){if(KS)return jn;KS=1;var t=Pu();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(h,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:h,containerInfo:d,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jn.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(h,d,null,m)},jn.flushSync=function(h){var d=u.T,m=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=d,r.p=m,r.d.f()}},jn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},jn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},jn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:_}):m==="script"&&r.d.X(h,{crossOrigin:y,integrity:v,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},jn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},jn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin);r.d.L(h,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},jn.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},jn.requestFormReset=function(h){r.d.r(h)},jn.unstable_batchedUpdates=function(h,d){return h(d)},jn.useFormState=function(h,d,m){return u.H.useFormState(h,d,m)},jn.useFormStatus=function(){return u.H.useHostTransitionStatus()},jn.version="19.1.0",jn}var GS;function AP(){if(GS)return Mv.exports;GS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mv.exports=Z3(),Mv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YS;function J3(){if(YS)return sf;YS=1;var t=Q3(),e=Pu(),n=AP();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function u(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function c(i){if(s(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(r(188));return o!==i?null:i}for(var l=i,f=o;;){var p=l.return;if(p===null)break;var b=p.alternate;if(b===null){if(f=p.return,f!==null){l=f;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===l)return c(p),i;if(b===f)return c(p),o;b=b.sibling}throw Error(r(188))}if(l.return!==f.return)l=p,f=b;else{for(var x=!1,P=p.child;P;){if(P===l){x=!0,l=p,f=b;break}if(P===f){x=!0,f=p,l=b;break}P=P.sibling}if(!x){for(P=b.child;P;){if(P===l){x=!0,l=b,f=p;break}if(P===f){x=!0,f=b,l=p;break}P=P.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:o}function d(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=d(i),o!==null)return o;i=i.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var L=Symbol.for("react.client.reference");function _e(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===L?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case q:return"Suspense";case H:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case D:return(i.displayName||"Context")+".Provider";case k:return(i._context.displayName||"Context")+".Consumer";case F:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return o=i.displayName||null,o!==null?o:_e(i.type)||"Memo";case R:o=i._payload,i=i._init;try{return _e(i(o))}catch{}}return null}var Se=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ce=[],$=-1;function ae(i){return{current:i}}function re(i){0>$||(i.current=Ce[$],Ce[$]=null,$--)}function ce(i,o){$++,Ce[$]=i.current,i.current=o}var be=ae(null),xe=ae(null),Ne=ae(null),zt=ae(null);function ot(i,o){switch(ce(Ne,o),ce(xe,i),ce(be,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?mS(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=mS(o),i=gS(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}re(be),ce(be,i)}function me(){re(be),re(xe),re(Ne)}function ke(i){i.memoizedState!==null&&ce(zt,i);var o=be.current,l=gS(o,i.type);o!==l&&(ce(xe,i),ce(be,l))}function Le(i){xe.current===i&&(re(be),re(xe)),zt.current===i&&(re(zt),Jc._currentValue=de)}var fe=Object.prototype.hasOwnProperty,Ot=t.unstable_scheduleCallback,Ke=t.unstable_cancelCallback,tn=t.unstable_shouldYield,hn=t.unstable_requestPaint,qt=t.unstable_now,al=t.unstable_getCurrentPriorityLevel,Qu=t.unstable_ImmediatePriority,sl=t.unstable_UserBlockingPriority,zs=t.unstable_NormalPriority,Pp=t.unstable_LowPriority,ol=t.unstable_IdlePriority,Zu=t.log,Ah=t.unstable_setDisableYieldValue,Ct=null,nt=null;function rr(i){if(typeof Zu=="function"&&Ah(i),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Ct,i)}catch{}}var kn=Math.clz32?Math.clz32:qs,Sh=Math.log,Np=Math.LN2;function qs(i){return i>>>=0,i===0?32:31-(Sh(i)/Np|0)|0}var $s=256,Fs=4194304;function Yr(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ll(i,o,l){var f=i.pendingLanes;if(f===0)return 0;var p=0,b=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var P=f&134217727;return P!==0?(f=P&~b,f!==0?p=Yr(f):(x&=P,x!==0?p=Yr(x):l||(l=P&~i,l!==0&&(p=Yr(l))))):(P=f&~b,P!==0?p=Yr(P):x!==0?p=Yr(x):l||(l=f&~i,l!==0&&(p=Yr(l)))),p===0?0:o!==0&&o!==p&&(o&b)===0&&(b=p&-p,l=o&-o,b>=l||b===32&&(l&4194048)!==0)?o:p}function Hs(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Ju(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var i=$s;return $s<<=1,($s&4194048)===0&&($s=256),i}function tc(){var i=Fs;return Fs<<=1,(Fs&62914560)===0&&(Fs=4194304),i}function Li(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function Vi(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function nc(i,o,l,f,p,b){var x=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var P=i.entanglements,z=i.expirationTimes,X=i.hiddenUpdates;for(l=x&~l;0<l;){var ne=31-kn(l),se=1<<ne;P[ne]=0,z[ne]=-1;var Q=X[ne];if(Q!==null)for(X[ne]=null,ne=0;ne<Q.length;ne++){var J=Q[ne];J!==null&&(J.lane&=-536870913)}l&=~se}f!==0&&si(i,f,0),b!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=b&~(x&~o))}function si(i,o,l){i.pendingLanes|=o,i.suspendedLanes&=~o;var f=31-kn(o);i.entangledLanes|=o,i.entanglements[f]=i.entanglements[f]|1073741824|l&4194090}function rc(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var f=31-kn(l),p=1<<f;p&o|i[f]&o&&(i[f]|=o),l&=~p}}function ka(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ul(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ma(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:kS(i.type))}function xh(i,o){var l=ue.p;try{return ue.p=i,o()}finally{ue.p=l}}var Et=Math.random().toString(36).slice(2),nn="__reactFiber$"+Et,$t="__reactProps$"+Et,Tr="__reactContainer$"+Et,ic="__reactEvents$"+Et,Dp="__reactListeners$"+Et,ja="__reactHandles$"+Et,Oh="__reactResources$"+Et,Ks="__reactMarker$"+Et;function La(i){delete i[nn],delete i[$t],delete i[ic],delete i[Dp],delete i[ja]}function Ui(i){var o=i[nn];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Tr]||l[nn]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=bS(i);i!==null;){if(l=i[nn])return l;i=bS(i)}return o}i=l,l=i.parentNode}return null}function oi(i){if(i=i[nn]||i[Tr]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function li(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function $n(i){var o=i[Oh];return o||(o=i[Oh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function kt(i){i[Ks]=!0}var ac=new Set,cl={};function Wr(i,o){Bi(i,o),Bi(i+"Capture",o)}function Bi(i,o){for(cl[i]=o,i=0;i<o.length;i++)ac.add(o[i])}var Ch=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ih={},Gs={};function Rh(i){return fe.call(Gs,i)?!0:fe.call(Ih,i)?!1:Ch.test(i)?Gs[i]=!0:(Ih[i]=!0,!1)}function Va(i,o,l){if(Rh(o))if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+l)}}function ui(i,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+l)}}function En(i,o,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(o,l,""+f)}}var Ys,Ph;function zi(i){if(Ys===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);Ys=o&&o[1]||"",Ph=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ys+i+Ph}var fl=!1;function hl(i,o){if(!i||fl)return"";fl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var Q=J}Reflect.construct(i,[],se)}else{try{se.call()}catch(J){Q=J}i.call(se.prototype)}}else{try{throw Error()}catch(J){Q=J}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),x=b[0],P=b[1];if(x&&P){var z=x.split(`
`),X=P.split(`
`);for(p=f=0;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(f===z.length||p===X.length)for(f=z.length-1,p=X.length-1;1<=f&&0<=p&&z[f]!==X[p];)p--;for(;1<=f&&0<=p;f--,p--)if(z[f]!==X[p]){if(f!==1||p!==1)do if(f--,p--,0>p||z[f]!==X[p]){var ne=`
`+z[f].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=f&&0<=p);break}}}finally{fl=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?zi(l):""}function sc(i){switch(i.tag){case 26:case 27:case 5:return zi(i.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return hl(i.type,!1);case 11:return hl(i.type.render,!1);case 1:return hl(i.type,!0);case 31:return zi("Activity");default:return""}}function dl(i){try{var o="";do o+=sc(i),i=i.return;while(i);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function oc(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function kp(i){var o=oc(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,b=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(x){f=""+x,b.call(this,x)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ml(i){i._valueTracker||(i._valueTracker=kp(i))}function lc(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),f="";return i&&(f=oc(i)?i.checked?"true":"false":i.value),i=f,i!==l?(o.setValue(i),!0):!1}function Ws(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Mp=/[\n"\\]/g;function Ft(i){return i.replace(Mp,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ir(i,o,l,f,p,b,x,P){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),o!=null?x==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Fn(o)):i.value!==""+Fn(o)&&(i.value=""+Fn(o)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),o!=null?Ua(i,x,Fn(o)):l!=null?Ua(i,x,Fn(l)):f!=null&&i.removeAttribute("value"),p==null&&b!=null&&(i.defaultChecked=!!b),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+Fn(P):i.removeAttribute("name")}function Xs(i,o,l,f,p,b,x,P){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),o!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;l=l!=null?""+Fn(l):"",o=o!=null?""+Fn(o):l,P||o===i.value||(i.value=o),i.defaultValue=o}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=P?i.checked:!!f,i.defaultChecked=!!f,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x)}function Ua(i,o,l){o==="number"&&Ws(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function qi(i,o,l,f){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&f&&(i[l].defaultSelected=!0)}else{for(l=""+Fn(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,f&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function lt(i,o,l){if(o!=null&&(o=""+Fn(o),o!==i.value&&(i.value=o),l==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=l!=null?""+Fn(l):""}function Qs(i,o,l,f){if(o==null){if(f!=null){if(l!=null)throw Error(r(92));if(Se(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),o=l}l=Fn(o),i.defaultValue=l,f=i.textContent,f===l&&f!==""&&f!==null&&(i.value=f)}function Ar(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var Zs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nh(i,o,l){var f=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":f?i.setProperty(o,l):typeof l!="number"||l===0||Zs.has(o)?o==="float"?i.cssFloat=l:i[o]=(""+l).trim():i[o]=l+"px"}function uc(i,o,l){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var p in o)f=o[p],o.hasOwnProperty(p)&&l[p]!==f&&Nh(i,p,f)}else for(var b in o)o.hasOwnProperty(b)&&Nh(i,b,o[b])}function cc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gl(i){return Lp.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var $i=null;function Sr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fi=null,Hi=null;function fc(i){var o=oi(i);if(o&&(i=o.stateNode)){var l=i[$t]||null;e:switch(i=o.stateNode,o.type){case"input":if(ir(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ft(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var f=l[o];if(f!==i&&f.form===i.form){var p=f[$t]||null;if(!p)throw Error(r(90));ir(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<l.length;o++)f=l[o],f.form===i.form&&lc(f)}break e;case"textarea":lt(i,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&qi(i,!!l.multiple,o,!1)}}}var ci=!1;function Dh(i,o,l){if(ci)return i(o,l);ci=!0;try{var f=i(o);return f}finally{if(ci=!1,(Fi!==null||Hi!==null)&&(xd(),Fi&&(o=Fi,i=Hi,Hi=Fi=null,fc(o),i)))for(o=0;o<i.length;o++)fc(i[o])}}function Js(i,o){var l=i.stateNode;if(l===null)return null;var f=l[$t]||null;if(f===null)return null;l=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xr=!1;if(Xr)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){xr=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{xr=!1}var fi=null,Ba=null,Ki=null;function hc(){if(Ki)return Ki;var i,o=Ba,l=o.length,f,p="value"in fi?fi.value:fi.textContent,b=p.length;for(i=0;i<l&&o[i]===p[i];i++);var x=l-i;for(f=1;f<=x&&o[l-f]===p[b-f];f++);return Ki=p.slice(i,1<f?1-f:void 0)}function hi(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function di(){return!0}function dc(){return!1}function dn(i){function o(l,f,p,b,x){this._reactName=l,this._targetInst=p,this.type=f,this.nativeEvent=b,this.target=x,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?di:dc,this.isPropagationStopped=dc,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),o}var et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=dn(et),to=m({},et,{view:0,detail:0}),kh=dn(to),yl,vl,mi,no=m({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ao,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==mi&&(mi&&i.type==="mousemove"?(yl=i.screenX-mi.screenX,vl=i.screenY-mi.screenY):vl=yl=0,mi=i),yl)},movementY:function(i){return"movementY"in i?i.movementY:vl}}),Or=dn(no),Mh=m({},no,{dataTransfer:0}),Vp=dn(Mh),ro=m({},to,{relatedTarget:0}),bl=dn(ro),mc=m({},et,{animationName:0,elapsedTime:0,pseudoElement:0}),_l=dn(mc),jh=m({},et,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),wl=dn(jh),Up=m({},et,{data:0}),gc=dn(Up),io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Vh[i])?!!o[i]:!1}function ao(){return pc}var Uh=m({},to,{key:function(i){if(i.key){var o=io[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=hi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Lh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ao,charCode:function(i){return i.type==="keypress"?hi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?hi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),El=dn(Uh),Bh=m({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yc=dn(Bh),Gi=m({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ao}),zh=dn(Gi),qh=m({},et,{propertyName:0,elapsedTime:0,pseudoElement:0}),$h=dn(qh),Fh=m({},no,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Tl=dn(Fh),Hn=m({},et,{newState:0,oldState:0}),Hh=dn(Hn),Kh=[9,13,27,32],gi=Xr&&"CompositionEvent"in window,g=null;Xr&&"documentMode"in document&&(g=document.documentMode);var w=Xr&&"TextEvent"in window&&!g,S=Xr&&(!gi||g&&8<g&&11>=g),M=" ",Y=!1;function ee(i,o){switch(i){case"keyup":return Kh.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ge=!1;function rn(i,o){switch(i){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(Y=!0,M);case"textInput":return i=o.data,i===M&&Y?null:i;default:return null}}function Ye(i,o){if(Ge)return i==="compositionend"||!gi&&ee(i,o)?(i=hc(),Ki=Ba=fi=null,Ge=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return S&&o.locale!=="ko"?null:o.data;default:return null}}var mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function an(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!mn[i.type]:o==="textarea"}function Yi(i,o,l,f){Fi?Hi?Hi.push(f):Hi=[f]:Fi=f,o=Nd(o,"onChange"),0<o.length&&(l=new pl("onChange","change",null,l,f),i.push({event:l,listeners:o}))}var Tn=null,pi=null;function vc(i){uS(i,0)}function Gh(i){var o=li(i);if(lc(o))return i}function RE(i,o){if(i==="change")return o}var PE=!1;if(Xr){var Bp;if(Xr){var zp="oninput"in document;if(!zp){var NE=document.createElement("div");NE.setAttribute("oninput","return;"),zp=typeof NE.oninput=="function"}Bp=zp}else Bp=!1;PE=Bp&&(!document.documentMode||9<document.documentMode)}function DE(){Tn&&(Tn.detachEvent("onpropertychange",kE),pi=Tn=null)}function kE(i){if(i.propertyName==="value"&&Gh(pi)){var o=[];Yi(o,pi,i,Sr(i)),Dh(vc,o)}}function T4(i,o,l){i==="focusin"?(DE(),Tn=o,pi=l,Tn.attachEvent("onpropertychange",kE)):i==="focusout"&&DE()}function A4(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Gh(pi)}function S4(i,o){if(i==="click")return Gh(o)}function x4(i,o){if(i==="input"||i==="change")return Gh(o)}function O4(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var ar=typeof Object.is=="function"?Object.is:O4;function bc(i,o){if(ar(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),f=Object.keys(o);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var p=l[f];if(!fe.call(o,p)||!ar(i[p],o[p]))return!1}return!0}function ME(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function jE(i,o){var l=ME(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=o&&f>=o)return{node:l,offset:o-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ME(l)}}function LE(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?LE(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function VE(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Ws(i.document);o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Ws(i.document)}return o}function qp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var C4=Xr&&"documentMode"in document&&11>=document.documentMode,Al=null,$p=null,_c=null,Fp=!1;function UE(i,o,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Fp||Al==null||Al!==Ws(f)||(f=Al,"selectionStart"in f&&qp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),_c&&bc(_c,f)||(_c=f,f=Nd($p,"onSelect"),0<f.length&&(o=new pl("onSelect","select",null,o,l),i.push({event:o,listeners:f}),o.target=Al)))}function so(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Sl={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionrun:so("Transition","TransitionRun"),transitionstart:so("Transition","TransitionStart"),transitioncancel:so("Transition","TransitionCancel"),transitionend:so("Transition","TransitionEnd")},Hp={},BE={};Xr&&(BE=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function oo(i){if(Hp[i])return Hp[i];if(!Sl[i])return i;var o=Sl[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in BE)return Hp[i]=o[l];return i}var zE=oo("animationend"),qE=oo("animationiteration"),$E=oo("animationstart"),I4=oo("transitionrun"),R4=oo("transitionstart"),P4=oo("transitioncancel"),FE=oo("transitionend"),HE=new Map,Kp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kp.push("scrollEnd");function Qr(i,o){HE.set(i,o),Wr(o,[i])}var KE=new WeakMap;function Cr(i,o){if(typeof i=="object"&&i!==null){var l=KE.get(i);return l!==void 0?l:(o={value:i,source:o,stack:dl(o)},KE.set(i,o),o)}return{value:i,source:o,stack:dl(o)}}var Ir=[],xl=0,Gp=0;function Yh(){for(var i=xl,o=Gp=xl=0;o<i;){var l=Ir[o];Ir[o++]=null;var f=Ir[o];Ir[o++]=null;var p=Ir[o];Ir[o++]=null;var b=Ir[o];if(Ir[o++]=null,f!==null&&p!==null){var x=f.pending;x===null?p.next=p:(p.next=x.next,x.next=p),f.pending=p}b!==0&&GE(l,p,b)}}function Wh(i,o,l,f){Ir[xl++]=i,Ir[xl++]=o,Ir[xl++]=l,Ir[xl++]=f,Gp|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Yp(i,o,l,f){return Wh(i,o,l,f),Xh(i)}function Ol(i,o){return Wh(i,null,null,o),Xh(i)}function GE(i,o,l){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l);for(var p=!1,b=i.return;b!==null;)b.childLanes|=l,f=b.alternate,f!==null&&(f.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(p=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,p&&o!==null&&(p=31-kn(l),i=b.hiddenUpdates,f=i[p],f===null?i[p]=[o]:f.push(o),o.lane=l|536870912),b):null}function Xh(i){if(50<Hc)throw Hc=0,ev=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Cl={};function N4(i,o,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(i,o,l,f){return new N4(i,o,l,f)}function Wp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Wi(i,o){var l=i.alternate;return l===null?(l=sr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function YE(i,o){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,o=l.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Qh(i,o,l,f,p,b){var x=0;if(f=i,typeof i=="function")Wp(i)&&(x=1);else if(typeof i=="string")x=k3(i,l,be.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case j:return i=sr(31,l,o,p),i.elementType=j,i.lanes=b,i;case E:return lo(l.children,p,b,o);case T:x=8,p|=24;break;case A:return i=sr(12,l,o,p|2),i.elementType=A,i.lanes=b,i;case q:return i=sr(13,l,o,p),i.elementType=q,i.lanes=b,i;case H:return i=sr(19,l,o,p),i.elementType=H,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:case D:x=10;break e;case k:x=9;break e;case F:x=11;break e;case N:x=14;break e;case R:x=16,f=null;break e}x=29,l=Error(r(130,i===null?"null":typeof i,"")),f=null}return o=sr(x,l,o,p),o.elementType=i,o.type=f,o.lanes=b,o}function lo(i,o,l,f){return i=sr(7,i,f,o),i.lanes=l,i}function Xp(i,o,l){return i=sr(6,i,null,o),i.lanes=l,i}function Qp(i,o,l){return o=sr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Il=[],Rl=0,Zh=null,Jh=0,Rr=[],Pr=0,uo=null,Xi=1,Qi="";function co(i,o){Il[Rl++]=Jh,Il[Rl++]=Zh,Zh=i,Jh=o}function WE(i,o,l){Rr[Pr++]=Xi,Rr[Pr++]=Qi,Rr[Pr++]=uo,uo=i;var f=Xi;i=Qi;var p=32-kn(f)-1;f&=~(1<<p),l+=1;var b=32-kn(o)+p;if(30<b){var x=p-p%5;b=(f&(1<<x)-1).toString(32),f>>=x,p-=x,Xi=1<<32-kn(o)+p|l<<p|f,Qi=b+i}else Xi=1<<b|l<<p|f,Qi=i}function Zp(i){i.return!==null&&(co(i,1),WE(i,1,0))}function Jp(i){for(;i===Zh;)Zh=Il[--Rl],Il[Rl]=null,Jh=Il[--Rl],Il[Rl]=null;for(;i===uo;)uo=Rr[--Pr],Rr[Pr]=null,Qi=Rr[--Pr],Rr[Pr]=null,Xi=Rr[--Pr],Rr[Pr]=null}var Kn=null,It=null,Je=!1,fo=null,yi=!1,ey=Error(r(519));function ho(i){var o=Error(r(418,""));throw Tc(Cr(o,i)),ey}function XE(i){var o=i.stateNode,l=i.type,f=i.memoizedProps;switch(o[nn]=i,o[$t]=f,l){case"dialog":qe("cancel",o),qe("close",o);break;case"iframe":case"object":case"embed":qe("load",o);break;case"video":case"audio":for(l=0;l<Gc.length;l++)qe(Gc[l],o);break;case"source":qe("error",o);break;case"img":case"image":case"link":qe("error",o),qe("load",o);break;case"details":qe("toggle",o);break;case"input":qe("invalid",o),Xs(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ml(o);break;case"select":qe("invalid",o);break;case"textarea":qe("invalid",o),Qs(o,f.value,f.defaultValue,f.children),ml(o)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||f.suppressHydrationWarning===!0||dS(o.textContent,l)?(f.popover!=null&&(qe("beforetoggle",o),qe("toggle",o)),f.onScroll!=null&&qe("scroll",o),f.onScrollEnd!=null&&qe("scrollend",o),f.onClick!=null&&(o.onclick=Dd),o=!0):o=!1,o||ho(i)}function QE(i){for(Kn=i.return;Kn;)switch(Kn.tag){case 5:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:Kn=Kn.return}}function wc(i){if(i!==Kn)return!1;if(!Je)return QE(i),Je=!0,!1;var o=i.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||pv(i.type,i.memoizedProps)),l=!l),l&&It&&ho(i),QE(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(o===0){It=Jr(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;i=i.nextSibling}It=null}}else o===27?(o=It,ns(i.type)?(i=_v,_v=null,It=i):It=o):It=Kn?Jr(i.stateNode.nextSibling):null;return!0}function Ec(){It=Kn=null,Je=!1}function ZE(){var i=fo;return i!==null&&(Zn===null?Zn=i:Zn.push.apply(Zn,i),fo=null),i}function Tc(i){fo===null?fo=[i]:fo.push(i)}var ty=ae(null),mo=null,Zi=null;function za(i,o,l){ce(ty,o._currentValue),o._currentValue=l}function Ji(i){i._currentValue=ty.current,re(ty)}function ny(i,o,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===l)break;i=i.return}}function ry(i,o,l,f){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){var x=p.child;b=b.firstContext;e:for(;b!==null;){var P=b;b=p;for(var z=0;z<o.length;z++)if(P.context===o[z]){b.lanes|=l,P=b.alternate,P!==null&&(P.lanes|=l),ny(b.return,l,i),f||(x=null);break e}b=P.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(r(341));x.lanes|=l,b=x.alternate,b!==null&&(b.lanes|=l),ny(x,l,i),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===i){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function Ac(i,o,l,f){i=null;for(var p=o,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var P=p.type;ar(p.pendingProps.value,x.value)||(i!==null?i.push(P):i=[P])}}else if(p===zt.current){if(x=p.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Jc):i=[Jc])}p=p.return}i!==null&&ry(o,i,l,f),o.flags|=262144}function ed(i){for(i=i.firstContext;i!==null;){if(!ar(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function go(i){mo=i,Zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Mn(i){return JE(mo,i)}function td(i,o){return mo===null&&go(i),JE(i,o)}function JE(i,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Zi===null){if(i===null)throw Error(r(308));Zi=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Zi=Zi.next=o;return l}var D4=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(l,f){i.push(f)}};this.abort=function(){o.aborted=!0,i.forEach(function(l){return l()})}},k4=t.unstable_scheduleCallback,M4=t.unstable_NormalPriority,sn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function iy(){return{controller:new D4,data:new Map,refCount:0}}function Sc(i){i.refCount--,i.refCount===0&&k4(M4,function(){i.controller.abort()})}var xc=null,ay=0,Pl=0,Nl=null;function j4(i,o){if(xc===null){var l=xc=[];ay=0,Pl=ov(),Nl={status:"pending",value:void 0,then:function(f){l.push(f)}}}return ay++,o.then(eT,eT),o}function eT(){if(--ay===0&&xc!==null){Nl!==null&&(Nl.status="fulfilled");var i=xc;xc=null,Pl=0,Nl=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function L4(i,o){var l=[],f={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){f.status="fulfilled",f.value=o;for(var p=0;p<l.length;p++)(0,l[p])(o)},function(p){for(f.status="rejected",f.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),f}var tT=Z.S;Z.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&j4(i,o),tT!==null&&tT(i,o)};var po=ae(null);function sy(){var i=po.current;return i!==null?i:yt.pooledCache}function nd(i,o){o===null?ce(po,po.current):ce(po,o.pool)}function nT(){var i=sy();return i===null?null:{parent:sn._currentValue,pool:i}}var Oc=Error(r(460)),rT=Error(r(474)),rd=Error(r(542)),oy={then:function(){}};function iT(i){return i=i.status,i==="fulfilled"||i==="rejected"}function id(){}function aT(i,o,l){switch(l=i[l],l===void 0?i.push(o):l!==o&&(o.then(id,id),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,oT(i),i;default:if(typeof o.status=="string")o.then(id,id);else{if(i=yt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(f){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=f}},function(f){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,oT(i),i}throw Cc=o,Oc}}var Cc=null;function sT(){if(Cc===null)throw Error(r(459));var i=Cc;return Cc=null,i}function oT(i){if(i===Oc||i===rd)throw Error(r(483))}var qa=!1;function ly(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function $a(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Fa(i,o,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(rt&2)!==0){var p=f.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),f.pending=o,o=Xh(i),GE(i,null,l),o}return Wh(i,f,o,l),Xh(i)}function Ic(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var f=o.lanes;f&=i.pendingLanes,l|=f,o.lanes=l,rc(i,l)}}function cy(i,o){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var p=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?p=b=x:b=b.next=x,l=l.next}while(l!==null);b===null?p=b=o:b=b.next=o}else p=b=o;l={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}var fy=!1;function Rc(){if(fy){var i=Nl;if(i!==null)throw i}}function Pc(i,o,l,f){fy=!1;var p=i.updateQueue;qa=!1;var b=p.firstBaseUpdate,x=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var z=P,X=z.next;z.next=null,x===null?b=X:x.next=X,x=z;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,P=ne.lastBaseUpdate,P!==x&&(P===null?ne.firstBaseUpdate=X:P.next=X,ne.lastBaseUpdate=z))}if(b!==null){var se=p.baseState;x=0,ne=X=z=null,P=b;do{var Q=P.lane&-536870913,J=Q!==P.lane;if(J?(We&Q)===Q:(f&Q)===Q){Q!==0&&Q===Pl&&(fy=!0),ne!==null&&(ne=ne.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var De=i,Oe=P;Q=o;var ft=l;switch(Oe.tag){case 1:if(De=Oe.payload,typeof De=="function"){se=De.call(ft,se,Q);break e}se=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Oe.payload,Q=typeof De=="function"?De.call(ft,se,Q):De,Q==null)break e;se=m({},se,Q);break e;case 2:qa=!0}}Q=P.callback,Q!==null&&(i.flags|=64,J&&(i.flags|=8192),J=p.callbacks,J===null?p.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ne===null?(X=ne=J,z=se):ne=ne.next=J,x|=Q;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;J=P,P=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);ne===null&&(z=se),p.baseState=z,p.firstBaseUpdate=X,p.lastBaseUpdate=ne,b===null&&(p.shared.lanes=0),Za|=x,i.lanes=x,i.memoizedState=se}}function lT(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function uT(i,o){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)lT(l[i],o)}var Dl=ae(null),ad=ae(0);function cT(i,o){i=sa,ce(ad,i),ce(Dl,o),sa=i|o.baseLanes}function hy(){ce(ad,sa),ce(Dl,Dl.current)}function dy(){sa=ad.current,re(Dl),re(ad)}var Ha=0,Ue=null,ut=null,Ht=null,sd=!1,kl=!1,yo=!1,od=0,Nc=0,Ml=null,V4=0;function Mt(){throw Error(r(321))}function my(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!ar(i[l],o[l]))return!1;return!0}function gy(i,o,l,f,p,b){return Ha=b,Ue=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Z.H=i===null||i.memoizedState===null?GT:YT,yo=!1,b=l(f,p),yo=!1,kl&&(b=hT(o,l,f,p)),fT(i),b}function fT(i){Z.H=dd;var o=ut!==null&&ut.next!==null;if(Ha=0,Ht=ut=Ue=null,sd=!1,Nc=0,Ml=null,o)throw Error(r(300));i===null||gn||(i=i.dependencies,i!==null&&ed(i)&&(gn=!0))}function hT(i,o,l,f){Ue=i;var p=0;do{if(kl&&(Ml=null),Nc=0,kl=!1,25<=p)throw Error(r(301));if(p+=1,Ht=ut=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Z.H=H4,b=o(l,f)}while(kl);return b}function U4(){var i=Z.H,o=i.useState()[0];return o=typeof o.then=="function"?Dc(o):o,i=i.useState()[0],(ut!==null?ut.memoizedState:null)!==i&&(Ue.flags|=1024),o}function py(){var i=od!==0;return od=0,i}function yy(i,o,l){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~l}function vy(i){if(sd){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}sd=!1}Ha=0,Ht=ut=Ue=null,kl=!1,Nc=od=0,Ml=null}function Xn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ue.memoizedState=Ht=i:Ht=Ht.next=i,Ht}function Kt(){if(ut===null){var i=Ue.alternate;i=i!==null?i.memoizedState:null}else i=ut.next;var o=Ht===null?Ue.memoizedState:Ht.next;if(o!==null)Ht=o,ut=i;else{if(i===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));ut=i,i={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Ht===null?Ue.memoizedState=Ht=i:Ht=Ht.next=i}return Ht}function by(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dc(i){var o=Nc;return Nc+=1,Ml===null&&(Ml=[]),i=aT(Ml,i,o),o=Ue,(Ht===null?o.memoizedState:Ht.next)===null&&(o=o.alternate,Z.H=o===null||o.memoizedState===null?GT:YT),i}function ld(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Dc(i);if(i.$$typeof===D)return Mn(i)}throw Error(r(438,String(i)))}function _y(i){var o=null,l=Ue.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var f=Ue.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=by(),Ue.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(i),f=0;f<i;f++)l[f]=B;return o.index++,l}function ea(i,o){return typeof o=="function"?o(i):o}function ud(i){var o=Kt();return wy(o,ut,i)}function wy(i,o,l){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var p=i.baseQueue,b=f.pending;if(b!==null){if(p!==null){var x=p.next;p.next=b.next,b.next=x}o.baseQueue=p=b,f.pending=null}if(b=i.baseState,p===null)i.memoizedState=b;else{o=p.next;var P=x=null,z=null,X=o,ne=!1;do{var se=X.lane&-536870913;if(se!==X.lane?(We&se)===se:(Ha&se)===se){var Q=X.revertLane;if(Q===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),se===Pl&&(ne=!0);else if((Ha&Q)===Q){X=X.next,Q===Pl&&(ne=!0);continue}else se={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(P=z=se,x=b):z=z.next=se,Ue.lanes|=Q,Za|=Q;se=X.action,yo&&l(b,se),b=X.hasEagerState?X.eagerState:l(b,se)}else Q={lane:se,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(P=z=Q,x=b):z=z.next=Q,Ue.lanes|=se,Za|=se;X=X.next}while(X!==null&&X!==o);if(z===null?x=b:z.next=P,!ar(b,i.memoizedState)&&(gn=!0,ne&&(l=Nl,l!==null)))throw l;i.memoizedState=b,i.baseState=x,i.baseQueue=z,f.lastRenderedState=b}return p===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Ey(i){var o=Kt(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var f=l.dispatch,p=l.pending,b=o.memoizedState;if(p!==null){l.pending=null;var x=p=p.next;do b=i(b,x.action),x=x.next;while(x!==p);ar(b,o.memoizedState)||(gn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),l.lastRenderedState=b}return[b,f]}function dT(i,o,l){var f=Ue,p=Kt(),b=Je;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=o();var x=!ar((ut||p).memoizedState,l);x&&(p.memoizedState=l,gn=!0),p=p.queue;var P=pT.bind(null,f,p,i);if(kc(2048,8,P,[i]),p.getSnapshot!==o||x||Ht!==null&&Ht.memoizedState.tag&1){if(f.flags|=2048,jl(9,cd(),gT.bind(null,f,p,l,o),null),yt===null)throw Error(r(349));b||(Ha&124)!==0||mT(f,o,l)}return l}function mT(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=Ue.updateQueue,o===null?(o=by(),Ue.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function gT(i,o,l,f){o.value=l,o.getSnapshot=f,yT(o)&&vT(i)}function pT(i,o,l){return l(function(){yT(o)&&vT(i)})}function yT(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!ar(i,l)}catch{return!0}}function vT(i){var o=Ol(i,2);o!==null&&fr(o,i,2)}function Ty(i){var o=Xn();if(typeof i=="function"){var l=i;if(i=l(),yo){rr(!0);try{l()}finally{rr(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:i},o}function bT(i,o,l,f){return i.baseState=l,wy(i,ut,typeof f=="function"?f:ea)}function B4(i,o,l,f,p){if(hd(i))throw Error(r(485));if(i=o.action,i!==null){var b={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){b.listeners.push(x)}};Z.T!==null?l(!0):b.isTransition=!1,f(b),l=o.pending,l===null?(b.next=o.pending=b,_T(o,b)):(b.next=l.next,o.pending=l.next=b)}}function _T(i,o){var l=o.action,f=o.payload,p=i.state;if(o.isTransition){var b=Z.T,x={};Z.T=x;try{var P=l(p,f),z=Z.S;z!==null&&z(x,P),wT(i,o,P)}catch(X){Ay(i,o,X)}finally{Z.T=b}}else try{b=l(p,f),wT(i,o,b)}catch(X){Ay(i,o,X)}}function wT(i,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){ET(i,o,f)},function(f){return Ay(i,o,f)}):ET(i,o,l)}function ET(i,o,l){o.status="fulfilled",o.value=l,TT(o),i.state=l,o=i.pending,o!==null&&(l=o.next,l===o?i.pending=null:(l=l.next,o.next=l,_T(i,l)))}function Ay(i,o,l){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=l,TT(o),o=o.next;while(o!==f)}i.action=null}function TT(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function AT(i,o){return o}function ST(i,o){if(Je){var l=yt.formState;if(l!==null){e:{var f=Ue;if(Je){if(It){t:{for(var p=It,b=yi;p.nodeType!==8;){if(!b){p=null;break t}if(p=Jr(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){It=Jr(p.nextSibling),f=p.data==="F!";break e}}ho(f)}f=!1}f&&(o=l[0])}}return l=Xn(),l.memoizedState=l.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:AT,lastRenderedState:o},l.queue=f,l=FT.bind(null,Ue,f),f.dispatch=l,f=Ty(!1),b=Iy.bind(null,Ue,!1,f.queue),f=Xn(),p={state:o,dispatch:null,action:i,pending:null},f.queue=p,l=B4.bind(null,Ue,p,b,l),p.dispatch=l,f.memoizedState=i,[o,l,!1]}function xT(i){var o=Kt();return OT(o,ut,i)}function OT(i,o,l){if(o=wy(i,o,AT)[0],i=ud(ea)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Dc(o)}catch(x){throw x===Oc?rd:x}else f=o;o=Kt();var p=o.queue,b=p.dispatch;return l!==o.memoizedState&&(Ue.flags|=2048,jl(9,cd(),z4.bind(null,p,l),null)),[f,b,i]}function z4(i,o){i.action=o}function CT(i){var o=Kt(),l=ut;if(l!==null)return OT(o,l,i);Kt(),o=o.memoizedState,l=Kt();var f=l.queue.dispatch;return l.memoizedState=i,[o,f,!1]}function jl(i,o,l,f){return i={tag:i,create:l,deps:f,inst:o,next:null},o=Ue.updateQueue,o===null&&(o=by(),Ue.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,o.lastEffect=i),i}function cd(){return{destroy:void 0,resource:void 0}}function IT(){return Kt().memoizedState}function fd(i,o,l,f){var p=Xn();f=f===void 0?null:f,Ue.flags|=i,p.memoizedState=jl(1|o,cd(),l,f)}function kc(i,o,l,f){var p=Kt();f=f===void 0?null:f;var b=p.memoizedState.inst;ut!==null&&f!==null&&my(f,ut.memoizedState.deps)?p.memoizedState=jl(o,b,l,f):(Ue.flags|=i,p.memoizedState=jl(1|o,b,l,f))}function RT(i,o){fd(8390656,8,i,o)}function PT(i,o){kc(2048,8,i,o)}function NT(i,o){return kc(4,2,i,o)}function DT(i,o){return kc(4,4,i,o)}function kT(i,o){if(typeof o=="function"){i=i();var l=o(i);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function MT(i,o,l){l=l!=null?l.concat([i]):null,kc(4,4,kT.bind(null,o,i),l)}function Sy(){}function jT(i,o){var l=Kt();o=o===void 0?null:o;var f=l.memoizedState;return o!==null&&my(o,f[1])?f[0]:(l.memoizedState=[i,o],i)}function LT(i,o){var l=Kt();o=o===void 0?null:o;var f=l.memoizedState;if(o!==null&&my(o,f[1]))return f[0];if(f=i(),yo){rr(!0);try{i()}finally{rr(!1)}}return l.memoizedState=[f,o],f}function xy(i,o,l){return l===void 0||(Ha&1073741824)!==0?i.memoizedState=o:(i.memoizedState=l,i=BA(),Ue.lanes|=i,Za|=i,l)}function VT(i,o,l,f){return ar(l,o)?l:Dl.current!==null?(i=xy(i,l,f),ar(i,o)||(gn=!0),i):(Ha&42)===0?(gn=!0,i.memoizedState=l):(i=BA(),Ue.lanes|=i,Za|=i,o)}function UT(i,o,l,f,p){var b=ue.p;ue.p=b!==0&&8>b?b:8;var x=Z.T,P={};Z.T=P,Iy(i,!1,o,l);try{var z=p(),X=Z.S;if(X!==null&&X(P,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ne=L4(z,f);Mc(i,o,ne,cr(i))}else Mc(i,o,f,cr(i))}catch(se){Mc(i,o,{then:function(){},status:"rejected",reason:se},cr())}finally{ue.p=b,Z.T=x}}function q4(){}function Oy(i,o,l,f){if(i.tag!==5)throw Error(r(476));var p=BT(i).queue;UT(i,p,o,de,l===null?q4:function(){return zT(i),l(f)})}function BT(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:de},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:l},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function zT(i){var o=BT(i).next.queue;Mc(i,o,{},cr())}function Cy(){return Mn(Jc)}function qT(){return Kt().memoizedState}function $T(){return Kt().memoizedState}function $4(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var l=cr();i=$a(l);var f=Fa(o,i,l);f!==null&&(fr(f,o,l),Ic(f,o,l)),o={cache:iy()},i.payload=o;return}o=o.return}}function F4(i,o,l){var f=cr();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},hd(i)?HT(o,l):(l=Yp(i,o,l,f),l!==null&&(fr(l,i,f),KT(l,o,f)))}function FT(i,o,l){var f=cr();Mc(i,o,l,f)}function Mc(i,o,l,f){var p={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(hd(i))HT(o,p);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var x=o.lastRenderedState,P=b(x,l);if(p.hasEagerState=!0,p.eagerState=P,ar(P,x))return Wh(i,o,p,0),yt===null&&Yh(),!1}catch{}finally{}if(l=Yp(i,o,p,f),l!==null)return fr(l,i,f),KT(l,o,f),!0}return!1}function Iy(i,o,l,f){if(f={lane:2,revertLane:ov(),action:f,hasEagerState:!1,eagerState:null,next:null},hd(i)){if(o)throw Error(r(479))}else o=Yp(i,l,f,2),o!==null&&fr(o,i,2)}function hd(i){var o=i.alternate;return i===Ue||o!==null&&o===Ue}function HT(i,o){kl=sd=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function KT(i,o,l){if((l&4194048)!==0){var f=o.lanes;f&=i.pendingLanes,l|=f,o.lanes=l,rc(i,l)}}var dd={readContext:Mn,use:ld,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt},GT={readContext:Mn,use:ld,useCallback:function(i,o){return Xn().memoizedState=[i,o===void 0?null:o],i},useContext:Mn,useEffect:RT,useImperativeHandle:function(i,o,l){l=l!=null?l.concat([i]):null,fd(4194308,4,kT.bind(null,o,i),l)},useLayoutEffect:function(i,o){return fd(4194308,4,i,o)},useInsertionEffect:function(i,o){fd(4,2,i,o)},useMemo:function(i,o){var l=Xn();o=o===void 0?null:o;var f=i();if(yo){rr(!0);try{i()}finally{rr(!1)}}return l.memoizedState=[f,o],f},useReducer:function(i,o,l){var f=Xn();if(l!==void 0){var p=l(o);if(yo){rr(!0);try{l(o)}finally{rr(!1)}}}else p=o;return f.memoizedState=f.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},f.queue=i,i=i.dispatch=F4.bind(null,Ue,i),[f.memoizedState,i]},useRef:function(i){var o=Xn();return i={current:i},o.memoizedState=i},useState:function(i){i=Ty(i);var o=i.queue,l=FT.bind(null,Ue,o);return o.dispatch=l,[i.memoizedState,l]},useDebugValue:Sy,useDeferredValue:function(i,o){var l=Xn();return xy(l,i,o)},useTransition:function(){var i=Ty(!1);return i=UT.bind(null,Ue,i.queue,!0,!1),Xn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,l){var f=Ue,p=Xn();if(Je){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),yt===null)throw Error(r(349));(We&124)!==0||mT(f,o,l)}p.memoizedState=l;var b={value:l,getSnapshot:o};return p.queue=b,RT(pT.bind(null,f,b,i),[i]),f.flags|=2048,jl(9,cd(),gT.bind(null,f,b,l,o),null),l},useId:function(){var i=Xn(),o=yt.identifierPrefix;if(Je){var l=Qi,f=Xi;l=(f&~(1<<32-kn(f)-1)).toString(32)+l,o=""+o+"R"+l,l=od++,0<l&&(o+="H"+l.toString(32)),o+=""}else l=V4++,o=""+o+"r"+l.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:Cy,useFormState:ST,useActionState:ST,useOptimistic:function(i){var o=Xn();o.memoizedState=o.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Iy.bind(null,Ue,!0,l),l.dispatch=o,[i,o]},useMemoCache:_y,useCacheRefresh:function(){return Xn().memoizedState=$4.bind(null,Ue)}},YT={readContext:Mn,use:ld,useCallback:jT,useContext:Mn,useEffect:PT,useImperativeHandle:MT,useInsertionEffect:NT,useLayoutEffect:DT,useMemo:LT,useReducer:ud,useRef:IT,useState:function(){return ud(ea)},useDebugValue:Sy,useDeferredValue:function(i,o){var l=Kt();return VT(l,ut.memoizedState,i,o)},useTransition:function(){var i=ud(ea)[0],o=Kt().memoizedState;return[typeof i=="boolean"?i:Dc(i),o]},useSyncExternalStore:dT,useId:qT,useHostTransitionStatus:Cy,useFormState:xT,useActionState:xT,useOptimistic:function(i,o){var l=Kt();return bT(l,ut,i,o)},useMemoCache:_y,useCacheRefresh:$T},H4={readContext:Mn,use:ld,useCallback:jT,useContext:Mn,useEffect:PT,useImperativeHandle:MT,useInsertionEffect:NT,useLayoutEffect:DT,useMemo:LT,useReducer:Ey,useRef:IT,useState:function(){return Ey(ea)},useDebugValue:Sy,useDeferredValue:function(i,o){var l=Kt();return ut===null?xy(l,i,o):VT(l,ut.memoizedState,i,o)},useTransition:function(){var i=Ey(ea)[0],o=Kt().memoizedState;return[typeof i=="boolean"?i:Dc(i),o]},useSyncExternalStore:dT,useId:qT,useHostTransitionStatus:Cy,useFormState:CT,useActionState:CT,useOptimistic:function(i,o){var l=Kt();return ut!==null?bT(l,ut,i,o):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:_y,useCacheRefresh:$T},Ll=null,jc=0;function md(i){var o=jc;return jc+=1,Ll===null&&(Ll=[]),aT(Ll,i,o)}function Lc(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function gd(i,o){throw o.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function WT(i){var o=i._init;return o(i._payload)}function XT(i){function o(G,K){if(i){var W=G.deletions;W===null?(G.deletions=[K],G.flags|=16):W.push(K)}}function l(G,K){if(!i)return null;for(;K!==null;)o(G,K),K=K.sibling;return null}function f(G){for(var K=new Map;G!==null;)G.key!==null?K.set(G.key,G):K.set(G.index,G),G=G.sibling;return K}function p(G,K){return G=Wi(G,K),G.index=0,G.sibling=null,G}function b(G,K,W){return G.index=W,i?(W=G.alternate,W!==null?(W=W.index,W<K?(G.flags|=67108866,K):W):(G.flags|=67108866,K)):(G.flags|=1048576,K)}function x(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function P(G,K,W,ie){return K===null||K.tag!==6?(K=Xp(W,G.mode,ie),K.return=G,K):(K=p(K,W),K.return=G,K)}function z(G,K,W,ie){var ve=W.type;return ve===E?ne(G,K,W.props.children,ie,W.key):K!==null&&(K.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&WT(ve)===K.type)?(K=p(K,W.props),Lc(K,W),K.return=G,K):(K=Qh(W.type,W.key,W.props,null,G.mode,ie),Lc(K,W),K.return=G,K)}function X(G,K,W,ie){return K===null||K.tag!==4||K.stateNode.containerInfo!==W.containerInfo||K.stateNode.implementation!==W.implementation?(K=Qp(W,G.mode,ie),K.return=G,K):(K=p(K,W.children||[]),K.return=G,K)}function ne(G,K,W,ie,ve){return K===null||K.tag!==7?(K=lo(W,G.mode,ie,ve),K.return=G,K):(K=p(K,W),K.return=G,K)}function se(G,K,W){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Xp(""+K,G.mode,W),K.return=G,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return W=Qh(K.type,K.key,K.props,null,G.mode,W),Lc(W,K),W.return=G,W;case _:return K=Qp(K,G.mode,W),K.return=G,K;case R:var ie=K._init;return K=ie(K._payload),se(G,K,W)}if(Se(K)||U(K))return K=lo(K,G.mode,W,null),K.return=G,K;if(typeof K.then=="function")return se(G,md(K),W);if(K.$$typeof===D)return se(G,td(G,K),W);gd(G,K)}return null}function Q(G,K,W,ie){var ve=K!==null?K.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ve!==null?null:P(G,K,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return W.key===ve?z(G,K,W,ie):null;case _:return W.key===ve?X(G,K,W,ie):null;case R:return ve=W._init,W=ve(W._payload),Q(G,K,W,ie)}if(Se(W)||U(W))return ve!==null?null:ne(G,K,W,ie,null);if(typeof W.then=="function")return Q(G,K,md(W),ie);if(W.$$typeof===D)return Q(G,K,td(G,W),ie);gd(G,W)}return null}function J(G,K,W,ie,ve){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(W)||null,P(K,G,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return G=G.get(ie.key===null?W:ie.key)||null,z(K,G,ie,ve);case _:return G=G.get(ie.key===null?W:ie.key)||null,X(K,G,ie,ve);case R:var Be=ie._init;return ie=Be(ie._payload),J(G,K,W,ie,ve)}if(Se(ie)||U(ie))return G=G.get(W)||null,ne(K,G,ie,ve,null);if(typeof ie.then=="function")return J(G,K,W,md(ie),ve);if(ie.$$typeof===D)return J(G,K,W,td(K,ie),ve);gd(K,ie)}return null}function De(G,K,W,ie){for(var ve=null,Be=null,we=K,Ie=K=0,yn=null;we!==null&&Ie<W.length;Ie++){we.index>Ie?(yn=we,we=null):yn=we.sibling;var Qe=Q(G,we,W[Ie],ie);if(Qe===null){we===null&&(we=yn);break}i&&we&&Qe.alternate===null&&o(G,we),K=b(Qe,K,Ie),Be===null?ve=Qe:Be.sibling=Qe,Be=Qe,we=yn}if(Ie===W.length)return l(G,we),Je&&co(G,Ie),ve;if(we===null){for(;Ie<W.length;Ie++)we=se(G,W[Ie],ie),we!==null&&(K=b(we,K,Ie),Be===null?ve=we:Be.sibling=we,Be=we);return Je&&co(G,Ie),ve}for(we=f(we);Ie<W.length;Ie++)yn=J(we,G,Ie,W[Ie],ie),yn!==null&&(i&&yn.alternate!==null&&we.delete(yn.key===null?Ie:yn.key),K=b(yn,K,Ie),Be===null?ve=yn:Be.sibling=yn,Be=yn);return i&&we.forEach(function(os){return o(G,os)}),Je&&co(G,Ie),ve}function Oe(G,K,W,ie){if(W==null)throw Error(r(151));for(var ve=null,Be=null,we=K,Ie=K=0,yn=null,Qe=W.next();we!==null&&!Qe.done;Ie++,Qe=W.next()){we.index>Ie?(yn=we,we=null):yn=we.sibling;var os=Q(G,we,Qe.value,ie);if(os===null){we===null&&(we=yn);break}i&&we&&os.alternate===null&&o(G,we),K=b(os,K,Ie),Be===null?ve=os:Be.sibling=os,Be=os,we=yn}if(Qe.done)return l(G,we),Je&&co(G,Ie),ve;if(we===null){for(;!Qe.done;Ie++,Qe=W.next())Qe=se(G,Qe.value,ie),Qe!==null&&(K=b(Qe,K,Ie),Be===null?ve=Qe:Be.sibling=Qe,Be=Qe);return Je&&co(G,Ie),ve}for(we=f(we);!Qe.done;Ie++,Qe=W.next())Qe=J(we,G,Ie,Qe.value,ie),Qe!==null&&(i&&Qe.alternate!==null&&we.delete(Qe.key===null?Ie:Qe.key),K=b(Qe,K,Ie),Be===null?ve=Qe:Be.sibling=Qe,Be=Qe);return i&&we.forEach(function(K3){return o(G,K3)}),Je&&co(G,Ie),ve}function ft(G,K,W,ie){if(typeof W=="object"&&W!==null&&W.type===E&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case v:e:{for(var ve=W.key;K!==null;){if(K.key===ve){if(ve=W.type,ve===E){if(K.tag===7){l(G,K.sibling),ie=p(K,W.props.children),ie.return=G,G=ie;break e}}else if(K.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&WT(ve)===K.type){l(G,K.sibling),ie=p(K,W.props),Lc(ie,W),ie.return=G,G=ie;break e}l(G,K);break}else o(G,K);K=K.sibling}W.type===E?(ie=lo(W.props.children,G.mode,ie,W.key),ie.return=G,G=ie):(ie=Qh(W.type,W.key,W.props,null,G.mode,ie),Lc(ie,W),ie.return=G,G=ie)}return x(G);case _:e:{for(ve=W.key;K!==null;){if(K.key===ve)if(K.tag===4&&K.stateNode.containerInfo===W.containerInfo&&K.stateNode.implementation===W.implementation){l(G,K.sibling),ie=p(K,W.children||[]),ie.return=G,G=ie;break e}else{l(G,K);break}else o(G,K);K=K.sibling}ie=Qp(W,G.mode,ie),ie.return=G,G=ie}return x(G);case R:return ve=W._init,W=ve(W._payload),ft(G,K,W,ie)}if(Se(W))return De(G,K,W,ie);if(U(W)){if(ve=U(W),typeof ve!="function")throw Error(r(150));return W=ve.call(W),Oe(G,K,W,ie)}if(typeof W.then=="function")return ft(G,K,md(W),ie);if(W.$$typeof===D)return ft(G,K,td(G,W),ie);gd(G,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,K!==null&&K.tag===6?(l(G,K.sibling),ie=p(K,W),ie.return=G,G=ie):(l(G,K),ie=Xp(W,G.mode,ie),ie.return=G,G=ie),x(G)):l(G,K)}return function(G,K,W,ie){try{jc=0;var ve=ft(G,K,W,ie);return Ll=null,ve}catch(we){if(we===Oc||we===rd)throw we;var Be=sr(29,we,null,G.mode);return Be.lanes=ie,Be.return=G,Be}finally{}}}var Vl=XT(!0),QT=XT(!1),Nr=ae(null),vi=null;function Ka(i){var o=i.alternate;ce(on,on.current&1),ce(Nr,i),vi===null&&(o===null||Dl.current!==null||o.memoizedState!==null)&&(vi=i)}function ZT(i){if(i.tag===22){if(ce(on,on.current),ce(Nr,i),vi===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(vi=i)}}else Ga()}function Ga(){ce(on,on.current),ce(Nr,Nr.current)}function ta(i){re(Nr),vi===i&&(vi=null),re(on)}var on=ae(0);function pd(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||bv(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Ry(i,o,l,f){o=i.memoizedState,l=l(f,o),l=l==null?o:m({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Py={enqueueSetState:function(i,o,l){i=i._reactInternals;var f=cr(),p=$a(f);p.payload=o,l!=null&&(p.callback=l),o=Fa(i,p,f),o!==null&&(fr(o,i,f),Ic(o,i,f))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var f=cr(),p=$a(f);p.tag=1,p.payload=o,l!=null&&(p.callback=l),o=Fa(i,p,f),o!==null&&(fr(o,i,f),Ic(o,i,f))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=cr(),f=$a(l);f.tag=2,o!=null&&(f.callback=o),o=Fa(i,f,l),o!==null&&(fr(o,i,l),Ic(o,i,l))}};function JT(i,o,l,f,p,b,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,b,x):o.prototype&&o.prototype.isPureReactComponent?!bc(l,f)||!bc(p,b):!0}function eA(i,o,l,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,f),o.state!==i&&Py.enqueueReplaceState(o,o.state,null)}function vo(i,o){var l=o;if("ref"in o){l={};for(var f in o)f!=="ref"&&(l[f]=o[f])}if(i=i.defaultProps){l===o&&(l=m({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var yd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function tA(i){yd(i)}function nA(i){console.error(i)}function rA(i){yd(i)}function vd(i,o){try{var l=i.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function iA(i,o,l){try{var f=i.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ny(i,o,l){return l=$a(l),l.tag=3,l.payload={element:null},l.callback=function(){vd(i,o)},l}function aA(i){return i=$a(i),i.tag=3,i}function sA(i,o,l,f){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var b=f.value;i.payload=function(){return p(b)},i.callback=function(){iA(o,l,f)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){iA(o,l,f),typeof p!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var P=f.stack;this.componentDidCatch(f.value,{componentStack:P!==null?P:""})})}function K4(i,o,l,f,p){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=l.alternate,o!==null&&Ac(o,l,p,!0),l=Nr.current,l!==null){switch(l.tag){case 13:return vi===null?nv():l.alternate===null&&Rt===0&&(Rt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,f===oy?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([f]):o.add(f),iv(i,f,p)),!1;case 22:return l.flags|=65536,f===oy?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([f]):l.add(f)),iv(i,f,p)),!1}throw Error(r(435,l.tag))}return iv(i,f,p),nv(),!1}if(Je)return o=Nr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,f!==ey&&(i=Error(r(422),{cause:f}),Tc(Cr(i,l)))):(f!==ey&&(o=Error(r(423),{cause:f}),Tc(Cr(o,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,f=Cr(f,l),p=Ny(i.stateNode,f,p),cy(i,p),Rt!==4&&(Rt=2)),!1;var b=Error(r(520),{cause:f});if(b=Cr(b,l),Fc===null?Fc=[b]:Fc.push(b),Rt!==4&&(Rt=2),o===null)return!0;f=Cr(f,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Ny(l.stateNode,f,i),cy(l,i),!1;case 1:if(o=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ja===null||!Ja.has(b))))return l.flags|=65536,p&=-p,l.lanes|=p,p=aA(p),sA(p,i,l,f),cy(l,p),!1}l=l.return}while(l!==null);return!1}var oA=Error(r(461)),gn=!1;function An(i,o,l,f){o.child=i===null?QT(o,null,l,f):Vl(o,i.child,l,f)}function lA(i,o,l,f,p){l=l.render;var b=o.ref;if("ref"in f){var x={};for(var P in f)P!=="ref"&&(x[P]=f[P])}else x=f;return go(o),f=gy(i,o,l,x,b,p),P=py(),i!==null&&!gn?(yy(i,o,p),na(i,o,p)):(Je&&P&&Zp(o),o.flags|=1,An(i,o,f,p),o.child)}function uA(i,o,l,f,p){if(i===null){var b=l.type;return typeof b=="function"&&!Wp(b)&&b.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=b,cA(i,o,b,f,p)):(i=Qh(l.type,null,f,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,!By(i,p)){var x=b.memoizedProps;if(l=l.compare,l=l!==null?l:bc,l(x,f)&&i.ref===o.ref)return na(i,o,p)}return o.flags|=1,i=Wi(b,f),i.ref=o.ref,i.return=o,o.child=i}function cA(i,o,l,f,p){if(i!==null){var b=i.memoizedProps;if(bc(b,f)&&i.ref===o.ref)if(gn=!1,o.pendingProps=f=b,By(i,p))(i.flags&131072)!==0&&(gn=!0);else return o.lanes=i.lanes,na(i,o,p)}return Dy(i,o,l,f,p)}function fA(i,o,l){var f=o.pendingProps,p=f.children,b=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=b!==null?b.baseLanes|l:l,i!==null){for(p=o.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;o.childLanes=b&~f}else o.childLanes=0,o.child=null;return hA(i,o,f,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&nd(o,b!==null?b.cachePool:null),b!==null?cT(o,b):hy(),ZT(o);else return o.lanes=o.childLanes=536870912,hA(i,o,b!==null?b.baseLanes|l:l,l)}else b!==null?(nd(o,b.cachePool),cT(o,b),Ga(),o.memoizedState=null):(i!==null&&nd(o,null),hy(),Ga());return An(i,o,p,l),o.child}function hA(i,o,l,f){var p=sy();return p=p===null?null:{parent:sn._currentValue,pool:p},o.memoizedState={baseLanes:l,cachePool:p},i!==null&&nd(o,null),hy(),ZT(o),i!==null&&Ac(i,o,f,!0),null}function bd(i,o){var l=o.ref;if(l===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(o.flags|=4194816)}}function Dy(i,o,l,f,p){return go(o),l=gy(i,o,l,f,void 0,p),f=py(),i!==null&&!gn?(yy(i,o,p),na(i,o,p)):(Je&&f&&Zp(o),o.flags|=1,An(i,o,l,p),o.child)}function dA(i,o,l,f,p,b){return go(o),o.updateQueue=null,l=hT(o,f,l,p),fT(i),f=py(),i!==null&&!gn?(yy(i,o,b),na(i,o,b)):(Je&&f&&Zp(o),o.flags|=1,An(i,o,l,b),o.child)}function mA(i,o,l,f,p){if(go(o),o.stateNode===null){var b=Cl,x=l.contextType;typeof x=="object"&&x!==null&&(b=Mn(x)),b=new l(f,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Py,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=f,b.state=o.memoizedState,b.refs={},ly(o),x=l.contextType,b.context=typeof x=="object"&&x!==null?Mn(x):Cl,b.state=o.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Ry(o,l,x,f),b.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(x=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),x!==b.state&&Py.enqueueReplaceState(b,b.state,null),Pc(o,f,b,p),Rc(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(i===null){b=o.stateNode;var P=o.memoizedProps,z=vo(l,P);b.props=z;var X=b.context,ne=l.contextType;x=Cl,typeof ne=="object"&&ne!==null&&(x=Mn(ne));var se=l.getDerivedStateFromProps;ne=typeof se=="function"||typeof b.getSnapshotBeforeUpdate=="function",P=o.pendingProps!==P,ne||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P||X!==x)&&eA(o,b,f,x),qa=!1;var Q=o.memoizedState;b.state=Q,Pc(o,f,b,p),Rc(),X=o.memoizedState,P||Q!==X||qa?(typeof se=="function"&&(Ry(o,l,se,f),X=o.memoizedState),(z=qa||JT(o,l,z,f,Q,X,x))?(ne||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=X),b.props=f,b.state=X,b.context=x,f=z):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,uy(i,o),x=o.memoizedProps,ne=vo(l,x),b.props=ne,se=o.pendingProps,Q=b.context,X=l.contextType,z=Cl,typeof X=="object"&&X!==null&&(z=Mn(X)),P=l.getDerivedStateFromProps,(X=typeof P=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(x!==se||Q!==z)&&eA(o,b,f,z),qa=!1,Q=o.memoizedState,b.state=Q,Pc(o,f,b,p),Rc();var J=o.memoizedState;x!==se||Q!==J||qa||i!==null&&i.dependencies!==null&&ed(i.dependencies)?(typeof P=="function"&&(Ry(o,l,P,f),J=o.memoizedState),(ne=qa||JT(o,l,ne,f,Q,J,z)||i!==null&&i.dependencies!==null&&ed(i.dependencies))?(X||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,J,z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,J,z)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=J),b.props=f,b.state=J,b.context=z,f=ne):(typeof b.componentDidUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(o.flags|=1024),f=!1)}return b=f,bd(i,o),f=(o.flags&128)!==0,b||f?(b=o.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,i!==null&&f?(o.child=Vl(o,i.child,null,p),o.child=Vl(o,null,l,p)):An(i,o,l,p),o.memoizedState=b.state,i=o.child):i=na(i,o,p),i}function gA(i,o,l,f){return Ec(),o.flags|=256,An(i,o,l,f),o.child}var ky={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function My(i){return{baseLanes:i,cachePool:nT()}}function jy(i,o,l){return i=i!==null?i.childLanes&~l:0,o&&(i|=Dr),i}function pA(i,o,l){var f=o.pendingProps,p=!1,b=(o.flags&128)!==0,x;if((x=b)||(x=i!==null&&i.memoizedState===null?!1:(on.current&2)!==0),x&&(p=!0,o.flags&=-129),x=(o.flags&32)!==0,o.flags&=-33,i===null){if(Je){if(p?Ka(o):Ga(),Je){var P=It,z;if(z=P){e:{for(z=P,P=yi;z.nodeType!==8;){if(!P){P=null;break e}if(z=Jr(z.nextSibling),z===null){P=null;break e}}P=z}P!==null?(o.memoizedState={dehydrated:P,treeContext:uo!==null?{id:Xi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},z=sr(18,null,null,0),z.stateNode=P,z.return=o,o.child=z,Kn=o,It=null,z=!0):z=!1}z||ho(o)}if(P=o.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return bv(P)?o.lanes=32:o.lanes=536870912,null;ta(o)}return P=f.children,f=f.fallback,p?(Ga(),p=o.mode,P=_d({mode:"hidden",children:P},p),f=lo(f,p,l,null),P.return=o,f.return=o,P.sibling=f,o.child=P,p=o.child,p.memoizedState=My(l),p.childLanes=jy(i,x,l),o.memoizedState=ky,f):(Ka(o),Ly(o,P))}if(z=i.memoizedState,z!==null&&(P=z.dehydrated,P!==null)){if(b)o.flags&256?(Ka(o),o.flags&=-257,o=Vy(i,o,l)):o.memoizedState!==null?(Ga(),o.child=i.child,o.flags|=128,o=null):(Ga(),p=f.fallback,P=o.mode,f=_d({mode:"visible",children:f.children},P),p=lo(p,P,l,null),p.flags|=2,f.return=o,p.return=o,f.sibling=p,o.child=f,Vl(o,i.child,null,l),f=o.child,f.memoizedState=My(l),f.childLanes=jy(i,x,l),o.memoizedState=ky,o=p);else if(Ka(o),bv(P)){if(x=P.nextSibling&&P.nextSibling.dataset,x)var X=x.dgst;x=X,f=Error(r(419)),f.stack="",f.digest=x,Tc({value:f,source:null,stack:null}),o=Vy(i,o,l)}else if(gn||Ac(i,o,l,!1),x=(l&i.childLanes)!==0,gn||x){if(x=yt,x!==null&&(f=l&-l,f=(f&42)!==0?1:ka(f),f=(f&(x.suspendedLanes|l))!==0?0:f,f!==0&&f!==z.retryLane))throw z.retryLane=f,Ol(i,f),fr(x,i,f),oA;P.data==="$?"||nv(),o=Vy(i,o,l)}else P.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=z.treeContext,It=Jr(P.nextSibling),Kn=o,Je=!0,fo=null,yi=!1,i!==null&&(Rr[Pr++]=Xi,Rr[Pr++]=Qi,Rr[Pr++]=uo,Xi=i.id,Qi=i.overflow,uo=o),o=Ly(o,f.children),o.flags|=4096);return o}return p?(Ga(),p=f.fallback,P=o.mode,z=i.child,X=z.sibling,f=Wi(z,{mode:"hidden",children:f.children}),f.subtreeFlags=z.subtreeFlags&65011712,X!==null?p=Wi(X,p):(p=lo(p,P,l,null),p.flags|=2),p.return=o,f.return=o,f.sibling=p,o.child=f,f=p,p=o.child,P=i.child.memoizedState,P===null?P=My(l):(z=P.cachePool,z!==null?(X=sn._currentValue,z=z.parent!==X?{parent:X,pool:X}:z):z=nT(),P={baseLanes:P.baseLanes|l,cachePool:z}),p.memoizedState=P,p.childLanes=jy(i,x,l),o.memoizedState=ky,f):(Ka(o),l=i.child,i=l.sibling,l=Wi(l,{mode:"visible",children:f.children}),l.return=o,l.sibling=null,i!==null&&(x=o.deletions,x===null?(o.deletions=[i],o.flags|=16):x.push(i)),o.child=l,o.memoizedState=null,l)}function Ly(i,o){return o=_d({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function _d(i,o){return i=sr(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Vy(i,o,l){return Vl(o,i.child,null,l),i=Ly(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function yA(i,o,l){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),ny(i.return,o,l)}function Uy(i,o,l,f,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:p}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=l,b.tailMode=p)}function vA(i,o,l){var f=o.pendingProps,p=f.revealOrder,b=f.tail;if(An(i,o,f.children,l),f=on.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&yA(i,l,o);else if(i.tag===19)yA(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(ce(on,f),p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&pd(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),Uy(o,!1,p,l,b);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&pd(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Uy(o,!0,l,null,b);break;case"together":Uy(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function na(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Za|=o.lanes,(l&o.childLanes)===0)if(i!==null){if(Ac(i,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,l=Wi(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Wi(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function By(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&ed(i)))}function G4(i,o,l){switch(o.tag){case 3:ot(o,o.stateNode.containerInfo),za(o,sn,i.memoizedState.cache),Ec();break;case 27:case 5:ke(o);break;case 4:ot(o,o.stateNode.containerInfo);break;case 10:za(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Ka(o),o.flags|=128,null):(l&o.child.childLanes)!==0?pA(i,o,l):(Ka(o),i=na(i,o,l),i!==null?i.sibling:null);Ka(o);break;case 19:var p=(i.flags&128)!==0;if(f=(l&o.childLanes)!==0,f||(Ac(i,o,l,!1),f=(l&o.childLanes)!==0),p){if(f)return vA(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ce(on,on.current),f)break;return null;case 22:case 23:return o.lanes=0,fA(i,o,l);case 24:za(o,sn,i.memoizedState.cache)}return na(i,o,l)}function bA(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps)gn=!0;else{if(!By(i,l)&&(o.flags&128)===0)return gn=!1,G4(i,o,l);gn=(i.flags&131072)!==0}else gn=!1,Je&&(o.flags&1048576)!==0&&WE(o,Jh,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var f=o.elementType,p=f._init;if(f=p(f._payload),o.type=f,typeof f=="function")Wp(f)?(i=vo(f,i),o.tag=1,o=mA(null,o,f,i,l)):(o.tag=0,o=Dy(null,o,f,i,l));else{if(f!=null){if(p=f.$$typeof,p===F){o.tag=11,o=lA(null,o,f,i,l);break e}else if(p===N){o.tag=14,o=uA(null,o,f,i,l);break e}}throw o=_e(f)||f,Error(r(306,o,""))}}return o;case 0:return Dy(i,o,o.type,o.pendingProps,l);case 1:return f=o.type,p=vo(f,o.pendingProps),mA(i,o,f,p,l);case 3:e:{if(ot(o,o.stateNode.containerInfo),i===null)throw Error(r(387));f=o.pendingProps;var b=o.memoizedState;p=b.element,uy(i,o),Pc(o,f,null,l);var x=o.memoizedState;if(f=x.cache,za(o,sn,f),f!==b.cache&&ry(o,[sn],l,!0),Rc(),f=x.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:x.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=gA(i,o,f,l);break e}else if(f!==p){p=Cr(Error(r(424)),o),Tc(p),o=gA(i,o,f,l);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(It=Jr(i.firstChild),Kn=o,Je=!0,fo=null,yi=!0,l=QT(o,null,f,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ec(),f===p){o=na(i,o,l);break e}An(i,o,f,l)}o=o.child}return o;case 26:return bd(i,o),i===null?(l=TS(o.type,null,o.pendingProps,null))?o.memoizedState=l:Je||(l=o.type,i=o.pendingProps,f=kd(Ne.current).createElement(l),f[nn]=o,f[$t]=i,xn(f,l,i),kt(f),o.stateNode=f):o.memoizedState=TS(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return ke(o),i===null&&Je&&(f=o.stateNode=_S(o.type,o.pendingProps,Ne.current),Kn=o,yi=!0,p=It,ns(o.type)?(_v=p,It=Jr(f.firstChild)):It=p),An(i,o,o.pendingProps.children,l),bd(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Je&&((p=f=It)&&(f=w3(f,o.type,o.pendingProps,yi),f!==null?(o.stateNode=f,Kn=o,It=Jr(f.firstChild),yi=!1,p=!0):p=!1),p||ho(o)),ke(o),p=o.type,b=o.pendingProps,x=i!==null?i.memoizedProps:null,f=b.children,pv(p,b)?f=null:x!==null&&pv(p,x)&&(o.flags|=32),o.memoizedState!==null&&(p=gy(i,o,U4,null,null,l),Jc._currentValue=p),bd(i,o),An(i,o,f,l),o.child;case 6:return i===null&&Je&&((i=l=It)&&(l=E3(l,o.pendingProps,yi),l!==null?(o.stateNode=l,Kn=o,It=null,i=!0):i=!1),i||ho(o)),null;case 13:return pA(i,o,l);case 4:return ot(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Vl(o,null,f,l):An(i,o,f,l),o.child;case 11:return lA(i,o,o.type,o.pendingProps,l);case 7:return An(i,o,o.pendingProps,l),o.child;case 8:return An(i,o,o.pendingProps.children,l),o.child;case 12:return An(i,o,o.pendingProps.children,l),o.child;case 10:return f=o.pendingProps,za(o,o.type,f.value),An(i,o,f.children,l),o.child;case 9:return p=o.type._context,f=o.pendingProps.children,go(o),p=Mn(p),f=f(p),o.flags|=1,An(i,o,f,l),o.child;case 14:return uA(i,o,o.type,o.pendingProps,l);case 15:return cA(i,o,o.type,o.pendingProps,l);case 19:return vA(i,o,l);case 31:return f=o.pendingProps,l=o.mode,f={mode:f.mode,children:f.children},i===null?(l=_d(f,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=Wi(i.child,f),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return fA(i,o,l);case 24:return go(o),f=Mn(sn),i===null?(p=sy(),p===null&&(p=yt,b=iy(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=l),p=b),o.memoizedState={parent:f,cache:p},ly(o),za(o,sn,p)):((i.lanes&l)!==0&&(uy(i,o),Pc(o,null,null,l),Rc()),p=i.memoizedState,b=o.memoizedState,p.parent!==f?(p={parent:f,cache:f},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),za(o,sn,f)):(f=b.cache,za(o,sn,f),f!==p.cache&&ry(o,[sn],l,!0))),An(i,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ra(i){i.flags|=4}function _A(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!CS(o)){if(o=Nr.current,o!==null&&((We&4194048)===We?vi!==null:(We&62914560)!==We&&(We&536870912)===0||o!==vi))throw Cc=oy,rT;i.flags|=8192}}function wd(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?tc():536870912,i.lanes|=o,ql|=o)}function Vc(i,o){if(!Je)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function St(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=f,i.childLanes=l,o}function Y4(i,o,l){var f=o.pendingProps;switch(Jp(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(o),null;case 1:return St(o),null;case 3:return l=o.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Ji(sn),me(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(wc(o)?ra(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ZE())),St(o),null;case 26:return l=o.memoizedState,i===null?(ra(o),l!==null?(St(o),_A(o,l)):(St(o),o.flags&=-16777217)):l?l!==i.memoizedState?(ra(o),St(o),_A(o,l)):(St(o),o.flags&=-16777217):(i.memoizedProps!==f&&ra(o),St(o),o.flags&=-16777217),null;case 27:Le(o),l=Ne.current;var p=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==f&&ra(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return St(o),null}i=be.current,wc(o)?XE(o):(i=_S(p,f,l),o.stateNode=i,ra(o))}return St(o),null;case 5:if(Le(o),l=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==f&&ra(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return St(o),null}if(i=be.current,wc(o))XE(o);else{switch(p=kd(Ne.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?p.createElement(l,{is:f.is}):p.createElement(l)}}i[nn]=o,i[$t]=f;e:for(p=o.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===o)break e;for(;p.sibling===null;){if(p.return===null||p.return===o)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}o.stateNode=i;e:switch(xn(i,l,f),l){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ra(o)}}return St(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==f&&ra(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(i=Ne.current,wc(o)){if(i=o.stateNode,l=o.memoizedProps,f=null,p=Kn,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}i[nn]=o,i=!!(i.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||dS(i.nodeValue,l)),i||ho(o)}else i=kd(i).createTextNode(f),i[nn]=o,o.stateNode=i}return St(o),null;case 13:if(f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=wc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[nn]=o}else Ec(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;St(o),p=!1}else p=ZE(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return o.flags&256?(ta(o),o):(ta(o),null)}if(ta(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=f!==null,i=i!==null&&i.memoizedState!==null,l){f=o.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==p&&(f.flags|=2048)}return l!==i&&l&&(o.child.flags|=8192),wd(o,o.updateQueue),St(o),null;case 4:return me(),i===null&&fv(o.stateNode.containerInfo),St(o),null;case 10:return Ji(o.type),St(o),null;case 19:if(re(on),p=o.memoizedState,p===null)return St(o),null;if(f=(o.flags&128)!==0,b=p.rendering,b===null)if(f)Vc(p,!1);else{if(Rt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(b=pd(i),b!==null){for(o.flags|=128,Vc(p,!1),i=b.updateQueue,o.updateQueue=i,wd(o,i),o.subtreeFlags=0,i=l,l=o.child;l!==null;)YE(l,i),l=l.sibling;return ce(on,on.current&1|2),o.child}i=i.sibling}p.tail!==null&&qt()>Ad&&(o.flags|=128,f=!0,Vc(p,!1),o.lanes=4194304)}else{if(!f)if(i=pd(b),i!==null){if(o.flags|=128,f=!0,i=i.updateQueue,o.updateQueue=i,wd(o,i),Vc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!Je)return St(o),null}else 2*qt()-p.renderingStartTime>Ad&&l!==536870912&&(o.flags|=128,f=!0,Vc(p,!1),o.lanes=4194304);p.isBackwards?(b.sibling=o.child,o.child=b):(i=p.last,i!==null?i.sibling=b:o.child=b,p.last=b)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=qt(),o.sibling=null,i=on.current,ce(on,f?i&1|2:i&1),o):(St(o),null);case 22:case 23:return ta(o),dy(),f=o.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(l&536870912)!==0&&(o.flags&128)===0&&(St(o),o.subtreeFlags&6&&(o.flags|=8192)):St(o),l=o.updateQueue,l!==null&&wd(o,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==l&&(o.flags|=2048),i!==null&&re(po),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Ji(sn),St(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function W4(i,o){switch(Jp(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ji(sn),me(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Le(o),null;case 13:if(ta(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ec()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return re(on),null;case 4:return me(),null;case 10:return Ji(o.type),null;case 22:case 23:return ta(o),dy(),i!==null&&re(po),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ji(sn),null;case 25:return null;default:return null}}function wA(i,o){switch(Jp(o),o.tag){case 3:Ji(sn),me();break;case 26:case 27:case 5:Le(o);break;case 4:me();break;case 13:ta(o);break;case 19:re(on);break;case 10:Ji(o.type);break;case 22:case 23:ta(o),dy(),i!==null&&re(po);break;case 24:Ji(sn)}}function Uc(i,o){try{var l=o.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&i)===i){f=void 0;var b=l.create,x=l.inst;f=b(),x.destroy=f}l=l.next}while(l!==p)}}catch(P){gt(o,o.return,P)}}function Ya(i,o,l){try{var f=o.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var b=p.next;f=b;do{if((f.tag&i)===i){var x=f.inst,P=x.destroy;if(P!==void 0){x.destroy=void 0,p=o;var z=l,X=P;try{X()}catch(ne){gt(p,z,ne)}}}f=f.next}while(f!==b)}}catch(ne){gt(o,o.return,ne)}}function EA(i){var o=i.updateQueue;if(o!==null){var l=i.stateNode;try{uT(o,l)}catch(f){gt(i,i.return,f)}}}function TA(i,o,l){l.props=vo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(f){gt(i,o,f)}}function Bc(i,o){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof l=="function"?i.refCleanup=l(f):l.current=f}}catch(p){gt(i,o,p)}}function bi(i,o){var l=i.ref,f=i.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(p){gt(i,o,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){gt(i,o,p)}else l.current=null}function AA(i){var o=i.type,l=i.memoizedProps,f=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(p){gt(i,i.return,p)}}function zy(i,o,l){try{var f=i.stateNode;p3(f,i.type,l,o),f[$t]=o}catch(p){gt(i,i.return,p)}}function SA(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ns(i.type)||i.tag===4}function qy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||SA(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ns(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $y(i,o,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(i),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Dd));else if(f!==4&&(f===27&&ns(i.type)&&(l=i.stateNode,o=null),i=i.child,i!==null))for($y(i,o,l),i=i.sibling;i!==null;)$y(i,o,l),i=i.sibling}function Ed(i,o,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(f!==4&&(f===27&&ns(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Ed(i,o,l),i=i.sibling;i!==null;)Ed(i,o,l),i=i.sibling}function xA(i){var o=i.stateNode,l=i.memoizedProps;try{for(var f=i.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);xn(o,f,l),o[nn]=i,o[$t]=l}catch(b){gt(i,i.return,b)}}var ia=!1,jt=!1,Fy=!1,OA=typeof WeakSet=="function"?WeakSet:Set,pn=null;function X4(i,o){if(i=i.containerInfo,mv=Bd,i=VE(i),qp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var p=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var x=0,P=-1,z=-1,X=0,ne=0,se=i,Q=null;t:for(;;){for(var J;se!==l||p!==0&&se.nodeType!==3||(P=x+p),se!==b||f!==0&&se.nodeType!==3||(z=x+f),se.nodeType===3&&(x+=se.nodeValue.length),(J=se.firstChild)!==null;)Q=se,se=J;for(;;){if(se===i)break t;if(Q===l&&++X===p&&(P=x),Q===b&&++ne===f&&(z=x),(J=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=J}l=P===-1||z===-1?null:{start:P,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(gv={focusedElem:i,selectionRange:l},Bd=!1,pn=o;pn!==null;)if(o=pn,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,pn=i;else for(;pn!==null;){switch(o=pn,b=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=o,p=b.memoizedProps,b=b.memoizedState,f=l.stateNode;try{var De=vo(l.type,p,l.elementType===l.type);i=f.getSnapshotBeforeUpdate(De,b),f.__reactInternalSnapshotBeforeUpdate=i}catch(Oe){gt(l,l.return,Oe)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,l=i.nodeType,l===9)vv(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,pn=i;break}pn=o.return}}function CA(i,o,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Wa(i,l),f&4&&Uc(5,l);break;case 1:if(Wa(i,l),f&4)if(i=l.stateNode,o===null)try{i.componentDidMount()}catch(x){gt(l,l.return,x)}else{var p=vo(l.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(p,o,i.__reactInternalSnapshotBeforeUpdate)}catch(x){gt(l,l.return,x)}}f&64&&EA(l),f&512&&Bc(l,l.return);break;case 3:if(Wa(i,l),f&64&&(i=l.updateQueue,i!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{uT(i,o)}catch(x){gt(l,l.return,x)}}break;case 27:o===null&&f&4&&xA(l);case 26:case 5:Wa(i,l),o===null&&f&4&&AA(l),f&512&&Bc(l,l.return);break;case 12:Wa(i,l);break;case 13:Wa(i,l),f&4&&PA(i,l),f&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=a3.bind(null,l),T3(i,l))));break;case 22:if(f=l.memoizedState!==null||ia,!f){o=o!==null&&o.memoizedState!==null||jt,p=ia;var b=jt;ia=f,(jt=o)&&!b?Xa(i,l,(l.subtreeFlags&8772)!==0):Wa(i,l),ia=p,jt=b}break;case 30:break;default:Wa(i,l)}}function IA(i){var o=i.alternate;o!==null&&(i.alternate=null,IA(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&La(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Tt=null,Qn=!1;function aa(i,o,l){for(l=l.child;l!==null;)RA(i,o,l),l=l.sibling}function RA(i,o,l){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Ct,l)}catch{}switch(l.tag){case 26:jt||bi(l,o),aa(i,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:jt||bi(l,o);var f=Tt,p=Qn;ns(l.type)&&(Tt=l.stateNode,Qn=!1),aa(i,o,l),Wc(l.stateNode),Tt=f,Qn=p;break;case 5:jt||bi(l,o);case 6:if(f=Tt,p=Qn,Tt=null,aa(i,o,l),Tt=f,Qn=p,Tt!==null)if(Qn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(l.stateNode)}catch(b){gt(l,o,b)}else try{Tt.removeChild(l.stateNode)}catch(b){gt(l,o,b)}break;case 18:Tt!==null&&(Qn?(i=Tt,vS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),rf(i)):vS(Tt,l.stateNode));break;case 4:f=Tt,p=Qn,Tt=l.stateNode.containerInfo,Qn=!0,aa(i,o,l),Tt=f,Qn=p;break;case 0:case 11:case 14:case 15:jt||Ya(2,l,o),jt||Ya(4,l,o),aa(i,o,l);break;case 1:jt||(bi(l,o),f=l.stateNode,typeof f.componentWillUnmount=="function"&&TA(l,o,f)),aa(i,o,l);break;case 21:aa(i,o,l);break;case 22:jt=(f=jt)||l.memoizedState!==null,aa(i,o,l),jt=f;break;default:aa(i,o,l)}}function PA(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{rf(i)}catch(l){gt(o,o.return,l)}}function Q4(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new OA),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new OA),o;default:throw Error(r(435,i.tag))}}function Hy(i,o){var l=Q4(i);o.forEach(function(f){var p=s3.bind(null,i,f);l.has(f)||(l.add(f),f.then(p,p))})}function or(i,o){var l=o.deletions;if(l!==null)for(var f=0;f<l.length;f++){var p=l[f],b=i,x=o,P=x;e:for(;P!==null;){switch(P.tag){case 27:if(ns(P.type)){Tt=P.stateNode,Qn=!1;break e}break;case 5:Tt=P.stateNode,Qn=!1;break e;case 3:case 4:Tt=P.stateNode.containerInfo,Qn=!0;break e}P=P.return}if(Tt===null)throw Error(r(160));RA(b,x,p),Tt=null,Qn=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)NA(o,i),o=o.sibling}var Zr=null;function NA(i,o){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:or(o,i),lr(i),f&4&&(Ya(3,i,i.return),Uc(3,i),Ya(5,i,i.return));break;case 1:or(o,i),lr(i),f&512&&(jt||l===null||bi(l,l.return)),f&64&&ia&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var p=Zr;if(or(o,i),lr(i),f&512&&(jt||l===null||bi(l,l.return)),f&4){var b=l!==null?l.memoizedState:null;if(f=i.memoizedState,l===null)if(f===null)if(i.stateNode===null){e:{f=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":b=p.getElementsByTagName("title")[0],(!b||b[Ks]||b[nn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(f),p.head.insertBefore(b,p.querySelector("head > title"))),xn(b,f,l),b[nn]=i,kt(b),f=b;break e;case"link":var x=xS("link","href",p).get(f+(l.href||""));if(x){for(var P=0;P<x.length;P++)if(b=x[P],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(P,1);break t}}b=p.createElement(f),xn(b,f,l),p.head.appendChild(b);break;case"meta":if(x=xS("meta","content",p).get(f+(l.content||""))){for(P=0;P<x.length;P++)if(b=x[P],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(P,1);break t}}b=p.createElement(f),xn(b,f,l),p.head.appendChild(b);break;default:throw Error(r(468,f))}b[nn]=i,kt(b),f=b}i.stateNode=f}else OS(p,i.type,i.stateNode);else i.stateNode=SS(p,f,i.memoizedProps);else b!==f?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,f===null?OS(p,i.type,i.stateNode):SS(p,f,i.memoizedProps)):f===null&&i.stateNode!==null&&zy(i,i.memoizedProps,l.memoizedProps)}break;case 27:or(o,i),lr(i),f&512&&(jt||l===null||bi(l,l.return)),l!==null&&f&4&&zy(i,i.memoizedProps,l.memoizedProps);break;case 5:if(or(o,i),lr(i),f&512&&(jt||l===null||bi(l,l.return)),i.flags&32){p=i.stateNode;try{Ar(p,"")}catch(J){gt(i,i.return,J)}}f&4&&i.stateNode!=null&&(p=i.memoizedProps,zy(i,p,l!==null?l.memoizedProps:p)),f&1024&&(Fy=!0);break;case 6:if(or(o,i),lr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,l=i.stateNode;try{l.nodeValue=f}catch(J){gt(i,i.return,J)}}break;case 3:if(Ld=null,p=Zr,Zr=Md(o.containerInfo),or(o,i),Zr=p,lr(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{rf(o.containerInfo)}catch(J){gt(i,i.return,J)}Fy&&(Fy=!1,DA(i));break;case 4:f=Zr,Zr=Md(i.stateNode.containerInfo),or(o,i),lr(i),Zr=f;break;case 12:or(o,i),lr(i);break;case 13:or(o,i),lr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Qy=qt()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Hy(i,f)));break;case 22:p=i.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,X=ia,ne=jt;if(ia=X||p,jt=ne||z,or(o,i),jt=ne,ia=X,lr(i),f&8192)e:for(o=i.stateNode,o._visibility=p?o._visibility&-2:o._visibility|1,p&&(l===null||z||ia||jt||bo(i)),l=null,o=i;;){if(o.tag===5||o.tag===26){if(l===null){z=l=o;try{if(b=z.stateNode,p)x=b.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{P=z.stateNode;var se=z.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;P.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(J){gt(z,z.return,J)}}}else if(o.tag===6){if(l===null){z=o;try{z.stateNode.nodeValue=p?"":z.memoizedProps}catch(J){gt(z,z.return,J)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=i.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Hy(i,l))));break;case 19:or(o,i),lr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Hy(i,f)));break;case 30:break;case 21:break;default:or(o,i),lr(i)}}function lr(i){var o=i.flags;if(o&2){try{for(var l,f=i.return;f!==null;){if(SA(f)){l=f;break}f=f.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,b=qy(i);Ed(i,b,p);break;case 5:var x=l.stateNode;l.flags&32&&(Ar(x,""),l.flags&=-33);var P=qy(i);Ed(i,P,x);break;case 3:case 4:var z=l.stateNode.containerInfo,X=qy(i);$y(i,X,z);break;default:throw Error(r(161))}}catch(ne){gt(i,i.return,ne)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function DA(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;DA(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Wa(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)CA(i,o.alternate,o),o=o.sibling}function bo(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Ya(4,o,o.return),bo(o);break;case 1:bi(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&TA(o,o.return,l),bo(o);break;case 27:Wc(o.stateNode);case 26:case 5:bi(o,o.return),bo(o);break;case 22:o.memoizedState===null&&bo(o);break;case 30:bo(o);break;default:bo(o)}i=i.sibling}}function Xa(i,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,p=i,b=o,x=b.flags;switch(b.tag){case 0:case 11:case 15:Xa(p,b,l),Uc(4,b);break;case 1:if(Xa(p,b,l),f=b,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){gt(f,f.return,X)}if(f=b,p=f.updateQueue,p!==null){var P=f.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)lT(z[p],P)}catch(X){gt(f,f.return,X)}}l&&x&64&&EA(b),Bc(b,b.return);break;case 27:xA(b);case 26:case 5:Xa(p,b,l),l&&f===null&&x&4&&AA(b),Bc(b,b.return);break;case 12:Xa(p,b,l);break;case 13:Xa(p,b,l),l&&x&4&&PA(p,b);break;case 22:b.memoizedState===null&&Xa(p,b,l),Bc(b,b.return);break;case 30:break;default:Xa(p,b,l)}o=o.sibling}}function Ky(i,o){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Sc(l))}function Gy(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Sc(i))}function _i(i,o,l,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)kA(i,o,l,f),o=o.sibling}function kA(i,o,l,f){var p=o.flags;switch(o.tag){case 0:case 11:case 15:_i(i,o,l,f),p&2048&&Uc(9,o);break;case 1:_i(i,o,l,f);break;case 3:_i(i,o,l,f),p&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Sc(i)));break;case 12:if(p&2048){_i(i,o,l,f),i=o.stateNode;try{var b=o.memoizedProps,x=b.id,P=b.onPostCommit;typeof P=="function"&&P(x,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){gt(o,o.return,z)}}else _i(i,o,l,f);break;case 13:_i(i,o,l,f);break;case 23:break;case 22:b=o.stateNode,x=o.alternate,o.memoizedState!==null?b._visibility&2?_i(i,o,l,f):zc(i,o):b._visibility&2?_i(i,o,l,f):(b._visibility|=2,Ul(i,o,l,f,(o.subtreeFlags&10256)!==0)),p&2048&&Ky(x,o);break;case 24:_i(i,o,l,f),p&2048&&Gy(o.alternate,o);break;default:_i(i,o,l,f)}}function Ul(i,o,l,f,p){for(p=p&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=i,x=o,P=l,z=f,X=x.flags;switch(x.tag){case 0:case 11:case 15:Ul(b,x,P,z,p),Uc(8,x);break;case 23:break;case 22:var ne=x.stateNode;x.memoizedState!==null?ne._visibility&2?Ul(b,x,P,z,p):zc(b,x):(ne._visibility|=2,Ul(b,x,P,z,p)),p&&X&2048&&Ky(x.alternate,x);break;case 24:Ul(b,x,P,z,p),p&&X&2048&&Gy(x.alternate,x);break;default:Ul(b,x,P,z,p)}o=o.sibling}}function zc(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=i,f=o,p=f.flags;switch(f.tag){case 22:zc(l,f),p&2048&&Ky(f.alternate,f);break;case 24:zc(l,f),p&2048&&Gy(f.alternate,f);break;default:zc(l,f)}o=o.sibling}}var qc=8192;function Bl(i){if(i.subtreeFlags&qc)for(i=i.child;i!==null;)MA(i),i=i.sibling}function MA(i){switch(i.tag){case 26:Bl(i),i.flags&qc&&i.memoizedState!==null&&j3(Zr,i.memoizedState,i.memoizedProps);break;case 5:Bl(i);break;case 3:case 4:var o=Zr;Zr=Md(i.stateNode.containerInfo),Bl(i),Zr=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=qc,qc=16777216,Bl(i),qc=o):Bl(i));break;default:Bl(i)}}function jA(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function $c(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];pn=f,VA(f,i)}jA(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)LA(i),i=i.sibling}function LA(i){switch(i.tag){case 0:case 11:case 15:$c(i),i.flags&2048&&Ya(9,i,i.return);break;case 3:$c(i);break;case 12:$c(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Td(i)):$c(i);break;default:$c(i)}}function Td(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];pn=f,VA(f,i)}jA(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Ya(8,o,o.return),Td(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,Td(o));break;default:Td(o)}i=i.sibling}}function VA(i,o){for(;pn!==null;){var l=pn;switch(l.tag){case 0:case 11:case 15:Ya(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Sc(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,pn=f;else e:for(l=i;pn!==null;){f=pn;var p=f.sibling,b=f.return;if(IA(f),f===l){pn=null;break e}if(p!==null){p.return=b,pn=p;break e}pn=b}}}var Z4={getCacheForType:function(i){var o=Mn(sn),l=o.data.get(i);return l===void 0&&(l=i(),o.data.set(i,l)),l}},J4=typeof WeakMap=="function"?WeakMap:Map,rt=0,yt=null,ze=null,We=0,it=0,ur=null,Qa=!1,zl=!1,Yy=!1,sa=0,Rt=0,Za=0,_o=0,Wy=0,Dr=0,ql=0,Fc=null,Zn=null,Xy=!1,Qy=0,Ad=1/0,Sd=null,Ja=null,Sn=0,es=null,$l=null,Fl=0,Zy=0,Jy=null,UA=null,Hc=0,ev=null;function cr(){if((rt&2)!==0&&We!==0)return We&-We;if(Z.T!==null){var i=Pl;return i!==0?i:ov()}return Ma()}function BA(){Dr===0&&(Dr=(We&536870912)===0||Je?ec():536870912);var i=Nr.current;return i!==null&&(i.flags|=32),Dr}function fr(i,o,l){(i===yt&&(it===2||it===9)||i.cancelPendingCommit!==null)&&(Hl(i,0),ts(i,We,Dr,!1)),Vi(i,l),((rt&2)===0||i!==yt)&&(i===yt&&((rt&2)===0&&(_o|=l),Rt===4&&ts(i,We,Dr,!1)),wi(i))}function zA(i,o,l){if((rt&6)!==0)throw Error(r(327));var f=!l&&(o&124)===0&&(o&i.expiredLanes)===0||Hs(i,o),p=f?n3(i,o):rv(i,o,!0),b=f;do{if(p===0){zl&&!f&&ts(i,o,0,!1);break}else{if(l=i.current.alternate,b&&!e3(l)){p=rv(i,o,!1),b=!1;continue}if(p===2){if(b=o,i.errorRecoveryDisabledLanes&b)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){o=x;e:{var P=i;p=Fc;var z=P.current.memoizedState.isDehydrated;if(z&&(Hl(P,x).flags|=256),x=rv(P,x,!1),x!==2){if(Yy&&!z){P.errorRecoveryDisabledLanes|=b,_o|=b,p=4;break e}b=Zn,Zn=p,b!==null&&(Zn===null?Zn=b:Zn.push.apply(Zn,b))}p=x}if(b=!1,p!==2)continue}}if(p===1){Hl(i,0),ts(i,o,0,!0);break}e:{switch(f=i,b=p,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:ts(f,o,Dr,!Qa);break e;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(p=Qy+300-qt(),10<p)){if(ts(f,o,Dr,!Qa),ll(f,0,!0)!==0)break e;f.timeoutHandle=pS(qA.bind(null,f,l,Zn,Sd,Xy,o,Dr,_o,ql,Qa,b,2,-0,0),p);break e}qA(f,l,Zn,Sd,Xy,o,Dr,_o,ql,Qa,b,0,-0,0)}}break}while(!0);wi(i)}function qA(i,o,l,f,p,b,x,P,z,X,ne,se,Q,J){if(i.timeoutHandle=-1,se=o.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Zc={stylesheets:null,count:0,unsuspend:M3},MA(o),se=L3(),se!==null)){i.cancelPendingCommit=se(WA.bind(null,i,o,b,l,f,p,x,P,z,ne,1,Q,J)),ts(i,b,x,!X);return}WA(i,o,b,l,f,p,x,P,z)}function e3(i){for(var o=i;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var p=l[f],b=p.getSnapshot;p=p.value;try{if(!ar(b(),p))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ts(i,o,l,f){o&=~Wy,o&=~_o,i.suspendedLanes|=o,i.pingedLanes&=~o,f&&(i.warmLanes|=o),f=i.expirationTimes;for(var p=o;0<p;){var b=31-kn(p),x=1<<b;f[b]=-1,p&=~x}l!==0&&si(i,l,o)}function xd(){return(rt&6)===0?(Kc(0),!1):!0}function tv(){if(ze!==null){if(it===0)var i=ze.return;else i=ze,Zi=mo=null,vy(i),Ll=null,jc=0,i=ze;for(;i!==null;)wA(i.alternate,i),i=i.return;ze=null}}function Hl(i,o){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,v3(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),tv(),yt=i,ze=l=Wi(i.current,null),We=o,it=0,ur=null,Qa=!1,zl=Hs(i,o),Yy=!1,ql=Dr=Wy=_o=Za=Rt=0,Zn=Fc=null,Xy=!1,(o&8)!==0&&(o|=o&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=o;0<f;){var p=31-kn(f),b=1<<p;o|=i[p],f&=~b}return sa=o,Yh(),l}function $A(i,o){Ue=null,Z.H=dd,o===Oc||o===rd?(o=sT(),it=3):o===rT?(o=sT(),it=4):it=o===oA?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ur=o,ze===null&&(Rt=1,vd(i,Cr(o,i.current)))}function FA(){var i=Z.H;return Z.H=dd,i===null?dd:i}function HA(){var i=Z.A;return Z.A=Z4,i}function nv(){Rt=4,Qa||(We&4194048)!==We&&Nr.current!==null||(zl=!0),(Za&134217727)===0&&(_o&134217727)===0||yt===null||ts(yt,We,Dr,!1)}function rv(i,o,l){var f=rt;rt|=2;var p=FA(),b=HA();(yt!==i||We!==o)&&(Sd=null,Hl(i,o)),o=!1;var x=Rt;e:do try{if(it!==0&&ze!==null){var P=ze,z=ur;switch(it){case 8:tv(),x=6;break e;case 3:case 2:case 9:case 6:Nr.current===null&&(o=!0);var X=it;if(it=0,ur=null,Kl(i,P,z,X),l&&zl){x=0;break e}break;default:X=it,it=0,ur=null,Kl(i,P,z,X)}}t3(),x=Rt;break}catch(ne){$A(i,ne)}while(!0);return o&&i.shellSuspendCounter++,Zi=mo=null,rt=f,Z.H=p,Z.A=b,ze===null&&(yt=null,We=0,Yh()),x}function t3(){for(;ze!==null;)KA(ze)}function n3(i,o){var l=rt;rt|=2;var f=FA(),p=HA();yt!==i||We!==o?(Sd=null,Ad=qt()+500,Hl(i,o)):zl=Hs(i,o);e:do try{if(it!==0&&ze!==null){o=ze;var b=ur;t:switch(it){case 1:it=0,ur=null,Kl(i,o,b,1);break;case 2:case 9:if(iT(b)){it=0,ur=null,GA(o);break}o=function(){it!==2&&it!==9||yt!==i||(it=7),wi(i)},b.then(o,o);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:iT(b)?(it=0,ur=null,GA(o)):(it=0,ur=null,Kl(i,o,b,7));break;case 5:var x=null;switch(ze.tag){case 26:x=ze.memoizedState;case 5:case 27:var P=ze;if(!x||CS(x)){it=0,ur=null;var z=P.sibling;if(z!==null)ze=z;else{var X=P.return;X!==null?(ze=X,Od(X)):ze=null}break t}}it=0,ur=null,Kl(i,o,b,5);break;case 6:it=0,ur=null,Kl(i,o,b,6);break;case 8:tv(),Rt=6;break e;default:throw Error(r(462))}}r3();break}catch(ne){$A(i,ne)}while(!0);return Zi=mo=null,Z.H=f,Z.A=p,rt=l,ze!==null?0:(yt=null,We=0,Yh(),Rt)}function r3(){for(;ze!==null&&!tn();)KA(ze)}function KA(i){var o=bA(i.alternate,i,sa);i.memoizedProps=i.pendingProps,o===null?Od(i):ze=o}function GA(i){var o=i,l=o.alternate;switch(o.tag){case 15:case 0:o=dA(l,o,o.pendingProps,o.type,void 0,We);break;case 11:o=dA(l,o,o.pendingProps,o.type.render,o.ref,We);break;case 5:vy(o);default:wA(l,o),o=ze=YE(o,sa),o=bA(l,o,sa)}i.memoizedProps=i.pendingProps,o===null?Od(i):ze=o}function Kl(i,o,l,f){Zi=mo=null,vy(o),Ll=null,jc=0;var p=o.return;try{if(K4(i,p,o,l,We)){Rt=1,vd(i,Cr(l,i.current)),ze=null;return}}catch(b){if(p!==null)throw ze=p,b;Rt=1,vd(i,Cr(l,i.current)),ze=null;return}o.flags&32768?(Je||f===1?i=!0:zl||(We&536870912)!==0?i=!1:(Qa=i=!0,(f===2||f===9||f===3||f===6)&&(f=Nr.current,f!==null&&f.tag===13&&(f.flags|=16384))),YA(o,i)):Od(o)}function Od(i){var o=i;do{if((o.flags&32768)!==0){YA(o,Qa);return}i=o.return;var l=Y4(o.alternate,o,sa);if(l!==null){ze=l;return}if(o=o.sibling,o!==null){ze=o;return}ze=o=i}while(o!==null);Rt===0&&(Rt=5)}function YA(i,o){do{var l=W4(i.alternate,i);if(l!==null){l.flags&=32767,ze=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(i=i.sibling,i!==null)){ze=i;return}ze=i=l}while(i!==null);Rt=6,ze=null}function WA(i,o,l,f,p,b,x,P,z){i.cancelPendingCommit=null;do Cd();while(Sn!==0);if((rt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=Gp,nc(i,l,b,x,P,z),i===yt&&(ze=yt=null,We=0),$l=o,es=i,Fl=l,Zy=b,Jy=p,UA=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,o3(zs,function(){return eS(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=Z.T,Z.T=null,p=ue.p,ue.p=2,x=rt,rt|=4;try{X4(i,o,l)}finally{rt=x,ue.p=p,Z.T=f}}Sn=1,XA(),QA(),ZA()}}function XA(){if(Sn===1){Sn=0;var i=es,o=$l,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null;var f=ue.p;ue.p=2;var p=rt;rt|=4;try{NA(o,i);var b=gv,x=VE(i.containerInfo),P=b.focusedElem,z=b.selectionRange;if(x!==P&&P&&P.ownerDocument&&LE(P.ownerDocument.documentElement,P)){if(z!==null&&qp(P)){var X=z.start,ne=z.end;if(ne===void 0&&(ne=X),"selectionStart"in P)P.selectionStart=X,P.selectionEnd=Math.min(ne,P.value.length);else{var se=P.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),De=P.textContent.length,Oe=Math.min(z.start,De),ft=z.end===void 0?Oe:Math.min(z.end,De);!J.extend&&Oe>ft&&(x=ft,ft=Oe,Oe=x);var G=jE(P,Oe),K=jE(P,ft);if(G&&K&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==K.node||J.focusOffset!==K.offset)){var W=se.createRange();W.setStart(G.node,G.offset),J.removeAllRanges(),Oe>ft?(J.addRange(W),J.extend(K.node,K.offset)):(W.setEnd(K.node,K.offset),J.addRange(W))}}}}for(se=[],J=P;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<se.length;P++){var ie=se[P];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Bd=!!mv,gv=mv=null}finally{rt=p,ue.p=f,Z.T=l}}i.current=o,Sn=2}}function QA(){if(Sn===2){Sn=0;var i=es,o=$l,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=Z.T,Z.T=null;var f=ue.p;ue.p=2;var p=rt;rt|=4;try{CA(i,o.alternate,o)}finally{rt=p,ue.p=f,Z.T=l}}Sn=3}}function ZA(){if(Sn===4||Sn===3){Sn=0,hn();var i=es,o=$l,l=Fl,f=UA;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Sn=5:(Sn=0,$l=es=null,JA(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ja=null),ul(l),o=o.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Ct,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=Z.T,p=ue.p,ue.p=2,Z.T=null;try{for(var b=i.onRecoverableError,x=0;x<f.length;x++){var P=f[x];b(P.value,{componentStack:P.stack})}}finally{Z.T=o,ue.p=p}}(Fl&3)!==0&&Cd(),wi(i),p=i.pendingLanes,(l&4194090)!==0&&(p&42)!==0?i===ev?Hc++:(Hc=0,ev=i):Hc=0,Kc(0)}}function JA(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Sc(o)))}function Cd(i){return XA(),QA(),ZA(),eS()}function eS(){if(Sn!==5)return!1;var i=es,o=Zy;Zy=0;var l=ul(Fl),f=Z.T,p=ue.p;try{ue.p=32>l?32:l,Z.T=null,l=Jy,Jy=null;var b=es,x=Fl;if(Sn=0,$l=es=null,Fl=0,(rt&6)!==0)throw Error(r(331));var P=rt;if(rt|=4,LA(b.current),kA(b,b.current,x,l),rt=P,Kc(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Ct,b)}catch{}return!0}finally{ue.p=p,Z.T=f,JA(i,o)}}function tS(i,o,l){o=Cr(l,o),o=Ny(i.stateNode,o,2),i=Fa(i,o,2),i!==null&&(Vi(i,2),wi(i))}function gt(i,o,l){if(i.tag===3)tS(i,i,l);else for(;o!==null;){if(o.tag===3){tS(o,i,l);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ja===null||!Ja.has(f))){i=Cr(l,i),l=aA(2),f=Fa(o,l,2),f!==null&&(sA(l,f,o,i),Vi(f,2),wi(f));break}}o=o.return}}function iv(i,o,l){var f=i.pingCache;if(f===null){f=i.pingCache=new J4;var p=new Set;f.set(o,p)}else p=f.get(o),p===void 0&&(p=new Set,f.set(o,p));p.has(l)||(Yy=!0,p.add(l),i=i3.bind(null,i,o,l),o.then(i,i))}function i3(i,o,l){var f=i.pingCache;f!==null&&f.delete(o),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,yt===i&&(We&l)===l&&(Rt===4||Rt===3&&(We&62914560)===We&&300>qt()-Qy?(rt&2)===0&&Hl(i,0):Wy|=l,ql===We&&(ql=0)),wi(i)}function nS(i,o){o===0&&(o=tc()),i=Ol(i,o),i!==null&&(Vi(i,o),wi(i))}function a3(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),nS(i,l)}function s3(i,o){var l=0;switch(i.tag){case 13:var f=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),nS(i,l)}function o3(i,o){return Ot(i,o)}var Id=null,Gl=null,av=!1,Rd=!1,sv=!1,wo=0;function wi(i){i!==Gl&&i.next===null&&(Gl===null?Id=Gl=i:Gl=Gl.next=i),Rd=!0,av||(av=!0,u3())}function Kc(i,o){if(!sv&&Rd){sv=!0;do for(var l=!1,f=Id;f!==null;){if(i!==0){var p=f.pendingLanes;if(p===0)var b=0;else{var x=f.suspendedLanes,P=f.pingedLanes;b=(1<<31-kn(42|i)+1)-1,b&=p&~(x&~P),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,sS(f,b))}else b=We,b=ll(f,f===yt?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Hs(f,b)||(l=!0,sS(f,b));f=f.next}while(l);sv=!1}}function l3(){rS()}function rS(){Rd=av=!1;var i=0;wo!==0&&(y3()&&(i=wo),wo=0);for(var o=qt(),l=null,f=Id;f!==null;){var p=f.next,b=iS(f,o);b===0?(f.next=null,l===null?Id=p:l.next=p,p===null&&(Gl=l)):(l=f,(i!==0||(b&3)!==0)&&(Rd=!0)),f=p}Kc(i)}function iS(i,o){for(var l=i.suspendedLanes,f=i.pingedLanes,p=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var x=31-kn(b),P=1<<x,z=p[x];z===-1?((P&l)===0||(P&f)!==0)&&(p[x]=Ju(P,o)):z<=o&&(i.expiredLanes|=P),b&=~P}if(o=yt,l=We,l=ll(i,i===o?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,l===0||i===o&&(it===2||it===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Ke(f),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Hs(i,l)){if(o=l&-l,o===i.callbackPriority)return o;switch(f!==null&&Ke(f),ul(l)){case 2:case 8:l=sl;break;case 32:l=zs;break;case 268435456:l=ol;break;default:l=zs}return f=aS.bind(null,i),l=Ot(l,f),i.callbackPriority=o,i.callbackNode=l,o}return f!==null&&f!==null&&Ke(f),i.callbackPriority=2,i.callbackNode=null,2}function aS(i,o){if(Sn!==0&&Sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Cd()&&i.callbackNode!==l)return null;var f=We;return f=ll(i,i===yt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(zA(i,f,o),iS(i,qt()),i.callbackNode!=null&&i.callbackNode===l?aS.bind(null,i):null)}function sS(i,o){if(Cd())return null;zA(i,o,!0)}function u3(){b3(function(){(rt&6)!==0?Ot(Qu,l3):rS()})}function ov(){return wo===0&&(wo=ec()),wo}function oS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:gl(""+i)}function lS(i,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,i.id&&l.setAttribute("form",i.id),o.parentNode.insertBefore(l,o),i=new FormData(i),l.parentNode.removeChild(l),i}function c3(i,o,l,f,p){if(o==="submit"&&l&&l.stateNode===p){var b=oS((p[$t]||null).action),x=f.submitter;x&&(o=(o=x[$t]||null)?oS(o.formAction):x.getAttribute("formAction"),o!==null&&(b=o,x=null));var P=new pl("action","action",null,f,p);i.push({event:P,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(wo!==0){var z=x?lS(p,x):new FormData(p);Oy(l,{pending:!0,data:z,method:p.method,action:b},null,z)}}else typeof b=="function"&&(P.preventDefault(),z=x?lS(p,x):new FormData(p),Oy(l,{pending:!0,data:z,method:p.method,action:b},b,z))},currentTarget:p}]})}}for(var lv=0;lv<Kp.length;lv++){var uv=Kp[lv],f3=uv.toLowerCase(),h3=uv[0].toUpperCase()+uv.slice(1);Qr(f3,"on"+h3)}Qr(zE,"onAnimationEnd"),Qr(qE,"onAnimationIteration"),Qr($E,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(I4,"onTransitionRun"),Qr(R4,"onTransitionStart"),Qr(P4,"onTransitionCancel"),Qr(FE,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gc));function uS(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],p=f.event;f=f.listeners;e:{var b=void 0;if(o)for(var x=f.length-1;0<=x;x--){var P=f[x],z=P.instance,X=P.currentTarget;if(P=P.listener,z!==b&&p.isPropagationStopped())break e;b=P,p.currentTarget=X;try{b(p)}catch(ne){yd(ne)}p.currentTarget=null,b=z}else for(x=0;x<f.length;x++){if(P=f[x],z=P.instance,X=P.currentTarget,P=P.listener,z!==b&&p.isPropagationStopped())break e;b=P,p.currentTarget=X;try{b(p)}catch(ne){yd(ne)}p.currentTarget=null,b=z}}}}function qe(i,o){var l=o[ic];l===void 0&&(l=o[ic]=new Set);var f=i+"__bubble";l.has(f)||(cS(o,i,2,!1),l.add(f))}function cv(i,o,l){var f=0;o&&(f|=4),cS(l,i,f,o)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function fv(i){if(!i[Pd]){i[Pd]=!0,ac.forEach(function(l){l!=="selectionchange"&&(d3.has(l)||cv(l,!1,i),cv(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Pd]||(o[Pd]=!0,cv("selectionchange",!1,o))}}function cS(i,o,l,f){switch(kS(o)){case 2:var p=B3;break;case 8:p=z3;break;default:p=Sv}l=p.bind(null,o,l,i),p=void 0,!xr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),f?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function hv(i,o,l,f,p){var b=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var P=f.stateNode.containerInfo;if(P===p)break;if(x===4)for(x=f.return;x!==null;){var z=x.tag;if((z===3||z===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;P!==null;){if(x=Ui(P),x===null)return;if(z=x.tag,z===5||z===6||z===26||z===27){f=b=x;continue e}P=P.parentNode}}f=f.return}Dh(function(){var X=b,ne=Sr(l),se=[];e:{var Q=HE.get(i);if(Q!==void 0){var J=pl,De=i;switch(i){case"keypress":if(hi(l)===0)break e;case"keydown":case"keyup":J=El;break;case"focusin":De="focus",J=bl;break;case"focusout":De="blur",J=bl;break;case"beforeblur":case"afterblur":J=bl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=zh;break;case zE:case qE:case $E:J=_l;break;case FE:J=$h;break;case"scroll":case"scrollend":J=kh;break;case"wheel":J=Tl;break;case"copy":case"cut":case"paste":J=wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=yc;break;case"toggle":case"beforetoggle":J=Hh}var Oe=(o&4)!==0,ft=!Oe&&(i==="scroll"||i==="scrollend"),G=Oe?Q!==null?Q+"Capture":null:Q;Oe=[];for(var K=X,W;K!==null;){var ie=K;if(W=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||W===null||G===null||(ie=Js(K,G),ie!=null&&Oe.push(Yc(K,ie,W))),ft)break;K=K.return}0<Oe.length&&(Q=new J(Q,De,null,l,ne),se.push({event:Q,listeners:Oe}))}}if((o&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",Q&&l!==$i&&(De=l.relatedTarget||l.fromElement)&&(Ui(De)||De[Tr]))break e;if((J||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(De=l.relatedTarget||l.toElement,J=X,De=De?Ui(De):null,De!==null&&(ft=s(De),Oe=De.tag,De!==ft||Oe!==5&&Oe!==27&&Oe!==6)&&(De=null)):(J=null,De=X),J!==De)){if(Oe=Or,ie="onMouseLeave",G="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=yc,ie="onPointerLeave",G="onPointerEnter",K="pointer"),ft=J==null?Q:li(J),W=De==null?Q:li(De),Q=new Oe(ie,K+"leave",J,l,ne),Q.target=ft,Q.relatedTarget=W,ie=null,Ui(ne)===X&&(Oe=new Oe(G,K+"enter",De,l,ne),Oe.target=W,Oe.relatedTarget=ft,ie=Oe),ft=ie,J&&De)t:{for(Oe=J,G=De,K=0,W=Oe;W;W=Yl(W))K++;for(W=0,ie=G;ie;ie=Yl(ie))W++;for(;0<K-W;)Oe=Yl(Oe),K--;for(;0<W-K;)G=Yl(G),W--;for(;K--;){if(Oe===G||G!==null&&Oe===G.alternate)break t;Oe=Yl(Oe),G=Yl(G)}Oe=null}else Oe=null;J!==null&&fS(se,Q,J,Oe,!1),De!==null&&ft!==null&&fS(se,ft,De,Oe,!0)}}e:{if(Q=X?li(X):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var ve=RE;else if(an(Q))if(PE)ve=x4;else{ve=A4;var Be=T4}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?X&&cc(X.elementType)&&(ve=RE):ve=S4;if(ve&&(ve=ve(i,X))){Yi(se,ve,l,ne);break e}Be&&Be(i,Q,X),i==="focusout"&&X&&Q.type==="number"&&X.memoizedProps.value!=null&&Ua(Q,"number",Q.value)}switch(Be=X?li(X):window,i){case"focusin":(an(Be)||Be.contentEditable==="true")&&(Al=Be,$p=X,_c=null);break;case"focusout":_c=$p=Al=null;break;case"mousedown":Fp=!0;break;case"contextmenu":case"mouseup":case"dragend":Fp=!1,UE(se,l,ne);break;case"selectionchange":if(C4)break;case"keydown":case"keyup":UE(se,l,ne)}var we;if(gi)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ge?ee(i,l)&&(Ie="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(S&&l.locale!=="ko"&&(Ge||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ge&&(we=hc()):(fi=ne,Ba="value"in fi?fi.value:fi.textContent,Ge=!0)),Be=Nd(X,Ie),0<Be.length&&(Ie=new gc(Ie,i,null,l,ne),se.push({event:Ie,listeners:Be}),we?Ie.data=we:(we=he(l),we!==null&&(Ie.data=we)))),(we=w?rn(i,l):Ye(i,l))&&(Ie=Nd(X,"onBeforeInput"),0<Ie.length&&(Be=new gc("onBeforeInput","beforeinput",null,l,ne),se.push({event:Be,listeners:Ie}),Be.data=we)),c3(se,i,X,l,ne)}uS(se,o)})}function Yc(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Nd(i,o){for(var l=o+"Capture",f=[];i!==null;){var p=i,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=Js(i,l),p!=null&&f.unshift(Yc(i,p,b)),p=Js(i,o),p!=null&&f.push(Yc(i,p,b))),i.tag===3)return f;i=i.return}return[]}function Yl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function fS(i,o,l,f,p){for(var b=o._reactName,x=[];l!==null&&l!==f;){var P=l,z=P.alternate,X=P.stateNode;if(P=P.tag,z!==null&&z===f)break;P!==5&&P!==26&&P!==27||X===null||(z=X,p?(X=Js(l,b),X!=null&&x.unshift(Yc(l,X,z))):p||(X=Js(l,b),X!=null&&x.push(Yc(l,X,z)))),l=l.return}x.length!==0&&i.push({event:o,listeners:x})}var m3=/\r\n?/g,g3=/\u0000|\uFFFD/g;function hS(i){return(typeof i=="string"?i:""+i).replace(m3,`
`).replace(g3,"")}function dS(i,o){return o=hS(o),hS(i)===o}function Dd(){}function ct(i,o,l,f,p,b){switch(l){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Ar(i,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Ar(i,""+f);break;case"className":ui(i,"class",f);break;case"tabIndex":ui(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(i,l,f);break;case"style":uc(i,f,b);break;case"data":if(o!=="object"){ui(i,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||l!=="href")){i.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=gl(""+f),i.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(o!=="input"&&ct(i,o,"name",p.name,p,null),ct(i,o,"formEncType",p.formEncType,p,null),ct(i,o,"formMethod",p.formMethod,p,null),ct(i,o,"formTarget",p.formTarget,p,null)):(ct(i,o,"encType",p.encType,p,null),ct(i,o,"method",p.method,p,null),ct(i,o,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=gl(""+f),i.setAttribute(l,f);break;case"onClick":f!=null&&(i.onclick=Dd);break;case"onScroll":f!=null&&qe("scroll",i);break;case"onScrollEnd":f!=null&&qe("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}l=gl(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""+f):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":f===!0?i.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,f):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(l,f):i.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(l):i.setAttribute(l,f);break;case"popover":qe("beforetoggle",i),qe("toggle",i),Va(i,"popover",f);break;case"xlinkActuate":En(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":En(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":En(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":En(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":En(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":En(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":En(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":En(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":En(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Va(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=jp.get(l)||l,Va(i,l,f))}}function dv(i,o,l,f,p,b){switch(l){case"style":uc(i,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof f=="string"?Ar(i,f):(typeof f=="number"||typeof f=="bigint")&&Ar(i,""+f);break;case"onScroll":f!=null&&qe("scroll",i);break;case"onScrollEnd":f!=null&&qe("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Dd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),o=l.slice(2,p?l.length-7:void 0),b=i[$t]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(o,b,p),typeof f=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(o,f,p);break e}l in i?i[l]=f:f===!0?i.setAttribute(l,""):Va(i,l,f)}}}function xn(i,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",i),qe("load",i);var f=!1,p=!1,b;for(b in l)if(l.hasOwnProperty(b)){var x=l[b];if(x!=null)switch(b){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ct(i,o,b,x,l,null)}}p&&ct(i,o,"srcSet",l.srcSet,l,null),f&&ct(i,o,"src",l.src,l,null);return;case"input":qe("invalid",i);var P=b=x=p=null,z=null,X=null;for(f in l)if(l.hasOwnProperty(f)){var ne=l[f];if(ne!=null)switch(f){case"name":p=ne;break;case"type":x=ne;break;case"checked":z=ne;break;case"defaultChecked":X=ne;break;case"value":b=ne;break;case"defaultValue":P=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:ct(i,o,f,ne,l,null)}}Xs(i,b,P,z,X,x,p,!1),ml(i);return;case"select":qe("invalid",i),f=x=b=null;for(p in l)if(l.hasOwnProperty(p)&&(P=l[p],P!=null))switch(p){case"value":b=P;break;case"defaultValue":x=P;break;case"multiple":f=P;default:ct(i,o,p,P,l,null)}o=b,l=x,i.multiple=!!f,o!=null?qi(i,!!f,o,!1):l!=null&&qi(i,!!f,l,!0);return;case"textarea":qe("invalid",i),b=p=f=null;for(x in l)if(l.hasOwnProperty(x)&&(P=l[x],P!=null))switch(x){case"value":f=P;break;case"defaultValue":p=P;break;case"children":b=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:ct(i,o,x,P,l,null)}Qs(i,f,p,b),ml(i);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(f=l[z],f!=null))switch(z){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ct(i,o,z,f,l,null)}return;case"dialog":qe("beforetoggle",i),qe("toggle",i),qe("cancel",i),qe("close",i);break;case"iframe":case"object":qe("load",i);break;case"video":case"audio":for(f=0;f<Gc.length;f++)qe(Gc[f],i);break;case"image":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"embed":case"source":case"link":qe("error",i),qe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(f=l[X],f!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ct(i,o,X,f,l,null)}return;default:if(cc(o)){for(ne in l)l.hasOwnProperty(ne)&&(f=l[ne],f!==void 0&&dv(i,o,ne,f,l,void 0));return}}for(P in l)l.hasOwnProperty(P)&&(f=l[P],f!=null&&ct(i,o,P,f,l,null))}function p3(i,o,l,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,x=null,P=null,z=null,X=null,ne=null;for(J in l){var se=l[J];if(l.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":z=se;default:f.hasOwnProperty(J)||ct(i,o,J,null,f,se)}}for(var Q in f){var J=f[Q];if(se=l[Q],f.hasOwnProperty(Q)&&(J!=null||se!=null))switch(Q){case"type":b=J;break;case"name":p=J;break;case"checked":X=J;break;case"defaultChecked":ne=J;break;case"value":x=J;break;case"defaultValue":P=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,o));break;default:J!==se&&ct(i,o,Q,J,f,se)}}ir(i,x,P,z,X,ne,b,p);return;case"select":J=x=P=Q=null;for(b in l)if(z=l[b],l.hasOwnProperty(b)&&z!=null)switch(b){case"value":break;case"multiple":J=z;default:f.hasOwnProperty(b)||ct(i,o,b,null,f,z)}for(p in f)if(b=f[p],z=l[p],f.hasOwnProperty(p)&&(b!=null||z!=null))switch(p){case"value":Q=b;break;case"defaultValue":P=b;break;case"multiple":x=b;default:b!==z&&ct(i,o,p,b,f,z)}o=P,l=x,f=J,Q!=null?qi(i,!!l,Q,!1):!!f!=!!l&&(o!=null?qi(i,!!l,o,!0):qi(i,!!l,l?[]:"",!1));return;case"textarea":J=Q=null;for(P in l)if(p=l[P],l.hasOwnProperty(P)&&p!=null&&!f.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:ct(i,o,P,null,f,p)}for(x in f)if(p=f[x],b=l[x],f.hasOwnProperty(x)&&(p!=null||b!=null))switch(x){case"value":Q=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==b&&ct(i,o,x,p,f,b)}lt(i,Q,J);return;case"option":for(var De in l)if(Q=l[De],l.hasOwnProperty(De)&&Q!=null&&!f.hasOwnProperty(De))switch(De){case"selected":i.selected=!1;break;default:ct(i,o,De,null,f,Q)}for(z in f)if(Q=f[z],J=l[z],f.hasOwnProperty(z)&&Q!==J&&(Q!=null||J!=null))switch(z){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ct(i,o,z,Q,f,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in l)Q=l[Oe],l.hasOwnProperty(Oe)&&Q!=null&&!f.hasOwnProperty(Oe)&&ct(i,o,Oe,null,f,Q);for(X in f)if(Q=f[X],J=l[X],f.hasOwnProperty(X)&&Q!==J&&(Q!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,o));break;default:ct(i,o,X,Q,f,J)}return;default:if(cc(o)){for(var ft in l)Q=l[ft],l.hasOwnProperty(ft)&&Q!==void 0&&!f.hasOwnProperty(ft)&&dv(i,o,ft,void 0,f,Q);for(ne in f)Q=f[ne],J=l[ne],!f.hasOwnProperty(ne)||Q===J||Q===void 0&&J===void 0||dv(i,o,ne,Q,f,J);return}}for(var G in l)Q=l[G],l.hasOwnProperty(G)&&Q!=null&&!f.hasOwnProperty(G)&&ct(i,o,G,null,f,Q);for(se in f)Q=f[se],J=l[se],!f.hasOwnProperty(se)||Q===J||Q==null&&J==null||ct(i,o,se,Q,f,J)}var mv=null,gv=null;function kd(i){return i.nodeType===9?i:i.ownerDocument}function mS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gS(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function pv(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var yv=null;function y3(){var i=window.event;return i&&i.type==="popstate"?i===yv?!1:(yv=i,!0):(yv=null,!1)}var pS=typeof setTimeout=="function"?setTimeout:void 0,v3=typeof clearTimeout=="function"?clearTimeout:void 0,yS=typeof Promise=="function"?Promise:void 0,b3=typeof queueMicrotask=="function"?queueMicrotask:typeof yS<"u"?function(i){return yS.resolve(null).then(i).catch(_3)}:pS;function _3(i){setTimeout(function(){throw i})}function ns(i){return i==="head"}function vS(i,o){var l=o,f=0,p=0;do{var b=l.nextSibling;if(i.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(0<f&&8>f){l=f;var x=i.ownerDocument;if(l&1&&Wc(x.documentElement),l&2&&Wc(x.body),l&4)for(l=x.head,Wc(l),x=l.firstChild;x;){var P=x.nextSibling,z=x.nodeName;x[Ks]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=P}}if(p===0){i.removeChild(b),rf(o);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:f=l.charCodeAt(0)-48;else f=0;l=b}while(l);rf(o)}function vv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":vv(l),La(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function w3(i,o,l,f){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Ks])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Jr(i.nextSibling),i===null)break}return null}function E3(i,o,l){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Jr(i.nextSibling),i===null))return null;return i}function bv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function T3(i,o){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")o();else{var f=function(){o(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Jr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var _v=null;function bS(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}function _S(i,o,l){switch(o=kd(l),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Wc(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);La(i)}var kr=new Map,wS=new Set;function Md(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var oa=ue.d;ue.d={f:A3,r:S3,D:x3,C:O3,L:C3,m:I3,X:P3,S:R3,M:N3};function A3(){var i=oa.f(),o=xd();return i||o}function S3(i){var o=oi(i);o!==null&&o.tag===5&&o.type==="form"?zT(o):oa.r(i)}var Wl=typeof document>"u"?null:document;function ES(i,o,l){var f=Wl;if(f&&typeof o=="string"&&o){var p=Ft(o);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),wS.has(p)||(wS.add(p),i={rel:i,crossOrigin:l,href:o},f.querySelector(p)===null&&(o=f.createElement("link"),xn(o,"link",i),kt(o),f.head.appendChild(o)))}}function x3(i){oa.D(i),ES("dns-prefetch",i,null)}function O3(i,o){oa.C(i,o),ES("preconnect",i,o)}function C3(i,o,l){oa.L(i,o,l);var f=Wl;if(f&&i&&o){var p='link[rel="preload"][as="'+Ft(o)+'"]';o==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ft(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ft(l.imageSizes)+'"]')):p+='[href="'+Ft(i)+'"]';var b=p;switch(o){case"style":b=Xl(i);break;case"script":b=Ql(i)}kr.has(b)||(i=m({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:i,as:o},l),kr.set(b,i),f.querySelector(p)!==null||o==="style"&&f.querySelector(Xc(b))||o==="script"&&f.querySelector(Qc(b))||(o=f.createElement("link"),xn(o,"link",i),kt(o),f.head.appendChild(o)))}}function I3(i,o){oa.m(i,o);var l=Wl;if(l&&i){var f=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+Ft(f)+'"][href="'+Ft(i)+'"]',b=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ql(i)}if(!kr.has(b)&&(i=m({rel:"modulepreload",href:i},o),kr.set(b,i),l.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Qc(b)))return}f=l.createElement("link"),xn(f,"link",i),kt(f),l.head.appendChild(f)}}}function R3(i,o,l){oa.S(i,o,l);var f=Wl;if(f&&i){var p=$n(f).hoistableStyles,b=Xl(i);o=o||"default";var x=p.get(b);if(!x){var P={loading:0,preload:null};if(x=f.querySelector(Xc(b)))P.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":o},l),(l=kr.get(b))&&wv(i,l);var z=x=f.createElement("link");kt(z),xn(z,"link",i),z._p=new Promise(function(X,ne){z.onload=X,z.onerror=ne}),z.addEventListener("load",function(){P.loading|=1}),z.addEventListener("error",function(){P.loading|=2}),P.loading|=4,jd(x,o,f)}x={type:"stylesheet",instance:x,count:1,state:P},p.set(b,x)}}}function P3(i,o){oa.X(i,o);var l=Wl;if(l&&i){var f=$n(l).hoistableScripts,p=Ql(i),b=f.get(p);b||(b=l.querySelector(Qc(p)),b||(i=m({src:i,async:!0},o),(o=kr.get(p))&&Ev(i,o),b=l.createElement("script"),kt(b),xn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(p,b))}}function N3(i,o){oa.M(i,o);var l=Wl;if(l&&i){var f=$n(l).hoistableScripts,p=Ql(i),b=f.get(p);b||(b=l.querySelector(Qc(p)),b||(i=m({src:i,async:!0,type:"module"},o),(o=kr.get(p))&&Ev(i,o),b=l.createElement("script"),kt(b),xn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(p,b))}}function TS(i,o,l,f){var p=(p=Ne.current)?Md(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=Xl(l.href),l=$n(p).hoistableStyles,f=l.get(o),f||(f={type:"style",instance:null,count:0,state:null},l.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Xl(l.href);var b=$n(p).hoistableStyles,x=b.get(i);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,x),(b=p.querySelector(Xc(i)))&&!b._p&&(x.instance=b,x.state.loading=5),kr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},kr.set(i,l),b||D3(p,i,l,x.state))),o&&f===null)throw Error(r(528,""));return x}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ql(l),l=$n(p).hoistableScripts,f=l.get(o),f||(f={type:"script",instance:null,count:0,state:null},l.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Xl(i){return'href="'+Ft(i)+'"'}function Xc(i){return'link[rel="stylesheet"]['+i+"]"}function AS(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function D3(i,o,l,f){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=i.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),xn(o,"link",l),kt(o),i.head.appendChild(o))}function Ql(i){return'[src="'+Ft(i)+'"]'}function Qc(i){return"script[async]"+i}function SS(i,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var f=i.querySelector('style[data-href~="'+Ft(l.href)+'"]');if(f)return o.instance=f,kt(f),f;var p=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),kt(f),xn(f,"style",p),jd(f,l.precedence,i),o.instance=f;case"stylesheet":p=Xl(l.href);var b=i.querySelector(Xc(p));if(b)return o.state.loading|=4,o.instance=b,kt(b),b;f=AS(l),(p=kr.get(p))&&wv(f,p),b=(i.ownerDocument||i).createElement("link"),kt(b);var x=b;return x._p=new Promise(function(P,z){x.onload=P,x.onerror=z}),xn(b,"link",f),o.state.loading|=4,jd(b,l.precedence,i),o.instance=b;case"script":return b=Ql(l.src),(p=i.querySelector(Qc(b)))?(o.instance=p,kt(p),p):(f=l,(p=kr.get(b))&&(f=m({},l),Ev(f,p)),i=i.ownerDocument||i,p=i.createElement("script"),kt(p),xn(p,"link",f),i.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,jd(f,l.precedence,i));return o.instance}function jd(i,o,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,b=p,x=0;x<f.length;x++){var P=f[x];if(P.dataset.precedence===o)b=P;else if(b!==p)break}b?b.parentNode.insertBefore(i,b.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(i,o.firstChild))}function wv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Ev(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Ld=null;function xS(i,o,l){if(Ld===null){var f=new Map,p=Ld=new Map;p.set(l,f)}else p=Ld,f=p.get(l),f||(f=new Map,p.set(l,f));if(f.has(i))return f;for(f.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var b=l[p];if(!(b[Ks]||b[nn]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var x=b.getAttribute(o)||"";x=i+x;var P=f.get(x);P?P.push(b):f.set(x,[b])}}return f}function OS(i,o,l){i=i.ownerDocument||i,i.head.insertBefore(l,o==="title"?i.querySelector("head > title"):null)}function k3(i,o,l){if(l===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function CS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Zc=null;function M3(){}function j3(i,o,l){if(Zc===null)throw Error(r(475));var f=Zc;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Xl(l.href),b=i.querySelector(Xc(p));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Vd.bind(f),i.then(f,f)),o.state.loading|=4,o.instance=b,kt(b);return}b=i.ownerDocument||i,l=AS(l),(p=kr.get(p))&&wv(l,p),b=b.createElement("link"),kt(b);var x=b;x._p=new Promise(function(P,z){x.onload=P,x.onerror=z}),xn(b,"link",l),o.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=Vd.bind(f),i.addEventListener("load",o),i.addEventListener("error",o))}}function L3(){if(Zc===null)throw Error(r(475));var i=Zc;return i.stylesheets&&i.count===0&&Tv(i,i.stylesheets),0<i.count?function(o){var l=setTimeout(function(){if(i.stylesheets&&Tv(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Vd(){if(this.count--,this.count===0){if(this.stylesheets)Tv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ud=null;function Tv(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ud=new Map,o.forEach(V3,i),Ud=null,Vd.call(i))}function V3(i,o){if(!(o.state.loading&4)){var l=Ud.get(i);if(l)var f=l.get(null);else{l=new Map,Ud.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var x=p[b];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),f=x)}f&&l.set(null,f)}p=o.instance,x=p.getAttribute("data-precedence"),b=l.get(x)||f,b===f&&l.set(null,p),l.set(x,p),this.count++,f=Vd.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),b?b.parentNode.insertBefore(p,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),o.state.loading|=4}}var Jc={$$typeof:D,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function U3(i,o,l,f,p,b,x,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function IS(i,o,l,f,p,b,x,P,z,X,ne,se){return i=new U3(i,o,l,x,P,z,X,se),o=1,b===!0&&(o|=24),b=sr(3,null,null,o),i.current=b,b.stateNode=i,o=iy(),o.refCount++,i.pooledCache=o,o.refCount++,b.memoizedState={element:f,isDehydrated:l,cache:o},ly(b),i}function RS(i){return i?(i=Cl,i):Cl}function PS(i,o,l,f,p,b){p=RS(p),f.context===null?f.context=p:f.pendingContext=p,f=$a(o),f.payload={element:l},b=b===void 0?null:b,b!==null&&(f.callback=b),l=Fa(i,f,o),l!==null&&(fr(l,i,o),Ic(l,i,o))}function NS(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Av(i,o){NS(i,o),(i=i.alternate)&&NS(i,o)}function DS(i){if(i.tag===13){var o=Ol(i,67108864);o!==null&&fr(o,i,67108864),Av(i,67108864)}}var Bd=!0;function B3(i,o,l,f){var p=Z.T;Z.T=null;var b=ue.p;try{ue.p=2,Sv(i,o,l,f)}finally{ue.p=b,Z.T=p}}function z3(i,o,l,f){var p=Z.T;Z.T=null;var b=ue.p;try{ue.p=8,Sv(i,o,l,f)}finally{ue.p=b,Z.T=p}}function Sv(i,o,l,f){if(Bd){var p=xv(f);if(p===null)hv(i,o,f,zd,l),MS(i,f);else if($3(p,i,o,l,f))f.stopPropagation();else if(MS(i,f),o&4&&-1<q3.indexOf(i)){for(;p!==null;){var b=oi(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var x=Yr(b.pendingLanes);if(x!==0){var P=b;for(P.pendingLanes|=2,P.entangledLanes|=2;x;){var z=1<<31-kn(x);P.entanglements[1]|=z,x&=~z}wi(b),(rt&6)===0&&(Ad=qt()+500,Kc(0))}}break;case 13:P=Ol(b,2),P!==null&&fr(P,b,2),xd(),Av(b,2)}if(b=xv(f),b===null&&hv(i,o,f,zd,l),b===p)break;p=b}p!==null&&f.stopPropagation()}else hv(i,o,f,null,l)}}function xv(i){return i=Sr(i),Ov(i)}var zd=null;function Ov(i){if(zd=null,i=Ui(i),i!==null){var o=s(i);if(o===null)i=null;else{var l=o.tag;if(l===13){if(i=u(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return zd=i,null}function kS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(al()){case Qu:return 2;case sl:return 8;case zs:case Pp:return 32;case ol:return 268435456;default:return 32}default:return 32}}var Cv=!1,rs=null,is=null,as=null,ef=new Map,tf=new Map,ss=[],q3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function MS(i,o){switch(i){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":ef.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":tf.delete(o.pointerId)}}function nf(i,o,l,f,p,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:l,eventSystemFlags:f,nativeEvent:b,targetContainers:[p]},o!==null&&(o=oi(o),o!==null&&DS(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function $3(i,o,l,f,p){switch(o){case"focusin":return rs=nf(rs,i,o,l,f,p),!0;case"dragenter":return is=nf(is,i,o,l,f,p),!0;case"mouseover":return as=nf(as,i,o,l,f,p),!0;case"pointerover":var b=p.pointerId;return ef.set(b,nf(ef.get(b)||null,i,o,l,f,p)),!0;case"gotpointercapture":return b=p.pointerId,tf.set(b,nf(tf.get(b)||null,i,o,l,f,p)),!0}return!1}function jS(i){var o=Ui(i.target);if(o!==null){var l=s(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){i.blockedOn=o,xh(i.priority,function(){if(l.tag===13){var f=cr();f=ka(f);var p=Ol(l,f);p!==null&&fr(p,l,f),Av(l,f)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function qd(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=xv(i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);$i=f,l.target.dispatchEvent(f),$i=null}else return o=oi(l),o!==null&&DS(o),i.blockedOn=l,!1;o.shift()}return!0}function LS(i,o,l){qd(i)&&l.delete(o)}function F3(){Cv=!1,rs!==null&&qd(rs)&&(rs=null),is!==null&&qd(is)&&(is=null),as!==null&&qd(as)&&(as=null),ef.forEach(LS),tf.forEach(LS)}function $d(i,o){i.blockedOn===o&&(i.blockedOn=null,Cv||(Cv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,F3)))}var Fd=null;function VS(i){Fd!==i&&(Fd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Fd===i&&(Fd=null);for(var o=0;o<i.length;o+=3){var l=i[o],f=i[o+1],p=i[o+2];if(typeof f!="function"){if(Ov(f||l)===null)continue;break}var b=oi(l);b!==null&&(i.splice(o,3),o-=3,Oy(b,{pending:!0,data:p,method:l.method,action:f},f,p))}}))}function rf(i){function o(z){return $d(z,i)}rs!==null&&$d(rs,i),is!==null&&$d(is,i),as!==null&&$d(as,i),ef.forEach(o),tf.forEach(o);for(var l=0;l<ss.length;l++){var f=ss[l];f.blockedOn===i&&(f.blockedOn=null)}for(;0<ss.length&&(l=ss[0],l.blockedOn===null);)jS(l),l.blockedOn===null&&ss.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var p=l[f],b=l[f+1],x=p[$t]||null;if(typeof b=="function")x||VS(l);else if(x){var P=null;if(b&&b.hasAttribute("formAction")){if(p=b,x=b[$t]||null)P=x.formAction;else if(Ov(p)!==null)continue}else P=x.action;typeof P=="function"?l[f+1]=P:(l.splice(f,3),f-=3),VS(l)}}}function Iv(i){this._internalRoot=i}Hd.prototype.render=Iv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var l=o.current,f=cr();PS(l,f,i,o,null,null)},Hd.prototype.unmount=Iv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;PS(i.current,2,null,i,null,null),xd(),o[Tr]=null}};function Hd(i){this._internalRoot=i}Hd.prototype.unstable_scheduleHydration=function(i){if(i){var o=Ma();i={blockedOn:null,target:i,priority:o};for(var l=0;l<ss.length&&o!==0&&o<ss[l].priority;l++);ss.splice(l,0,i),l===0&&jS(i)}};var US=e.version;if(US!=="19.1.0")throw Error(r(527,US,"19.1.0"));ue.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var H3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{Ct=Kd.inject(H3),nt=Kd}catch{}}return sf.createRoot=function(i,o){if(!a(i))throw Error(r(299));var l=!1,f="",p=tA,b=nA,x=rA,P=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks)),o=IS(i,1,!1,null,null,l,f,p,b,x,P,null),i[Tr]=o.current,fv(i),new Iv(o)},sf.hydrateRoot=function(i,o,l){if(!a(i))throw Error(r(299));var f=!1,p="",b=tA,x=nA,P=rA,z=null,X=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks),l.formState!==void 0&&(X=l.formState)),o=IS(i,1,!0,o,l??null,f,p,b,x,P,z,X),o.context=RS(null),l=o.current,f=cr(),f=ka(f),p=$a(f),p.callback=null,Fa(l,p,f),l=f,o.current.lanes=l,Vi(o,l),wi(o),i[Tr]=o.current,fv(i),new Hd(o)},sf.version="19.1.0",sf}var WS;function eL(){if(WS)return Nv.exports;WS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nv.exports=J3(),Nv.exports}var tL=eL();const nL=()=>{};var XS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},rL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[n++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[n++],u=t[n++],c=t[n++],h=((a&7)<<18|(s&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|u&63)}}return e.join("")},xP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const s=t[a],u=a+1<t.length,c=u?t[a+1]:0,h=a+2<t.length,d=h?t[a+2]:0,m=s>>2,y=(s&3)<<4|c>>4;let v=(c&15)<<2|d>>6,_=d&63;h||(_=64,u||(v=64)),r.push(n[m],n[y],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const s=n[t.charAt(a++)],c=a<t.length?n[t.charAt(a)]:0;++a;const d=a<t.length?n[t.charAt(a)]:64;++a;const y=a<t.length?n[t.charAt(a)]:64;if(++a,s==null||c==null||d==null||y==null)throw new iL;const v=s<<2|c>>4;if(r.push(v),d!==64){const _=c<<4&240|d>>2;if(r.push(_),y!==64){const E=d<<6&192|y;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aL=function(t){const e=SP(t);return xP.encodeByteArray(e,!0)},Am=function(t){return aL(t).replace(/\./g,"")},OP=function(t){try{return xP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=()=>sL().__FIREBASE_DEFAULTS__,lL=()=>{if(typeof process>"u"||typeof XS>"u")return;const t=XS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OP(t[1]);return e&&JSON.parse(e)},xg=()=>{try{return nL()||oL()||lL()||uL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CP=t=>xg()?.emulatorHosts?.[t],cL=t=>{const e=CP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},IP=()=>xg()?.config,RP=t=>xg()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PP(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Am(JSON.stringify(n)),Am(JSON.stringify(u)),""].join(".")}const Tf={};function dL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tf))Tf[e]?t.emulator.push(e):t.prod.push(e);return t}function mL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let QS=!1;function NP(t,e){if(typeof window>"u"||typeof document>"u"||!Nu(window.location.host)||Tf[t]===e||Tf[t]||QS)return;Tf[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=dL().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{QS=!0,u()},v}function m(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=mL(r),_=n("text"),E=document.getElementById(_)||document.createElement("span"),T=n("learnmore"),A=document.getElementById(T)||document.createElement("a"),I=n("preprendIcon"),k=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const D=v.element;c(D),m(A,T);const F=d();h(k,I),D.append(k,E,A,F),document.body.appendChild(D)}s?(E.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function pL(){const t=xg()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _L(){const t=qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wL(){return!pL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EL(){try{return typeof indexedDB=="object"}catch{return!1}}function TL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="FirebaseError";class xa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AL,Object.setPrototypeOf(this,xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zf.prototype.create)}}class Zf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,s=this.errors[e],u=s?SL(s,r):"Error",c=`${this.serviceName}: ${u} (${a}).`;return new xa(a,c,r)}}function SL(t,e){return t.replace(xL,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const xL=/\{\$([^}]+)}/g;function OL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const s=t[a],u=e[a];if(ZS(s)&&ZS(u)){if(!xs(s,u))return!1}else if(s!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function ZS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,s]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function pf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function CL(t,e){const n=new IL(t,e);return n.subscribe.bind(n)}class IL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RL(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=jv),a.error===void 0&&(a.error=jv),a.complete===void 0&&(a.complete=jv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){return t&&t._delegate?t._delegate:t}class Uo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PL=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DL(e))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=Eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Eo){return this.instances.has(e)}getOptions(e=Eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Eo){return this.component?this.component.multipleInstances?e:Eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function NL(t){return t===Eo?void 0:t}function DL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const ML={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},jL=$e.INFO,LL={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},VL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=LL[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class X_{constructor(e){this.name=e,this._logLevel=jL,this._logHandler=VL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ML[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const UL=(t,e)=>e.some(n=>t instanceof n);let JS,ex;function BL(){return JS||(JS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zL(){return ex||(ex=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DP=new WeakMap,Ib=new WeakMap,kP=new WeakMap,Lv=new WeakMap,Q_=new WeakMap;function qL(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",u)},s=()=>{n(bs(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&DP.set(n,t)}).catch(()=>{}),Q_.set(e,t),e}function $L(t){if(Ib.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",u),t.removeEventListener("abort",u)},s=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",u),t.addEventListener("abort",u)});Ib.set(t,e)}let Rb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ib.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FL(t){Rb=t(Rb)}function HL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vv(this),e,...n);return kP.set(r,e.sort?e.sort():[e]),bs(r)}:zL().includes(t)?function(...e){return t.apply(Vv(this),e),bs(DP.get(this))}:function(...e){return bs(t.apply(Vv(this),e))}}function KL(t){return typeof t=="function"?HL(t):(t instanceof IDBTransaction&&$L(t),UL(t,BL())?new Proxy(t,Rb):t)}function bs(t){if(t instanceof IDBRequest)return qL(t);if(Lv.has(t))return Lv.get(t);const e=KL(t);return e!==t&&(Lv.set(t,e),Q_.set(e,t)),e}const Vv=t=>Q_.get(t);function GL(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const u=indexedDB.open(t,e),c=bs(u);return r&&u.addEventListener("upgradeneeded",h=>{r(bs(u.result),h.oldVersion,h.newVersion,bs(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),a&&h.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const YL=["get","getKey","getAll","getAllKeys","count"],WL=["put","add","delete","clear"],Uv=new Map;function tx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uv.get(e))return Uv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=WL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||YL.includes(n)))return;const s=async function(u,...c){const h=this.transaction(u,a?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),a&&h.done]))[0]};return Uv.set(e,s),s}FL(t=>({...t,get:(e,n,r)=>tx(e,n)||t.get(e,n,r),has:(e,n)=>!!tx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QL(t){return t.getComponent()?.type==="VERSION"}const Pb="@firebase/app",nx="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new X_("@firebase/app"),ZL="@firebase/app-compat",JL="@firebase/analytics-compat",e6="@firebase/analytics",t6="@firebase/app-check-compat",n6="@firebase/app-check",r6="@firebase/auth",i6="@firebase/auth-compat",a6="@firebase/database",s6="@firebase/data-connect",o6="@firebase/database-compat",l6="@firebase/functions",u6="@firebase/functions-compat",c6="@firebase/installations",f6="@firebase/installations-compat",h6="@firebase/messaging",d6="@firebase/messaging-compat",m6="@firebase/performance",g6="@firebase/performance-compat",p6="@firebase/remote-config",y6="@firebase/remote-config-compat",v6="@firebase/storage",b6="@firebase/storage-compat",_6="@firebase/firestore",w6="@firebase/ai",E6="@firebase/firestore-compat",T6="firebase",A6="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="[DEFAULT]",S6={[Pb]:"fire-core",[ZL]:"fire-core-compat",[e6]:"fire-analytics",[JL]:"fire-analytics-compat",[n6]:"fire-app-check",[t6]:"fire-app-check-compat",[r6]:"fire-auth",[i6]:"fire-auth-compat",[a6]:"fire-rtdb",[s6]:"fire-data-connect",[o6]:"fire-rtdb-compat",[l6]:"fire-fn",[u6]:"fire-fn-compat",[c6]:"fire-iid",[f6]:"fire-iid-compat",[h6]:"fire-fcm",[d6]:"fire-fcm-compat",[m6]:"fire-perf",[g6]:"fire-perf-compat",[p6]:"fire-rc",[y6]:"fire-rc-compat",[v6]:"fire-gcs",[b6]:"fire-gcs-compat",[_6]:"fire-fst",[E6]:"fire-fst-compat",[w6]:"fire-vertex","fire-js":"fire-js",[T6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=new Map,x6=new Map,Db=new Map;function rx(t,e){try{t.container.addComponent(e)}catch(n){ya.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mu(t){const e=t.name;if(Db.has(e))return ya.debug(`There were multiple attempts to register component ${e}.`),!1;Db.set(e,t);for(const n of Sm.values())rx(n,t);for(const n of x6.values())rx(n,t);return!0}function Z_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new Zf("app","Firebase",O6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=A6;function MP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Nb,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw _s.create("bad-app-name",{appName:String(a)});if(n||(n=IP()),!n)throw _s.create("no-options");const s=Sm.get(a);if(s){if(xs(n,s.options)&&xs(r,s.config))return s;throw _s.create("duplicate-app",{appName:a})}const u=new kL(a);for(const h of Db.values())u.addComponent(h);const c=new C6(n,r,u);return Sm.set(a,c),c}function jP(t=Nb){const e=Sm.get(t);if(!e&&t===Nb&&IP())return MP();if(!e)throw _s.create("no-app",{appName:t});return e}function ws(t,e,n){let r=S6[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ya.warn(u.join(" "));return}mu(new Uo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6="firebase-heartbeat-database",R6=1,Rf="firebase-heartbeat-store";let Bv=null;function LP(){return Bv||(Bv=GL(I6,R6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rf)}catch(n){console.warn(n)}}}}).catch(t=>{throw _s.create("idb-open",{originalErrorMessage:t.message})})),Bv}async function P6(t){try{const n=(await LP()).transaction(Rf),r=await n.objectStore(Rf).get(VP(t));return await n.done,r}catch(e){if(e instanceof xa)ya.warn(e.message);else{const n=_s.create("idb-get",{originalErrorMessage:e?.message});ya.warn(n.message)}}}async function ix(t,e){try{const r=(await LP()).transaction(Rf,"readwrite");await r.objectStore(Rf).put(e,VP(t)),await r.done}catch(n){if(n instanceof xa)ya.warn(n.message);else{const r=_s.create("idb-set",{originalErrorMessage:n?.message});ya.warn(r.message)}}}function VP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=1024,D6=30;class k6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new j6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ax();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>D6){const a=L6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ya.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ax(),{heartbeatsToSend:n,unsentEntries:r}=M6(this._heartbeatsCache.heartbeats),a=Am(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ya.warn(e),""}}}function ax(){return new Date().toISOString().substring(0,10)}function M6(t,e=N6){const n=[];let r=t.slice();for(const a of t){const s=n.find(u=>u.agent===a.agent);if(s){if(s.dates.push(a.date),sx(n)>e){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),sx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class j6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EL()?TL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ix(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ix(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function sx(t){return Am(JSON.stringify({version:2,heartbeats:t})).length}function L6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(t){mu(new Uo("platform-logger",e=>new XL(e),"PRIVATE")),mu(new Uo("heartbeat",e=>new k6(e),"PRIVATE")),ws(Pb,nx,t),ws(Pb,nx,"esm2020"),ws("fire-js","")}V6("");var U6="firebase",B6="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(U6,B6,"app");function UP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z6=UP,BP=new Zf("auth","Firebase",UP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=new X_("@firebase/auth");function q6(t,...e){xm.logLevel<=$e.WARN&&xm.warn(`Auth (${Du}): ${t}`,...e)}function dm(t,...e){xm.logLevel<=$e.ERROR&&xm.error(`Auth (${Du}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t,...e){throw J_(t,...e)}function Si(t,...e){return J_(t,...e)}function zP(t,e,n){const r={...z6(),[e]:n};return new Zf("auth","Firebase",r).create(e,{appName:t.name})}function ma(t){return zP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BP.create(t,...e)}function Re(t,e,...n){if(!t)throw J_(e,...n)}function ca(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dm(e),new Error(e)}function va(t,e){t||ca(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){return typeof self<"u"&&self.location?.href||""}function $6(){return ox()==="http:"||ox()==="https:"}function ox(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($6()||vL()||"connection"in navigator)?navigator.onLine:!0}function H6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n){this.shortDelay=e,this.longDelay=n,va(n>e,"Short delay should be less than long delay!"),this.isMobile=gL()||bL()}get(){return F6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t,e){va(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y6=new eh(3e4,6e4);function Oa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ca(t,e,n,r,a={}){return $P(t,a,async()=>{let s={},u={};r&&(e==="GET"?u=r:s={body:JSON.stringify(r)});const c=Jf({key:t.config.apiKey,...u}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:h,...s};return yL()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Nu(t.emulatorConfig.host)&&(d.credentials="include"),qP.fetch()(await FP(t,t.config.apiHost,n,c),d)})}async function $P(t,e,n){t._canInitEmulator=!1;const r={...K6,...e};try{const a=new X6(t),s=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await s.json();if("needConfirmation"in u)throw Gd(t,"account-exists-with-different-credential",u);if(s.ok&&!("errorMessage"in u))return u;{const c=s.ok?u.errorMessage:u.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gd(t,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Gd(t,"email-already-in-use",u);if(h==="USER_DISABLED")throw Gd(t,"user-disabled",u);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw zP(t,m,d);ri(t,m)}}catch(a){if(a instanceof xa)throw a;ri(t,"network-request-failed",{message:String(a)})}}async function th(t,e,n,r,a={}){const s=await Ca(t,e,n,r,a);return"mfaPendingCredential"in s&&ri(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function FP(t,e,n,r){const a=`${e}${n}?${r}`,s=t,u=s.config.emulator?e1(t.config,a):`${t.config.apiScheme}://${a}`;return G6.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(u).toString():u}function W6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Si(this.auth,"network-request-failed")),Y6.get())})}}function Gd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Si(t,e,r);return a.customData._tokenResponse=n,a}function lx(t){return t!==void 0&&t.enterprise!==void 0}class Q6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return W6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Z6(t,e){return Ca(t,"GET","/v2/recaptchaConfig",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(t,e){return Ca(t,"POST","/v1/accounts:delete",e)}async function Om(t,e){return Ca(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eV(t,e=!1){const n=en(t),r=await n.getIdToken(e),a=t1(r);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,u=s?.sign_in_provider;return{claims:a,token:r,authTime:Af(zv(a.auth_time)),issuedAtTime:Af(zv(a.iat)),expirationTime:Af(zv(a.exp)),signInProvider:u||null,signInSecondFactor:s?.sign_in_second_factor||null}}function zv(t){return Number(t)*1e3}function t1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dm("JWT malformed, contained fewer than 3 sections"),null;try{const a=OP(n);return a?JSON.parse(a):(dm("Failed to decode base64 JWT payload"),null)}catch(a){return dm("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ux(t){const e=t1(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xa&&tV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Af(this.lastLoginAt),this.creationTime=Af(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cm(t){const e=t.auth,n=await t.getIdToken(),r=await Pf(t,Om(e,{idToken:n}));Re(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const s=a.providerUserInfo?.length?HP(a.providerUserInfo):[],u=iV(t.providerData,s),c=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!u?.length,d=c?h:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Mb(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function rV(t){const e=en(t);await Cm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iV(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function HP(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(t,e){const n=await $P(t,{},async()=>{const r=Jf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,u=await FP(t,a,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return t.emulatorConfig&&Nu(t.emulatorConfig.host)&&(h.credentials="include"),qP.fetch()(u,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sV(t,e){return Ca(t,"POST","/v2/accounts:revokeToken",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ux(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=ux(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:s}=await aV(e,n);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:s}=n,u=new ou;return r&&(Re(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Re(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),s&&(Re(typeof s=="number","internal-error",{appName:e}),u.expirationTime=s),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ou,this.toJSON())}_performRefresh(){return ca("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new nV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Mb(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Pf(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eV(this,e)}reload(){return rV(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(ma(this.auth));const e=await this.getIdToken();return await Pf(this,J6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,s=n.phoneNumber??void 0,u=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,d=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:y,emailVerified:v,isAnonymous:_,providerData:E,stsTokenManager:T}=n;Re(y&&T,e,"internal-error");const A=ou.fromJSON(this.name,T);Re(typeof y=="string",e,"internal-error"),ls(r,e.name),ls(a,e.name),Re(typeof v=="boolean",e,"internal-error"),Re(typeof _=="boolean",e,"internal-error"),ls(s,e.name),ls(u,e.name),ls(c,e.name),ls(h,e.name),ls(d,e.name),ls(m,e.name);const I=new ni({uid:y,auth:e,email:a,emailVerified:v,displayName:r,isAnonymous:_,photoURL:u,phoneNumber:s,tenantId:c,stsTokenManager:A,createdAt:d,lastLoginAt:m});return E&&Array.isArray(E)&&(I.providerData=E.map(k=>({...k}))),h&&(I._redirectEventId=h),I}static async _fromIdTokenResponse(e,n,r=!1){const a=new ou;a.updateFromServerResponse(n);const s=new ni({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Cm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?HP(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!s?.length,c=new ou;c.updateFromIdToken(r);const h=new ni({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Mb(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!s?.length};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=new Map;function fa(t){va(t instanceof Function,"Expected a class definition");let e=cx.get(t);return e?(va(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KP.type="NONE";const fx=KP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t,e,n){return`firebase:${t}:${e}:${n}`}class lu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=mm(this.userKey,a.apiKey,s),this.fullPersistenceKey=mm("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Om(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lu(fa(fx),e,r);const a=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=a[0]||fa(fx);const u=mm(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const m=await d._get(u);if(m){let y;if(typeof m=="string"){const v=await Om(e,{idToken:m}).catch(()=>{});if(!v)break;y=await ni._fromGetAccountInfoResponse(e,v,m)}else y=ni._fromJSON(e,m);d!==s&&(c=y),s=d;break}}catch{}const h=a.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new lu(s,e,r):(s=h[0],c&&await s._set(u,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(u)}catch{}})),new lu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZP(e))return"Blackberry";if(JP(e))return"Webos";if(YP(e))return"Safari";if((e.includes("chrome/")||WP(e))&&!e.includes("edge/"))return"Chrome";if(QP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function GP(t=qn()){return/firefox\//i.test(t)}function YP(t=qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WP(t=qn()){return/crios\//i.test(t)}function XP(t=qn()){return/iemobile/i.test(t)}function QP(t=qn()){return/android/i.test(t)}function ZP(t=qn()){return/blackberry/i.test(t)}function JP(t=qn()){return/webos/i.test(t)}function n1(t=qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oV(t=qn()){return n1(t)&&!!window.navigator?.standalone}function lV(){return _L()&&document.documentMode===10}function e2(t=qn()){return n1(t)||QP(t)||JP(t)||ZP(t)||/windows phone/i.test(t)||XP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t,e=[]){let n;switch(t){case"Browser":n=hx(qn());break;case"Worker":n=`${hx(qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Du}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((u,c)=>{try{const h=e(s);u(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t,e={}){return Ca(t,"GET","/v2/passwordPolicy",Oa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=6;class hV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dx(this),this.idTokenSubscription=new dx(this),this.beforeStateQueue=new uV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Om(this,{idToken:e}),r=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ur(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,u=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&c?.user&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(ma(this));const n=e?en(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(ma(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(ma(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cV(this),n=new hV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sV(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fa(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await lu.create(this,[fa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(c,this,"internal-error"),c.then(()=>{u||s(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,a);return()=>{u=!0,h()}}else{const h=e.addObserver(n);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&q6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ms(t){return en(t)}class dx{constructor(e){this.auth=e,this.observer=null,this.addObserver=CL(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Og={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mV(t){Og=t}function n2(t){return Og.loadJS(t)}function gV(){return Og.recaptchaEnterpriseScript}function pV(){return Og.gapiScript}function yV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class vV{constructor(){this.enterprise=new bV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _V="recaptcha-enterprise",r2="NO_RECAPTCHA";class wV{constructor(e){this.type=_V,this.auth=Ms(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(u,c)=>{Z6(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new Q6(h);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,u(d.siteKey)}}).catch(h=>{c(h)})})}function a(s,u,c){const h=window.grecaptcha;lx(h)?h.enterprise.ready(()=>{h.enterprise.execute(s,{action:e}).then(d=>{u(d)}).catch(()=>{u(r2)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vV().execute("siteKey",{action:"verify"}):new Promise((s,u)=>{r(this.auth).then(c=>{if(!n&&lx(window.grecaptcha))a(c,s,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=gV();h.length!==0&&(h+=c),n2(h).then(()=>{a(c,s,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function mx(t,e,n,r=!1,a=!1){const s=new wV(t);let u;if(a)u=r2;else try{u=await s.verify(n)}catch{u=await s.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Im(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await mx(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await mx(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t,e){const n=Z_(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),s=n.getOptions();if(xs(s,e??{}))return a;ri(a,"already-initialized")}return n.initialize({options:e})}function TV(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(fa);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function AV(t,e,n){const r=Ms(t);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=i2(e),{host:u,port:c}=SV(e),h=c===null?"":`:${c}`,d={url:`${s}//${u}${h}/`},m=Object.freeze({host:u,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(xs(d,r.config.emulator)&&xs(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Nu(u)?(PP(`${s}//${u}${h}`),NP("Auth",!0)):xV()}function i2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SV(t){const e=i2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:gx(r.substr(s.length+1))}}else{const[s,u]=r.split(":");return{host:s,port:gx(u)}}}function gx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ca("not implemented")}_getIdTokenResponse(e){return ca("not implemented")}_linkToIdToken(e,n){return ca("not implemented")}_getReauthenticationResolver(e){return ca("not implemented")}}async function OV(t,e){return Ca(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(t,e){return th(t,"POST","/v1/accounts:signInWithPassword",Oa(t,e))}async function a2(t,e){return Ca(t,"POST","/v1/accounts:sendOobCode",Oa(t,e))}async function IV(t,e){return a2(t,e)}async function RV(t,e){return a2(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(t,e){return th(t,"POST","/v1/accounts:signInWithEmailLink",Oa(t,e))}async function NV(t,e){return th(t,"POST","/v1/accounts:signInWithEmailLink",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends r1{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Nf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Im(e,n,"signInWithPassword",CV);case"emailLink":return PV(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Im(e,r,"signUpPassword",OV);case"emailLink":return NV(e,{idToken:n,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t,e){return th(t,"POST","/v1/accounts:signInWithIdp",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="http://localhost";class Bo extends r1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...s}=n;if(!r||!a)return null;const u=new Bo(r,a);return u.idToken=s.idToken||void 0,u.accessToken=s.accessToken||void 0,u.secret=s.secret,u.nonce=s.nonce,u.pendingToken=s.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return uu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uu(e,n)}buildRequest(){const e={requestUri:DV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MV(t){const e=gf(pf(t)).link,n=e?gf(pf(e)).deep_link_id:null,r=gf(pf(t)).deep_link_id;return(r?gf(pf(r)).link:null)||r||n||e||t}class i1{constructor(e){const n=gf(pf(e)),r=n.apiKey??null,a=n.oobCode??null,s=kV(n.mode??null);Re(r&&a&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=MV(e);try{return new i1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(){this.providerId=ku.PROVIDER_ID}static credential(e,n){return Nf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=i1.parseLink(n);return Re(r,"argument-error"),Nf._fromEmailAndCode(e,r.code,r.tenantId)}}ku.PROVIDER_ID="password";ku.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ku.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends s2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends nh{constructor(){super("facebook.com")}static credential(e){return Bo._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends nh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bo._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ms.credential(n,r)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends nh{constructor(){super("github.com")}static credential(e){return Bo._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends nh{constructor(){super("twitter.com")}static credential(e,n){return Bo._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ps.credential(n,r)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e){return th(t,"POST","/v1/accounts:signUp",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const s=await ni._fromIdTokenResponse(e,r,a),u=px(r);return new zo({user:s,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=px(r);return new zo({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function px(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends xa{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Rm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Rm(e,n,r,a)}}function o2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Rm._fromErrorAndOperation(t,s,e,r):s})}async function LV(t,e,n=!1){const r=await Pf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(t,e,n=!1){const{auth:r}=t;if(Ur(r.app))return Promise.reject(ma(r));const a="reauthenticate";try{const s=await Pf(t,o2(r,a,e,t),n);Re(s.idToken,r,"internal-error");const u=t1(s.idToken);Re(u,r,"internal-error");const{sub:c}=u;return Re(t.uid===c,r,"user-mismatch"),zo._forOperation(t,a,s)}catch(s){throw s?.code==="auth/user-not-found"&&ri(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(t,e,n=!1){if(Ur(t.app))return Promise.reject(ma(t));const r="signIn",a=await o2(t,r,e),s=await zo._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(s.user),s}async function UV(t,e){return l2(Ms(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(t){const e=Ms(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BV(t,e,n){const r=Ms(t);await Im(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",RV)}async function zV(t,e,n){if(Ur(t.app))return Promise.reject(ma(t));const r=Ms(t),u=await Im(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jV).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&u2(t),h}),c=await zo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function qV(t,e,n){return Ur(t.app)?Promise.reject(ma(t)):UV(en(t),ku.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&u2(t),r})}async function c2(t,e){const n=en(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await IV(n.auth,a);s!==t.email&&await t.reload()}function $V(t,e,n,r){return en(t).onIdTokenChanged(e,n,r)}function FV(t,e,n){return en(t).beforeAuthStateChanged(e,n)}function HV(t,e,n,r){return en(t).onAuthStateChanged(e,n,r)}function KV(t){return en(t).signOut()}const Pm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pm,"1"),this.storage.removeItem(Pm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=1e3,YV=10;class h2 extends f2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,c,h)=>{this.notifyListeners(u,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},s=this.storage.getItem(r);lV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,YV):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},GV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}h2.type="LOCAL";const WV=h2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2 extends f2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}d2.type="SESSION";const m2=d2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Cg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:s}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(u).map(async d=>d(n.origin,s)),h=await XV(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,u;return new Promise((c,h)=>{const d=a1("",20);a.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(y){const v=y;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(m),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function ZV(t){xi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function JV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eU(){return navigator?.serviceWorker?.controller||null}function tU(){return g2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="firebaseLocalStorageDb",nU=1,Nm="firebaseLocalStorage",y2="fbase_key";class rh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ig(t,e){return t.transaction([Nm],e?"readwrite":"readonly").objectStore(Nm)}function rU(){const t=indexedDB.deleteDatabase(p2);return new rh(t).toPromise()}function jb(){const t=indexedDB.open(p2,nU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nm,{keyPath:y2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nm)?e(r):(r.close(),await rU(),e(await jb()))})})}async function yx(t,e,n){const r=Ig(t,!0).put({[y2]:e,value:n});return new rh(r).toPromise()}async function iU(t,e){const n=Ig(t,!1).get(e),r=await new rh(n).toPromise();return r===void 0?null:r.value}function vx(t,e){const n=Ig(t,!0).delete(e);return new rh(n).toPromise()}const aU=800,sU=3;class v2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>sU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cg._getInstance(tU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JV(),!this.activeServiceWorker)return;this.sender=new QV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jb();return await yx(e,Pm,"1"),await vx(e,Pm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=Ig(a,!1).getAll();return new rh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v2.type="LOCAL";const oU=v2;new eh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(t,e){return e?fa(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1 extends r1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uU(t){return l2(t.auth,new s1(t),t.bypassAuthState)}function cU(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),VV(n,new s1(t),t.bypassAuthState)}async function fU(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),LV(n,new s1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:s,error:u,type:c}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uU;case"linkViaPopup":case"linkViaRedirect":return fU;case"reauthViaPopup":case"reauthViaRedirect":return cU;default:ri(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=new eh(2e3,1e4);class iu extends b2{constructor(e,n,r,a,s){super(e,n,a,s),this.provider=r,this.authWindow=null,this.pollId=null,iu.currentPopupAction&&iu.currentPopupAction.cancel(),iu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){va(this.filter.length===1,"Popup operations only handle one event");const e=a1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,iu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hU.get())};e()}}iu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="pendingRedirect",gm=new Map;class mU extends b2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gm.get(this.auth._key());if(!e){try{const r=await gU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gm.set(this.auth._key(),e)}return this.bypassAuthState||gm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gU(t,e){const n=vU(e),r=yU(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function pU(t,e){gm.set(t._key(),e)}function yU(t){return fa(t._redirectPersistence)}function vU(t){return mm(dU,t.config.apiKey,t.name)}async function bU(t,e,n=!1){if(Ur(t.app))return Promise.reject(ma(t));const r=Ms(t),a=lU(r,e),u=await new mU(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=600*1e3;class wU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!_2(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Si(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_U&&this.cachedEventUids.clear(),this.cachedEventUids.has(bx(e))}saveEventToCache(e){this.cachedEventUids.add(bx(e)),this.lastProcessedEventTime=Date.now()}}function bx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function EU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t,e={}){return Ca(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SU=/^https?/;async function xU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TU(t);for(const n of e)try{if(OU(n))return}catch{}ri(t,"unauthorized-domain")}function OU(t){const e=kb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!SU.test(n))return!1;if(AU.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=new eh(3e4,6e4);function _x(){const t=xi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IU(t){return new Promise((e,n)=>{function r(){_x(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_x(),n(Si(t,"network-request-failed"))},timeout:CU.get()})}if(xi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xi().gapi?.load)r();else{const a=yV("iframefcb");return xi()[a]=()=>{gapi.load?r():n(Si(t,"network-request-failed"))},n2(`${pV()}?onload=${a}`).catch(s=>n(s))}}).catch(e=>{throw pm=null,e})}let pm=null;function RU(t){return pm=pm||IU(t),pm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=new eh(5e3,15e3),NU="__/auth/iframe",DU="emulator/auth/iframe",kU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jU(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?e1(e,DU):`https://${t.config.authDomain}/${NU}`,r={apiKey:e.apiKey,appName:t.name,v:Du},a=MU.get(t.config.apiHost);a&&(r.eid=a);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Jf(r).slice(1)}`}async function LU(t){const e=await RU(t),n=xi().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:jU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kU,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const u=Si(t,"network-request-failed"),c=xi().setTimeout(()=>{s(u)},PU.get());function h(){xi().clearTimeout(c),a(r)}r.ping(h).then(h,()=>{s(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UU=500,BU=600,zU="_blank",qU="http://localhost";class wx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $U(t,e,n,r=UU,a=BU){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...VU,width:r.toString(),height:a.toString(),top:s,left:u},d=qn().toLowerCase();n&&(c=WP(d)?zU:n),GP(d)&&(e=e||qU,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[_,E])=>`${v}${_}=${E},`,"");if(oV(d)&&c!=="_self")return FU(e||"",c),new wx(null);const y=window.open(e||"",c,m);Re(y,t,"popup-blocked");try{y.focus()}catch{}return new wx(y)}function FU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="__/auth/handler",KU="emulator/auth/handler",GU=encodeURIComponent("fac");async function Ex(t,e,n,r,a,s){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Du,eventId:a};if(e instanceof s2){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",OL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))u[m]=y}if(e instanceof nh){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(u.scopes=m.join(","))}t.tenantId&&(u.tid=t.tenantId);const c=u;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),d=h?`#${GU}=${encodeURIComponent(h)}`:"";return`${YU(t)}?${Jf(c).slice(1)}${d}`}function YU({config:t}){return t.emulator?e1(t,KU):`https://${t.authDomain}/${HU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="webStorageSupport";class WU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m2,this._completeRedirectFn=bU,this._overrideRedirectResult=pU}async _openPopup(e,n,r,a){va(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await Ex(e,n,r,kb(),a);return $U(e,s,a1())}async _openRedirect(e,n,r,a){await this._originValidation(e);const s=await Ex(e,n,r,kb(),a);return ZV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:s}=this.eventManagers[n];return a?Promise.resolve(a):(va(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LU(e),r=new wU(e);return n.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qv,{type:qv},a=>{const s=a?.[0]?.[qv];s!==void 0&&n(!!s),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return e2()||YP()||n1()}}const XU=WU;var Tx="@firebase/auth",Ax="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JU(t){mu(new Uo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;Re(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t2(t)},d=new dV(r,a,s,h);return TV(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mu(new Uo("auth-internal",e=>{const n=Ms(e.getProvider("auth").getImmediate());return(r=>new QU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(Tx,Ax,ZU(t)),ws(Tx,Ax,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=300,t5=RP("authIdTokenMaxAge")||e5;let Sx=null;const n5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>t5)return;const a=n?.token;Sx!==a&&(Sx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function r5(t=jP()){const e=Z_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=EV(t,{popupRedirectResolver:XU,persistence:[oU,WV,m2]}),r=RP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const u=n5(s.toString());FV(n,u,()=>u(n.currentUser)),$V(n,c=>u(c))}}const a=CP("auth");return a&&AV(n,`http://${a}`),n}function i5(){return document.getElementsByTagName("head")?.[0]??document}mV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const s=Si("internal-error");s.customData=a,n(s)},r.type="text/javascript",r.charset="UTF-8",i5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JU("Browser");var xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,w2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function j(){}j.prototype=R.prototype,N.D=R.prototype,N.prototype=new j,N.prototype.constructor=N,N.C=function(B,V,U){for(var L=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)L[_e-2]=arguments[_e];return R.prototype[V].apply(B,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,R,j){j||(j=0);var B=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)B[V]=R.charCodeAt(j++)|R.charCodeAt(j++)<<8|R.charCodeAt(j++)<<16|R.charCodeAt(j++)<<24;else for(V=0;16>V;++V)B[V]=R[j++]|R[j++]<<8|R[j++]<<16|R[j++]<<24;R=N.g[0],j=N.g[1],V=N.g[2];var U=N.g[3],L=R+(U^j&(V^U))+B[0]+3614090360&4294967295;R=j+(L<<7&4294967295|L>>>25),L=U+(V^R&(j^V))+B[1]+3905402710&4294967295,U=R+(L<<12&4294967295|L>>>20),L=V+(j^U&(R^j))+B[2]+606105819&4294967295,V=U+(L<<17&4294967295|L>>>15),L=j+(R^V&(U^R))+B[3]+3250441966&4294967295,j=V+(L<<22&4294967295|L>>>10),L=R+(U^j&(V^U))+B[4]+4118548399&4294967295,R=j+(L<<7&4294967295|L>>>25),L=U+(V^R&(j^V))+B[5]+1200080426&4294967295,U=R+(L<<12&4294967295|L>>>20),L=V+(j^U&(R^j))+B[6]+2821735955&4294967295,V=U+(L<<17&4294967295|L>>>15),L=j+(R^V&(U^R))+B[7]+4249261313&4294967295,j=V+(L<<22&4294967295|L>>>10),L=R+(U^j&(V^U))+B[8]+1770035416&4294967295,R=j+(L<<7&4294967295|L>>>25),L=U+(V^R&(j^V))+B[9]+2336552879&4294967295,U=R+(L<<12&4294967295|L>>>20),L=V+(j^U&(R^j))+B[10]+4294925233&4294967295,V=U+(L<<17&4294967295|L>>>15),L=j+(R^V&(U^R))+B[11]+2304563134&4294967295,j=V+(L<<22&4294967295|L>>>10),L=R+(U^j&(V^U))+B[12]+1804603682&4294967295,R=j+(L<<7&4294967295|L>>>25),L=U+(V^R&(j^V))+B[13]+4254626195&4294967295,U=R+(L<<12&4294967295|L>>>20),L=V+(j^U&(R^j))+B[14]+2792965006&4294967295,V=U+(L<<17&4294967295|L>>>15),L=j+(R^V&(U^R))+B[15]+1236535329&4294967295,j=V+(L<<22&4294967295|L>>>10),L=R+(V^U&(j^V))+B[1]+4129170786&4294967295,R=j+(L<<5&4294967295|L>>>27),L=U+(j^V&(R^j))+B[6]+3225465664&4294967295,U=R+(L<<9&4294967295|L>>>23),L=V+(R^j&(U^R))+B[11]+643717713&4294967295,V=U+(L<<14&4294967295|L>>>18),L=j+(U^R&(V^U))+B[0]+3921069994&4294967295,j=V+(L<<20&4294967295|L>>>12),L=R+(V^U&(j^V))+B[5]+3593408605&4294967295,R=j+(L<<5&4294967295|L>>>27),L=U+(j^V&(R^j))+B[10]+38016083&4294967295,U=R+(L<<9&4294967295|L>>>23),L=V+(R^j&(U^R))+B[15]+3634488961&4294967295,V=U+(L<<14&4294967295|L>>>18),L=j+(U^R&(V^U))+B[4]+3889429448&4294967295,j=V+(L<<20&4294967295|L>>>12),L=R+(V^U&(j^V))+B[9]+568446438&4294967295,R=j+(L<<5&4294967295|L>>>27),L=U+(j^V&(R^j))+B[14]+3275163606&4294967295,U=R+(L<<9&4294967295|L>>>23),L=V+(R^j&(U^R))+B[3]+4107603335&4294967295,V=U+(L<<14&4294967295|L>>>18),L=j+(U^R&(V^U))+B[8]+1163531501&4294967295,j=V+(L<<20&4294967295|L>>>12),L=R+(V^U&(j^V))+B[13]+2850285829&4294967295,R=j+(L<<5&4294967295|L>>>27),L=U+(j^V&(R^j))+B[2]+4243563512&4294967295,U=R+(L<<9&4294967295|L>>>23),L=V+(R^j&(U^R))+B[7]+1735328473&4294967295,V=U+(L<<14&4294967295|L>>>18),L=j+(U^R&(V^U))+B[12]+2368359562&4294967295,j=V+(L<<20&4294967295|L>>>12),L=R+(j^V^U)+B[5]+4294588738&4294967295,R=j+(L<<4&4294967295|L>>>28),L=U+(R^j^V)+B[8]+2272392833&4294967295,U=R+(L<<11&4294967295|L>>>21),L=V+(U^R^j)+B[11]+1839030562&4294967295,V=U+(L<<16&4294967295|L>>>16),L=j+(V^U^R)+B[14]+4259657740&4294967295,j=V+(L<<23&4294967295|L>>>9),L=R+(j^V^U)+B[1]+2763975236&4294967295,R=j+(L<<4&4294967295|L>>>28),L=U+(R^j^V)+B[4]+1272893353&4294967295,U=R+(L<<11&4294967295|L>>>21),L=V+(U^R^j)+B[7]+4139469664&4294967295,V=U+(L<<16&4294967295|L>>>16),L=j+(V^U^R)+B[10]+3200236656&4294967295,j=V+(L<<23&4294967295|L>>>9),L=R+(j^V^U)+B[13]+681279174&4294967295,R=j+(L<<4&4294967295|L>>>28),L=U+(R^j^V)+B[0]+3936430074&4294967295,U=R+(L<<11&4294967295|L>>>21),L=V+(U^R^j)+B[3]+3572445317&4294967295,V=U+(L<<16&4294967295|L>>>16),L=j+(V^U^R)+B[6]+76029189&4294967295,j=V+(L<<23&4294967295|L>>>9),L=R+(j^V^U)+B[9]+3654602809&4294967295,R=j+(L<<4&4294967295|L>>>28),L=U+(R^j^V)+B[12]+3873151461&4294967295,U=R+(L<<11&4294967295|L>>>21),L=V+(U^R^j)+B[15]+530742520&4294967295,V=U+(L<<16&4294967295|L>>>16),L=j+(V^U^R)+B[2]+3299628645&4294967295,j=V+(L<<23&4294967295|L>>>9),L=R+(V^(j|~U))+B[0]+4096336452&4294967295,R=j+(L<<6&4294967295|L>>>26),L=U+(j^(R|~V))+B[7]+1126891415&4294967295,U=R+(L<<10&4294967295|L>>>22),L=V+(R^(U|~j))+B[14]+2878612391&4294967295,V=U+(L<<15&4294967295|L>>>17),L=j+(U^(V|~R))+B[5]+4237533241&4294967295,j=V+(L<<21&4294967295|L>>>11),L=R+(V^(j|~U))+B[12]+1700485571&4294967295,R=j+(L<<6&4294967295|L>>>26),L=U+(j^(R|~V))+B[3]+2399980690&4294967295,U=R+(L<<10&4294967295|L>>>22),L=V+(R^(U|~j))+B[10]+4293915773&4294967295,V=U+(L<<15&4294967295|L>>>17),L=j+(U^(V|~R))+B[1]+2240044497&4294967295,j=V+(L<<21&4294967295|L>>>11),L=R+(V^(j|~U))+B[8]+1873313359&4294967295,R=j+(L<<6&4294967295|L>>>26),L=U+(j^(R|~V))+B[15]+4264355552&4294967295,U=R+(L<<10&4294967295|L>>>22),L=V+(R^(U|~j))+B[6]+2734768916&4294967295,V=U+(L<<15&4294967295|L>>>17),L=j+(U^(V|~R))+B[13]+1309151649&4294967295,j=V+(L<<21&4294967295|L>>>11),L=R+(V^(j|~U))+B[4]+4149444226&4294967295,R=j+(L<<6&4294967295|L>>>26),L=U+(j^(R|~V))+B[11]+3174756917&4294967295,U=R+(L<<10&4294967295|L>>>22),L=V+(R^(U|~j))+B[2]+718787259&4294967295,V=U+(L<<15&4294967295|L>>>17),L=j+(U^(V|~R))+B[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(V+(L<<21&4294967295|L>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var j=R-this.blockSize,B=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=j;)a(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<R;)if(B[V++]=N.charCodeAt(U++),V==this.blockSize){a(this,B),V=0;break}}else for(;U<R;)if(B[V++]=N[U++],V==this.blockSize){a(this,B),V=0;break}}this.h=V,this.o+=R},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var j=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=j&255,j/=256;for(this.u(N),N=Array(16),R=j=0;4>R;++R)for(var B=0;32>B;B+=8)N[j++]=this.g[R]>>>B&255;return N};function s(N,R){var j=c;return Object.prototype.hasOwnProperty.call(j,N)?j[N]:j[N]=R(N)}function u(N,R){this.h=R;for(var j=[],B=!0,V=N.length-1;0<=V;V--){var U=N[V]|0;B&&U==R||(j[V]=U,B=!1)}this.g=j}var c={};function h(N){return-128<=N&&128>N?s(N,function(R){return new u([R|0],0>R?-1:0)}):new u([N|0],0>N?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return y;if(0>N)return A(d(-N));for(var R=[],j=1,B=0;N>=j;B++)R[B]=N/j|0,j*=4294967296;return new u(R,0)}function m(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return A(m(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=d(Math.pow(R,8)),B=y,V=0;V<N.length;V+=8){var U=Math.min(8,N.length-V),L=parseInt(N.substring(V,V+U),R);8>U?(U=d(Math.pow(R,U)),B=B.j(U).add(d(L))):(B=B.j(j),B=B.add(d(L)))}return B}var y=h(0),v=h(1),_=h(16777216);t=u.prototype,t.m=function(){if(T(this))return-A(this).m();for(var N=0,R=1,j=0;j<this.g.length;j++){var B=this.i(j);N+=(0<=B?B:4294967296+B)*R,R*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(E(this))return"0";if(T(this))return"-"+A(this).toString(N);for(var R=d(Math.pow(N,6)),j=this,B="";;){var V=F(j,R).g;j=I(j,V.j(R));var U=((0<j.g.length?j.g[0]:j.h)>>>0).toString(N);if(j=V,E(j))return U+B;for(;6>U.length;)U="0"+U;B=U+B}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function E(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function T(N){return N.h==-1}t.l=function(N){return N=I(this,N),T(N)?-1:E(N)?0:1};function A(N){for(var R=N.g.length,j=[],B=0;B<R;B++)j[B]=~N.g[B];return new u(j,~N.h).add(v)}t.abs=function(){return T(this)?A(this):this},t.add=function(N){for(var R=Math.max(this.g.length,N.g.length),j=[],B=0,V=0;V<=R;V++){var U=B+(this.i(V)&65535)+(N.i(V)&65535),L=(U>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);B=L>>>16,U&=65535,L&=65535,j[V]=L<<16|U}return new u(j,j[j.length-1]&-2147483648?-1:0)};function I(N,R){return N.add(A(R))}t.j=function(N){if(E(this)||E(N))return y;if(T(this))return T(N)?A(this).j(A(N)):A(A(this).j(N));if(T(N))return A(this.j(A(N)));if(0>this.l(_)&&0>N.l(_))return d(this.m()*N.m());for(var R=this.g.length+N.g.length,j=[],B=0;B<2*R;B++)j[B]=0;for(B=0;B<this.g.length;B++)for(var V=0;V<N.g.length;V++){var U=this.i(B)>>>16,L=this.i(B)&65535,_e=N.i(V)>>>16,Se=N.i(V)&65535;j[2*B+2*V]+=L*Se,k(j,2*B+2*V),j[2*B+2*V+1]+=U*Se,k(j,2*B+2*V+1),j[2*B+2*V+1]+=L*_e,k(j,2*B+2*V+1),j[2*B+2*V+2]+=U*_e,k(j,2*B+2*V+2)}for(B=0;B<R;B++)j[B]=j[2*B+1]<<16|j[2*B];for(B=R;B<2*R;B++)j[B]=0;return new u(j,0)};function k(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function D(N,R){this.g=N,this.h=R}function F(N,R){if(E(R))throw Error("division by zero");if(E(N))return new D(y,y);if(T(N))return R=F(A(N),R),new D(A(R.g),A(R.h));if(T(R))return R=F(N,A(R)),new D(A(R.g),R.h);if(30<N.g.length){if(T(N)||T(R))throw Error("slowDivide_ only works with positive integers.");for(var j=v,B=R;0>=B.l(N);)j=q(j),B=q(B);var V=H(j,1),U=H(B,1);for(B=H(B,2),j=H(j,2);!E(B);){var L=U.add(B);0>=L.l(N)&&(V=V.add(j),U=L),B=H(B,1),j=H(j,1)}return R=I(N,V.j(R)),new D(V,R)}for(V=y;0<=N.l(R);){for(j=Math.max(1,Math.floor(N.m()/R.m())),B=Math.ceil(Math.log(j)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),U=d(j),L=U.j(R);T(L)||0<L.l(N);)j-=B,U=d(j),L=U.j(R);E(U)&&(U=v),V=V.add(U),N=I(N,L)}return new D(V,N)}t.A=function(N){return F(this,N).h},t.and=function(N){for(var R=Math.max(this.g.length,N.g.length),j=[],B=0;B<R;B++)j[B]=this.i(B)&N.i(B);return new u(j,this.h&N.h)},t.or=function(N){for(var R=Math.max(this.g.length,N.g.length),j=[],B=0;B<R;B++)j[B]=this.i(B)|N.i(B);return new u(j,this.h|N.h)},t.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),j=[],B=0;B<R;B++)j[B]=this.i(B)^N.i(B);return new u(j,this.h^N.h)};function q(N){for(var R=N.g.length+1,j=[],B=0;B<R;B++)j[B]=N.i(B)<<1|N.i(B-1)>>>31;return new u(j,N.h)}function H(N,R){var j=R>>5;R%=32;for(var B=N.g.length-j,V=[],U=0;U<B;U++)V[U]=0<R?N.i(U+j)>>>R|N.i(U+j+1)<<32-R:N.i(U+j);return new u(V,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,w2=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=m,Es=u}).apply(typeof xx<"u"?xx:typeof self<"u"?self:typeof window<"u"?window:{});var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E2,yf,T2,ym,Lb,A2,S2,x2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,w,S){return g==Array.prototype||g==Object.prototype||(g[w]=S.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yd=="object"&&Yd];for(var w=0;w<g.length;++w){var S=g[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function a(g,w){if(w)e:{var S=r;g=g.split(".");for(var M=0;M<g.length-1;M++){var Y=g[M];if(!(Y in S))break e;S=S[Y]}g=g[g.length-1],M=S[g],w=w(M),w!=M&&w!=null&&e(S,g,{configurable:!0,writable:!0,value:w})}}function s(g,w){g instanceof String&&(g+="");var S=0,M=!1,Y={next:function(){if(!M&&S<g.length){var ee=S++;return{value:w(ee,g[ee]),done:!1}}return M=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(g){return g||function(){return s(this,function(w,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function h(g){var w=typeof g;return w=w!="object"?w:g?Array.isArray(g)?"array":w:"null",w=="array"||w=="object"&&typeof g.length=="number"}function d(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function m(g,w,S){return g.call.apply(g.bind,arguments)}function y(g,w,S){if(!g)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,M),g.apply(w,Y)}}return function(){return g.apply(w,arguments)}}function v(g,w,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,v.apply(null,arguments)}function _(g,w){var S=Array.prototype.slice.call(arguments,1);return function(){var M=S.slice();return M.push.apply(M,arguments),g.apply(this,M)}}function E(g,w){function S(){}S.prototype=w.prototype,g.aa=w.prototype,g.prototype=new S,g.prototype.constructor=g,g.Qb=function(M,Y,ee){for(var he=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)he[Ge-2]=arguments[Ge];return w.prototype[Y].apply(M,he)}}function T(g){const w=g.length;if(0<w){const S=Array(w);for(let M=0;M<w;M++)S[M]=g[M];return S}return[]}function A(g,w){for(let S=1;S<arguments.length;S++){const M=arguments[S];if(h(M)){const Y=g.length||0,ee=M.length||0;g.length=Y+ee;for(let he=0;he<ee;he++)g[Y+he]=M[he]}else g.push(M)}}class I{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function k(g){return/^[\s\xa0]*$/.test(g)}function D(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function F(g){return F[" "](g),g}F[" "]=function(){};var q=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function H(g,w,S){for(const M in g)w.call(S,g[M],M,g)}function N(g,w){for(const S in g)w.call(void 0,g[S],S,g)}function R(g){const w={};for(const S in g)w[S]=g[S];return w}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(g,w){let S,M;for(let Y=1;Y<arguments.length;Y++){M=arguments[Y];for(S in M)g[S]=M[S];for(let ee=0;ee<j.length;ee++)S=j[ee],Object.prototype.hasOwnProperty.call(M,S)&&(g[S]=M[S])}}function V(g){var w=1;g=g.split(":");const S=[];for(;0<w&&g.length;)S.push(g.shift()),w--;return g.length&&S.push(g.join(":")),S}function U(g){c.setTimeout(()=>{throw g},0)}function L(){var g=Ce;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class _e{constructor(){this.h=this.g=null}add(w,S){const M=Se.get();M.set(w,S),this.h?this.h.next=M:this.g=M,this.h=M}}var Se=new I(()=>new Z,g=>g.reset());class Z{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,de=!1,Ce=new _e,$=()=>{const g=c.Promise.resolve(void 0);ue=()=>{g.then(ae)}};var ae=()=>{for(var g;g=L();){try{g.h.call(g.g)}catch(S){U(S)}var w=Se;w.j(g),100>w.h&&(w.h++,g.next=w.g,w.g=g)}de=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const S=()=>{};c.addEventListener("test",S,w),c.removeEventListener("test",S,w)}catch{}return g}();function xe(g,w){if(ce.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var S=this.type=g.type,M=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget){if(q){e:{try{F(w.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(w=null)}}else S=="mouseover"?w=g.fromElement:S=="mouseout"&&(w=g.toElement);this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ne[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&xe.aa.h.call(this)}}E(xe,ce);var Ne={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),ot=0;function me(g,w,S,M,Y){this.listener=g,this.proxy=null,this.src=w,this.type=S,this.capture=!!M,this.ha=Y,this.key=++ot,this.da=this.fa=!1}function ke(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Le(g){this.src=g,this.g={},this.h=0}Le.prototype.add=function(g,w,S,M,Y){var ee=g.toString();g=this.g[ee],g||(g=this.g[ee]=[],this.h++);var he=Ot(g,w,M,Y);return-1<he?(w=g[he],S||(w.fa=!1)):(w=new me(w,this.src,ee,!!M,Y),w.fa=S,g.push(w)),w};function fe(g,w){var S=w.type;if(S in g.g){var M=g.g[S],Y=Array.prototype.indexOf.call(M,w,void 0),ee;(ee=0<=Y)&&Array.prototype.splice.call(M,Y,1),ee&&(ke(w),g.g[S].length==0&&(delete g.g[S],g.h--))}}function Ot(g,w,S,M){for(var Y=0;Y<g.length;++Y){var ee=g[Y];if(!ee.da&&ee.listener==w&&ee.capture==!!S&&ee.ha==M)return Y}return-1}var Ke="closure_lm_"+(1e6*Math.random()|0),tn={};function hn(g,w,S,M,Y){if(Array.isArray(w)){for(var ee=0;ee<w.length;ee++)hn(g,w[ee],S,M,Y);return null}return S=Ah(S),g&&g[zt]?g.K(w,S,d(M)?!!M.capture:!1,Y):qt(g,w,S,!1,M,Y)}function qt(g,w,S,M,Y,ee){if(!w)throw Error("Invalid event type");var he=d(Y)?!!Y.capture:!!Y,Ge=ol(g);if(Ge||(g[Ke]=Ge=new Le(g)),S=Ge.add(w,S,M,he,ee),S.proxy)return S;if(M=al(),S.proxy=M,M.src=g,M.listener=S,g.addEventListener)be||(Y=he),Y===void 0&&(Y=!1),g.addEventListener(w.toString(),M,Y);else if(g.attachEvent)g.attachEvent(zs(w.toString()),M);else if(g.addListener&&g.removeListener)g.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return S}function al(){function g(S){return w.call(g.src,g.listener,S)}const w=Pp;return g}function Qu(g,w,S,M,Y){if(Array.isArray(w))for(var ee=0;ee<w.length;ee++)Qu(g,w[ee],S,M,Y);else M=d(M)?!!M.capture:!!M,S=Ah(S),g&&g[zt]?(g=g.i,w=String(w).toString(),w in g.g&&(ee=g.g[w],S=Ot(ee,S,M,Y),-1<S&&(ke(ee[S]),Array.prototype.splice.call(ee,S,1),ee.length==0&&(delete g.g[w],g.h--)))):g&&(g=ol(g))&&(w=g.g[w.toString()],g=-1,w&&(g=Ot(w,S,M,Y)),(S=-1<g?w[g]:null)&&sl(S))}function sl(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[zt])fe(w.i,g);else{var S=g.type,M=g.proxy;w.removeEventListener?w.removeEventListener(S,M,g.capture):w.detachEvent?w.detachEvent(zs(S),M):w.addListener&&w.removeListener&&w.removeListener(M),(S=ol(w))?(fe(S,g),S.h==0&&(S.src=null,w[Ke]=null)):ke(g)}}}function zs(g){return g in tn?tn[g]:tn[g]="on"+g}function Pp(g,w){if(g.da)g=!0;else{w=new xe(w,this);var S=g.listener,M=g.ha||g.src;g.fa&&sl(g),g=S.call(M,w)}return g}function ol(g){return g=g[Ke],g instanceof Le?g:null}var Zu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ah(g){return typeof g=="function"?g:(g[Zu]||(g[Zu]=function(w){return g.handleEvent(w)}),g[Zu])}function Ct(){re.call(this),this.i=new Le(this),this.M=this,this.F=null}E(Ct,re),Ct.prototype[zt]=!0,Ct.prototype.removeEventListener=function(g,w,S,M){Qu(this,g,w,S,M)};function nt(g,w){var S,M=g.F;if(M)for(S=[];M;M=M.F)S.push(M);if(g=g.M,M=w.type||w,typeof w=="string")w=new ce(w,g);else if(w instanceof ce)w.target=w.target||g;else{var Y=w;w=new ce(M,g),B(w,Y)}if(Y=!0,S)for(var ee=S.length-1;0<=ee;ee--){var he=w.g=S[ee];Y=rr(he,M,!0,w)&&Y}if(he=w.g=g,Y=rr(he,M,!0,w)&&Y,Y=rr(he,M,!1,w)&&Y,S)for(ee=0;ee<S.length;ee++)he=w.g=S[ee],Y=rr(he,M,!1,w)&&Y}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var g=this.i,w;for(w in g.g){for(var S=g.g[w],M=0;M<S.length;M++)ke(S[M]);delete g.g[w],g.h--}}this.F=null},Ct.prototype.K=function(g,w,S,M){return this.i.add(String(g),w,!1,S,M)},Ct.prototype.L=function(g,w,S,M){return this.i.add(String(g),w,!0,S,M)};function rr(g,w,S,M){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();for(var Y=!0,ee=0;ee<w.length;++ee){var he=w[ee];if(he&&!he.da&&he.capture==S){var Ge=he.listener,rn=he.ha||he.src;he.fa&&fe(g.i,he),Y=Ge.call(rn,M)!==!1&&Y}}return Y&&!M.defaultPrevented}function kn(g,w,S){if(typeof g=="function")S&&(g=v(g,S));else if(g&&typeof g.handleEvent=="function")g=v(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(g,w||0)}function Sh(g){g.g=kn(()=>{g.g=null,g.i&&(g.i=!1,Sh(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class Np extends re{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Sh(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qs(g){re.call(this),this.h=g,this.g={}}E(qs,re);var $s=[];function Fs(g){H(g.g,function(w,S){this.g.hasOwnProperty(S)&&sl(w)},g),g.g={}}qs.prototype.N=function(){qs.aa.N.call(this),Fs(this)},qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yr=c.JSON.stringify,ll=c.JSON.parse,Hs=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function Ju(){}Ju.prototype.h=null;function ec(g){return g.h||(g.h=g.i())}function tc(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vi(){ce.call(this,"d")}E(Vi,ce);function nc(){ce.call(this,"c")}E(nc,ce);var si={},rc=null;function ka(){return rc=rc||new Ct}si.La="serverreachability";function ul(g){ce.call(this,si.La,g)}E(ul,ce);function Ma(g){const w=ka();nt(w,new ul(w))}si.STAT_EVENT="statevent";function xh(g,w){ce.call(this,si.STAT_EVENT,g),this.stat=w}E(xh,ce);function Et(g){const w=ka();nt(w,new xh(w,g))}si.Ma="timingevent";function nn(g,w){ce.call(this,si.Ma,g),this.size=w}E(nn,ce);function $t(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},w)}function Tr(){this.g=!0}Tr.prototype.xa=function(){this.g=!1};function ic(g,w,S,M,Y,ee){g.info(function(){if(g.g)if(ee)for(var he="",Ge=ee.split("&"),rn=0;rn<Ge.length;rn++){var Ye=Ge[rn].split("=");if(1<Ye.length){var mn=Ye[0];Ye=Ye[1];var an=mn.split("_");he=2<=an.length&&an[1]=="type"?he+(mn+"="+Ye+"&"):he+(mn+"=redacted&")}}else he=null;else he=ee;return"XMLHTTP REQ ("+M+") [attempt "+Y+"]: "+w+`
`+S+`
`+he})}function Dp(g,w,S,M,Y,ee,he){g.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Y+"]: "+w+`
`+S+`
`+ee+" "+he})}function ja(g,w,S,M){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ks(g,S)+(M?" "+M:"")})}function Oh(g,w){g.info(function(){return"TIMEOUT: "+w})}Tr.prototype.info=function(){};function Ks(g,w){if(!g.g)return w;if(!w)return null;try{var S=JSON.parse(w);if(S){for(g=0;g<S.length;g++)if(Array.isArray(S[g])){var M=S[g];if(!(2>M.length)){var Y=M[1];if(Array.isArray(Y)&&!(1>Y.length)){var ee=Y[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var he=1;he<Y.length;he++)Y[he]=""}}}}return Yr(S)}catch{return w}}var La={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oi;function li(){}E(li,Ju),li.prototype.g=function(){return new XMLHttpRequest},li.prototype.i=function(){return{}},oi=new li;function $n(g,w,S,M){this.j=g,this.i=w,this.l=S,this.R=M||1,this.U=new qs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kt}function kt(){this.i=null,this.g="",this.h=!1}var ac={},cl={};function Wr(g,w,S){g.L=1,g.v=Qs(ir(w)),g.m=S,g.P=!0,Bi(g,null)}function Bi(g,w){g.F=Date.now(),Gs(g),g.A=ir(g.v);var S=g.A,M=g.R;Array.isArray(M)||(M=[String(M)]),fc(S.i,"t",M),g.C=0,S=g.j.J,g.h=new kt,g.g=$h(g.j,S?w:null,!g.m),0<g.O&&(g.M=new Np(v(g.Y,g,g.g),g.O)),w=g.U,S=g.g,M=g.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&($s[0]=Y.toString()),Y=$s);for(var ee=0;ee<Y.length;ee++){var he=hn(S,Y[ee],M||w.handleEvent,!1,w.h||w);if(!he)break;w.g[he.key]=he}w=g.H?R(g.H):{},g.m?(g.u||(g.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,w)):(g.u="GET",g.g.ea(g.A,g.u,null,w)),Ma(),ic(g.i,g.u,g.A,g.l,g.R,g.m)}$n.prototype.ca=function(g){g=g.target;const w=this.M;w&&Or(g)==3?w.j():this.Y(g)},$n.prototype.Y=function(g){try{if(g==this.g)e:{const an=Or(this.g);var w=this.g.Ba();const Yi=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||Mh(this.g)))){this.J||an!=4||w==7||(w==8||0>=Yi?Ma(3):Ma(2)),Va(this);var S=this.g.Z();this.X=S;t:if(Ch(this)){var M=Mh(this.g);g="";var Y=M.length,ee=Or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),ui(this);var he="";break t}this.h.i=new c.TextDecoder}for(w=0;w<Y;w++)this.h.h=!0,g+=this.h.i.decode(M[w],{stream:!(ee&&w==Y-1)});M.length=0,this.h.g+=g,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=S==200,Dp(this.i,this.u,this.A,this.l,this.R,an,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,rn=this.g;if((Ge=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Ge)){var Ye=Ge;break t}}Ye=null}if(S=Ye)ja(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ys(this,S);else{this.o=!1,this.s=3,Et(12),En(this),ui(this);break e}}if(this.P){S=!0;let Tn;for(;!this.J&&this.C<he.length;)if(Tn=Ih(this,he),Tn==cl){an==4&&(this.s=4,Et(14),S=!1),ja(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==ac){this.s=4,Et(15),ja(this.i,this.l,he,"[Invalid Chunk]"),S=!1;break}else ja(this.i,this.l,Tn,null),Ys(this,Tn);if(Ch(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||he.length!=0||this.h.h||(this.s=1,Et(16),S=!1),this.o=this.o&&S,!S)ja(this.i,this.l,he,"[Invalid Chunked Response]"),En(this),ui(this);else if(0<he.length&&!this.W){this.W=!0;var mn=this.j;mn.g==this&&mn.ba&&!mn.M&&(mn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),ao(mn),mn.M=!0,Et(11))}}else ja(this.i,this.l,he,null),Ys(this,he);an==4&&En(this),this.o&&!this.J&&(an==4?Bh(this.j,this):(this.o=!1,Gs(this)))}else Vp(this.g),S==400&&0<he.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),En(this),ui(this)}}}catch{}finally{}};function Ch(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Ih(g,w){var S=g.C,M=w.indexOf(`
`,S);return M==-1?cl:(S=Number(w.substring(S,M)),isNaN(S)?ac:(M+=1,M+S>w.length?cl:(w=w.slice(M,M+S),g.C=M+S,w)))}$n.prototype.cancel=function(){this.J=!0,En(this)};function Gs(g){g.S=Date.now()+g.I,Rh(g,g.I)}function Rh(g,w){if(g.B!=null)throw Error("WatchDog timer not null");g.B=$t(v(g.ba,g),w)}function Va(g){g.B&&(c.clearTimeout(g.B),g.B=null)}$n.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Oh(this.i,this.A),this.L!=2&&(Ma(),Et(17)),En(this),this.s=2,ui(this)):Rh(this,this.S-g)};function ui(g){g.j.G==0||g.J||Bh(g.j,g)}function En(g){Va(g);var w=g.M;w&&typeof w.ma=="function"&&w.ma(),g.M=null,Fs(g.U),g.g&&(w=g.g,g.g=null,w.abort(),w.ma())}function Ys(g,w){try{var S=g.j;if(S.G!=0&&(S.g==g||sc(S.h,g))){if(!g.K&&sc(S.h,g)&&S.G==3){try{var M=S.Da.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Y=M;if(Y[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<g.F)El(S),_l(S);else break e;pc(S),Et(18)}}else S.za=Y[1],0<S.za-S.T&&37500>Y[2]&&S.F&&S.v==0&&!S.C&&(S.C=$t(v(S.Za,S),6e3));if(1>=hl(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Gi(S,11)}else if((g.K||S.g==g)&&El(S),!k(w))for(Y=S.Da.g.parse(w),w=0;w<Y.length;w++){let Ye=Y[w];if(S.T=Ye[0],Ye=Ye[1],S.G==2)if(Ye[0]=="c"){S.K=Ye[1],S.ia=Ye[2];const mn=Ye[3];mn!=null&&(S.la=mn,S.j.info("VER="+S.la));const an=Ye[4];an!=null&&(S.Aa=an,S.j.info("SVER="+S.Aa));const Yi=Ye[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(M=1.5*Yi,S.L=M,S.j.info("backChannelRequestTimeoutMs_="+M)),M=S;const Tn=g.g;if(Tn){const pi=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var ee=M.h;ee.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(dl(ee,ee.h),ee.h=null))}if(M.D){const vc=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;vc&&(M.ya=vc,lt(M.I,M.D,vc))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-g.F,S.j.info("Handshake RTT: "+S.R+"ms")),M=S;var he=g;if(M.qa=qh(M,M.J?M.ia:null,M.W),he.K){Fn(M.h,he);var Ge=he,rn=M.L;rn&&(Ge.I=rn),Ge.B&&(Va(Ge),Gs(Ge)),M.g=he}else Vh(M);0<S.i.length&&wl(S)}else Ye[0]!="stop"&&Ye[0]!="close"||Gi(S,7);else S.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Gi(S,7):mc(S):Ye[0]!="noop"&&S.l&&S.l.ta(Ye),S.v=0)}}Ma(4)}catch{}}var Ph=class{constructor(g,w){this.g=g,this.map=w}};function zi(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fl(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function hl(g){return g.h?1:g.g?g.g.size:0}function sc(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function dl(g,w){g.g?g.g.add(w):g.h=w}function Fn(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}zi.prototype.cancel=function(){if(this.i=oc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function oc(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const S of g.g.values())w=w.concat(S.D);return w}return T(g.i)}function kp(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var w=[],S=g.length,M=0;M<S;M++)w.push(g[M]);return w}w=[],S=0;for(M in g)w[S++]=g[M];return w}function ml(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var w=[];g=g.length;for(var S=0;S<g;S++)w.push(S);return w}w=[],S=0;for(const M in g)w[S++]=M;return w}}}function lc(g,w){if(g.forEach&&typeof g.forEach=="function")g.forEach(w,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,w,void 0);else for(var S=ml(g),M=kp(g),Y=M.length,ee=0;ee<Y;ee++)w.call(void 0,M[ee],S&&S[ee],g)}var Ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mp(g,w){if(g){g=g.split("&");for(var S=0;S<g.length;S++){var M=g[S].indexOf("="),Y=null;if(0<=M){var ee=g[S].substring(0,M);Y=g[S].substring(M+1)}else ee=g[S];w(ee,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ft(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Ft){this.h=g.h,Xs(this,g.j),this.o=g.o,this.g=g.g,Ua(this,g.s),this.l=g.l;var w=g.i,S=new $i;S.i=w.i,w.g&&(S.g=new Map(w.g),S.h=w.h),qi(this,S),this.m=g.m}else g&&(w=String(g).match(Ws))?(this.h=!1,Xs(this,w[1]||"",!0),this.o=Ar(w[2]||""),this.g=Ar(w[3]||"",!0),Ua(this,w[4]),this.l=Ar(w[5]||"",!0),qi(this,w[6]||"",!0),this.m=Ar(w[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}Ft.prototype.toString=function(){var g=[],w=this.j;w&&g.push(Zs(w,uc,!0),":");var S=this.g;return(S||w=="file")&&(g.push("//"),(w=this.o)&&g.push(Zs(w,uc,!0),"@"),g.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&g.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&g.push("/"),g.push(Zs(S,S.charAt(0)=="/"?jp:cc,!0))),(S=this.i.toString())&&g.push("?",S),(S=this.m)&&g.push("#",Zs(S,gl)),g.join("")};function ir(g){return new Ft(g)}function Xs(g,w,S){g.j=S?Ar(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function Ua(g,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);g.s=w}else g.s=null}function qi(g,w,S){w instanceof $i?(g.i=w,Dh(g.i,g.h)):(S||(w=Zs(w,Lp)),g.i=new $i(w,g.h))}function lt(g,w,S){g.i.set(w,S)}function Qs(g){return lt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Ar(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Zs(g,w,S){return typeof g=="string"?(g=encodeURI(g).replace(w,Nh),S&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Nh(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var uc=/[#\/\?@]/g,cc=/[#\?:]/g,jp=/[#\?]/g,Lp=/[#\?@]/g,gl=/#/g;function $i(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function Sr(g){g.g||(g.g=new Map,g.h=0,g.i&&Mp(g.i,function(w,S){g.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}t=$i.prototype,t.add=function(g,w){Sr(this),this.i=null,g=ci(this,g);var S=this.g.get(g);return S||this.g.set(g,S=[]),S.push(w),this.h+=1,this};function Fi(g,w){Sr(g),w=ci(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function Hi(g,w){return Sr(g),w=ci(g,w),g.g.has(w)}t.forEach=function(g,w){Sr(this),this.g.forEach(function(S,M){S.forEach(function(Y){g.call(w,Y,M,this)},this)},this)},t.na=function(){Sr(this);const g=Array.from(this.g.values()),w=Array.from(this.g.keys()),S=[];for(let M=0;M<w.length;M++){const Y=g[M];for(let ee=0;ee<Y.length;ee++)S.push(w[M])}return S},t.V=function(g){Sr(this);let w=[];if(typeof g=="string")Hi(this,g)&&(w=w.concat(this.g.get(ci(this,g))));else{g=Array.from(this.g.values());for(let S=0;S<g.length;S++)w=w.concat(g[S])}return w},t.set=function(g,w){return Sr(this),this.i=null,g=ci(this,g),Hi(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},t.get=function(g,w){return g?(g=this.V(g),0<g.length?String(g[0]):w):w};function fc(g,w,S){Fi(g,w),0<S.length&&(g.i=null,g.g.set(ci(g,w),T(S)),g.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(var S=0;S<w.length;S++){var M=w[S];const ee=encodeURIComponent(String(M)),he=this.V(M);for(M=0;M<he.length;M++){var Y=ee;he[M]!==""&&(Y+="="+encodeURIComponent(String(he[M]))),g.push(Y)}}return this.i=g.join("&")};function ci(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function Dh(g,w){w&&!g.j&&(Sr(g),g.i=null,g.g.forEach(function(S,M){var Y=M.toLowerCase();M!=Y&&(Fi(this,M),fc(this,Y,S))},g)),g.j=w}function Js(g,w){const S=new Tr;if(c.Image){const M=new Image;M.onload=_(xr,S,"TestLoadImage: loaded",!0,w,M),M.onerror=_(xr,S,"TestLoadImage: error",!1,w,M),M.onabort=_(xr,S,"TestLoadImage: abort",!1,w,M),M.ontimeout=_(xr,S,"TestLoadImage: timeout",!1,w,M),c.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=g}else w(!1)}function Xr(g,w){const S=new Tr,M=new AbortController,Y=setTimeout(()=>{M.abort(),xr(S,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:M.signal}).then(ee=>{clearTimeout(Y),ee.ok?xr(S,"TestPingServer: ok",!0,w):xr(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Y),xr(S,"TestPingServer: error",!1,w)})}function xr(g,w,S,M,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),M(S)}catch{}}function eo(){this.g=new Hs}function fi(g,w,S){const M=S||"";try{lc(g,function(Y,ee){let he=Y;d(Y)&&(he=Yr(Y)),w.push(M+ee+"="+encodeURIComponent(he))})}catch(Y){throw w.push(M+"type="+encodeURIComponent("_badmap")),Y}}function Ba(g){this.l=g.Ub||null,this.j=g.eb||!1}E(Ba,Ju),Ba.prototype.g=function(){return new Ki(this.l,this.j)},Ba.prototype.i=function(g){return function(){return g}}({});function Ki(g,w){Ct.call(this),this.D=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Ki,Ct),t=Ki.prototype,t.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=w,this.readyState=1,di(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(w.body=g),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hc(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function hc(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?hi(this):di(this),this.readyState==3&&hc(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,hi(this))},t.Qa=function(g){this.g&&(this.response=g,hi(this))},t.ga=function(){this.g&&hi(this)};function hi(g){g.readyState=4,g.l=null,g.j=null,g.v=null,di(g)}t.setRequestHeader=function(g,w){this.u.append(g,w)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,g.push(S[0]+": "+S[1]),S=w.next();return g.join(`\r
`)};function di(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function dc(g){let w="";return H(g,function(S,M){w+=M,w+=":",w+=S,w+=`\r
`}),w}function dn(g,w,S){e:{for(M in S){var M=!1;break e}M=!0}M||(S=dc(S),typeof g=="string"?S!=null&&encodeURIComponent(String(S)):lt(g,w,S))}function et(g){Ct.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(et,Ct);var pl=/^https?$/i,to=["POST","PUT"];t=et.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,w,S,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oi.g(),this.v=this.o?ec(this.o):ec(oi),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(ee){kh(this,ee);return}if(g=S||"",S=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Y in M)S.set(Y,M[Y]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ee of M.keys())S.set(ee,M.get(ee));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(S.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(to,w,void 0))||M||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,he]of S)this.g.setRequestHeader(ee,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{no(this),this.u=!0,this.g.send(g),this.u=!1}catch(ee){kh(this,ee)}};function kh(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.m=5,yl(g),mi(g)}function yl(g){g.A||(g.A=!0,nt(g,"complete"),nt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,nt(this,"complete"),nt(this,"abort"),mi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vl(this):this.bb())},t.bb=function(){vl(this)};function vl(g){if(g.h&&typeof u<"u"&&(!g.v[1]||Or(g)!=4||g.Z()!=2)){if(g.u&&Or(g)==4)kn(g.Ea,0,g);else if(nt(g,"readystatechange"),Or(g)==4){g.h=!1;try{const he=g.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var M;if(M=he===0){var Y=String(g.D).match(Ws)[1]||null;!Y&&c.self&&c.self.location&&(Y=c.self.location.protocol.slice(0,-1)),M=!pl.test(Y?Y.toLowerCase():"")}S=M}if(S)nt(g,"complete"),nt(g,"success");else{g.m=6;try{var ee=2<Or(g)?g.g.statusText:""}catch{ee=""}g.l=ee+" ["+g.Z()+"]",yl(g)}}finally{mi(g)}}}}function mi(g,w){if(g.g){no(g);const S=g.g,M=g.v[0]?()=>{}:null;g.g=null,g.v=null,w||nt(g,"ready");try{S.onreadystatechange=M}catch{}}}function no(g){g.I&&(c.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Or(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),ll(w)}};function Mh(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Vp(g){const w={};g=(g.g&&2<=Or(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<g.length;M++){if(k(g[M]))continue;var S=V(g[M]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ee=w[Y]||[];w[Y]=ee,ee.push(S)}N(w,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ro(g,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[g]||w}function bl(g){this.Aa=0,this.i=[],this.j=new Tr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ro("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ro("baseRetryDelayMs",5e3,g),this.cb=ro("retryDelaySeedMs",1e4,g),this.Wa=ro("forwardChannelMaxRetries",2,g),this.wa=ro("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(g&&g.concurrentRequestLimit),this.Da=new eo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bl.prototype,t.la=8,t.G=1,t.connect=function(g,w,S,M){Et(0),this.W=g,this.H=w||{},S&&M!==void 0&&(this.H.OSID=S,this.H.OAID=M),this.F=this.X,this.I=qh(this,null,this.W),wl(this)};function mc(g){if(jh(g),g.G==3){var w=g.U++,S=ir(g.I);if(lt(S,"SID",g.K),lt(S,"RID",w),lt(S,"TYPE","terminate"),io(g,S),w=new $n(g,g.j,w),w.L=2,w.v=Qs(ir(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!S&&c.Image&&(new Image().src=w.v,S=!0),S||(w.g=$h(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Gs(w)}zh(g)}function _l(g){g.g&&(ao(g),g.g.cancel(),g.g=null)}function jh(g){_l(g),g.u&&(c.clearTimeout(g.u),g.u=null),El(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function wl(g){if(!fl(g.h)&&!g.s){g.s=!0;var w=g.Ga;ue||$(),de||(ue(),de=!0),Ce.add(w,g),g.B=0}}function Up(g,w){return hl(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=w.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=$t(v(g.Ga,g,w),yc(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Y=new $n(this,this.j,g);let ee=this.o;if(this.S&&(ee?(ee=R(ee),B(ee,this.S)):ee=this.S),this.m!==null||this.O||(Y.H=ee,ee=null),this.P)e:{for(var w=0,S=0;S<this.i.length;S++){t:{var M=this.i[S];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,4096<w){w=S;break e}if(w===4096||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=Lh(this,Y,w),S=ir(this.I),lt(S,"RID",g),lt(S,"CVER",22),this.D&&lt(S,"X-HTTP-Session-Id",this.D),io(this,S),ee&&(this.O?w="headers="+encodeURIComponent(String(dc(ee)))+"&"+w:this.m&&dn(S,this.m,ee)),dl(this.h,Y),this.Ua&&lt(S,"TYPE","init"),this.P?(lt(S,"$req",w),lt(S,"SID","null"),Y.T=!0,Wr(Y,S,null)):Wr(Y,S,w),this.G=2}}else this.G==3&&(g?gc(this,g):this.i.length==0||fl(this.h)||gc(this))};function gc(g,w){var S;w?S=w.l:S=g.U++;const M=ir(g.I);lt(M,"SID",g.K),lt(M,"RID",S),lt(M,"AID",g.T),io(g,M),g.m&&g.o&&dn(M,g.m,g.o),S=new $n(g,g.j,S,g.B+1),g.m===null&&(S.H=g.o),w&&(g.i=w.D.concat(g.i)),w=Lh(g,S,1e3),S.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),dl(g.h,S),Wr(S,M,w)}function io(g,w){g.H&&H(g.H,function(S,M){lt(w,M,S)}),g.l&&lc({},function(S,M){lt(w,M,S)})}function Lh(g,w,S){S=Math.min(g.i.length,S);var M=g.l?v(g.l.Na,g.l,g):null;e:{var Y=g.i;let ee=-1;for(;;){const he=["count="+S];ee==-1?0<S?(ee=Y[0].g,he.push("ofs="+ee)):ee=0:he.push("ofs="+ee);let Ge=!0;for(let rn=0;rn<S;rn++){let Ye=Y[rn].g;const mn=Y[rn].map;if(Ye-=ee,0>Ye)ee=Math.max(0,Y[rn].g-100),Ge=!1;else try{fi(mn,he,"req"+Ye+"_")}catch{M&&M(mn)}}if(Ge){M=he.join("&");break e}}}return g=g.i.splice(0,S),w.D=g,M}function Vh(g){if(!g.g&&!g.u){g.Y=1;var w=g.Fa;ue||$(),de||(ue(),de=!0),Ce.add(w,g),g.v=0}}function pc(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=$t(v(g.Fa,g),yc(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Uh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=$t(v(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),_l(this),Uh(this))};function ao(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function Uh(g){g.g=new $n(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var w=ir(g.qa);lt(w,"RID","rpc"),lt(w,"SID",g.K),lt(w,"AID",g.T),lt(w,"CI",g.F?"0":"1"),!g.F&&g.ja&&lt(w,"TO",g.ja),lt(w,"TYPE","xmlhttp"),io(g,w),g.m&&g.o&&dn(w,g.m,g.o),g.L&&(g.g.I=g.L);var S=g.g;g=g.ia,S.L=1,S.v=Qs(ir(w)),S.m=null,S.P=!0,Bi(S,g)}t.Za=function(){this.C!=null&&(this.C=null,_l(this),pc(this),Et(19))};function El(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function Bh(g,w){var S=null;if(g.g==w){El(g),ao(g),g.g=null;var M=2}else if(sc(g.h,w))S=w.D,Fn(g.h,w),M=1;else return;if(g.G!=0){if(w.o)if(M==1){S=w.m?w.m.length:0,w=Date.now()-w.F;var Y=g.B;M=ka(),nt(M,new nn(M,S)),wl(g)}else Vh(g);else if(Y=w.s,Y==3||Y==0&&0<w.X||!(M==1&&Up(g,w)||M==2&&pc(g)))switch(S&&0<S.length&&(w=g.h,w.i=w.i.concat(S)),Y){case 1:Gi(g,5);break;case 4:Gi(g,10);break;case 3:Gi(g,6);break;default:Gi(g,2)}}}function yc(g,w){let S=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(S*=2),S*w}function Gi(g,w){if(g.j.info("Error code "+w),w==2){var S=v(g.fb,g),M=g.Xa;const Y=!M;M=new Ft(M||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xs(M,"https"),Qs(M),Y?Js(M.toString(),S):Xr(M.toString(),S)}else Et(2);g.G=0,g.l&&g.l.sa(w),zh(g),jh(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function zh(g){if(g.G=0,g.ka=[],g.l){const w=oc(g.h);(w.length!=0||g.i.length!=0)&&(A(g.ka,w),A(g.ka,g.i),g.h.i.length=0,T(g.i),g.i.length=0),g.l.ra()}}function qh(g,w,S){var M=S instanceof Ft?ir(S):new Ft(S);if(M.g!="")w&&(M.g=w+"."+M.g),Ua(M,M.s);else{var Y=c.location;M=Y.protocol,w=w?w+"."+Y.hostname:Y.hostname,Y=+Y.port;var ee=new Ft(null);M&&Xs(ee,M),w&&(ee.g=w),Y&&Ua(ee,Y),S&&(ee.l=S),M=ee}return S=g.D,w=g.ya,S&&w&&lt(M,S,w),lt(M,"VER",g.la),io(g,M),M}function $h(g,w,S){if(w&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Ca&&!g.pa?new et(new Ba({eb:S})):new et(g.pa),w.Ha(g.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fh(){}t=Fh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tl(){}Tl.prototype.g=function(g,w){return new Hn(g,w)};function Hn(g,w){Ct.call(this),this.g=new bl(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(g?g["X-WebChannel-Client-Profile"]=w.va:g={"X-WebChannel-Client-Profile":w.va}),this.g.S=g,(g=w&&w.Sb)&&!k(g)&&(this.g.m=g),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!k(w)&&(this.g.D=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new gi(this)}E(Hn,Ct),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){mc(this.g)},Hn.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var S={};S.__data__=g,g=S}else this.u&&(S={},S.__data__=Yr(g),g=S);w.i.push(new Ph(w.Ya++,g)),w.G==3&&wl(w)},Hn.prototype.N=function(){this.g.l=null,delete this.j,mc(this.g),delete this.g,Hn.aa.N.call(this)};function Hh(g){Vi.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){e:{for(const S in w){g=S;break e}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}E(Hh,Vi);function Kh(){nc.call(this),this.status=1}E(Kh,nc);function gi(g){this.g=g}E(gi,Fh),gi.prototype.ua=function(){nt(this.g,"a")},gi.prototype.ta=function(g){nt(this.g,new Hh(g))},gi.prototype.sa=function(g){nt(this.g,new Kh)},gi.prototype.ra=function(){nt(this.g,"b")},Tl.prototype.createWebChannel=Tl.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,x2=function(){return new Tl},S2=function(){return ka()},A2=si,Lb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},La.NO_ERROR=0,La.TIMEOUT=8,La.HTTP_ERROR=6,ym=La,Ui.COMPLETE="complete",T2=Ui,tc.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,yf=tc,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,E2=et}).apply(typeof Yd<"u"?Yd:typeof self<"u"?self:typeof window<"u"?window:{});const Ox="@firebase/firestore",Cx="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new X_("@firebase/firestore");function eu(){return qo.logLevel}function ge(t,...e){if(qo.logLevel<=$e.DEBUG){const n=e.map(o1);qo.debug(`Firestore (${Mu}): ${t}`,...n)}}function ba(t,...e){if(qo.logLevel<=$e.ERROR){const n=e.map(o1);qo.error(`Firestore (${Mu}): ${t}`,...n)}}function gu(t,...e){if(qo.logLevel<=$e.WARN){const n=e.map(o1);qo.warn(`Firestore (${Mu}): ${t}`,...n)}}function o1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,O2(t,r,n)}function O2(t,e,n){let r=`FIRESTORE (${Mu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ba(r),new Error(r)}function tt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||O2(e,a,r)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends xa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Un.UNAUTHENTICATED))}shutdown(){}}class s5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class o5{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new Po;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Po,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},c=h=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Po)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new C2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class l5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class u5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new l5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ix{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const r=s=>{s.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.m;return this.m=s.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const a=s=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ix(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ix(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=f5(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<n&&(r+=e.charAt(a[s]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function Vb(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),s=e.charAt(r);if(a!==s)return $v(a)===$v(s)?Fe(a,s):$v(a)?1:-1}return Fe(t.length,e.length)}const h5=55296,d5=57343;function $v(t){const e=t.charCodeAt(0);return e>=h5&&e<=d5}function pu(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="__name__";class Ei{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const s=Ei.compareSegments(e.get(a),n.get(a));if(s!==0)return s}return Fe(e.length,n.length)}static compareSegments(e,n){const r=Ei.isNumericId(e),a=Ei.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Ei.extractNumericId(e).compare(Ei.extractNumericId(n)):Vb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class bt extends Ei{construct(e,n,r){return new bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const m5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Ei{construct(e,n,r){return new Rn(e,n,r)}static isValidIdentifier(e){return m5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rx}static keyField(){return new Rn([Rx])}static fromServerFormat(e){const n=[];let r="",a=0;const s=()=>{if(r.length===0)throw new pe(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new pe(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new pe(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else c==="`"?(u=!u,a++):c!=="."||u?(r+=c,a++):(s(),a++)}if(s(),u)throw new pe(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(bt.fromString(e))}static fromName(e){return new Ae(bt.fromString(e).popFirst(5))}static empty(){return new Ae(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t,e,n){if(!n)throw new pe(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function g5(t,e,n,r){if(e===!0&&r===!0)throw new pe(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Px(t){if(!Ae.isDocumentKey(t))throw new pe(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Nx(t){if(Ae.isDocumentKey(t))throw new pe(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function R2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Rg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe(12329,{type:typeof t})}function Oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rg(t);throw new pe(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ih(t,e){if(!R2(t))throw new pe(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&u!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new pe(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=-62135596800,kx=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kx);return new wt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Dx)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kx}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ih(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:Xt("string",wt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new wt(0,0))}static max(){return new Me(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=-1;function p5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new Os(a,Ae.empty(),e)}function y5(t){return new Os(t.readTime,t.key,Df)}class Os{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Os(Me.min(),Ae.empty(),Df)}static max(){return new Os(Me.max(),Ae.empty(),Df)}}function v5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==b5)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let a=0,s=0,u=!1;e.forEach(c=>{++a,c.next(()=>{++s,u&&s===a&&n()},h=>r(h))}),u=!0,s===a&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(a=>a?le.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,s)=>{r.push(n.call(this,a,s))}),this.waitFor(r)}static mapArray(e,n){return new le((r,a)=>{const s=e.length,u=new Array(s);let c=0;for(let h=0;h<s;h++){const d=h;n(e[d]).next(m=>{u[d]=m,++c,c===s&&r(u)},m=>a(m))}})}static doWhile(e,n){return new le((r,a)=>{const s=()=>{e()===!0?n().next(()=>{s()},a):r()};s()})}}function w5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=-1;function Ng(t){return t==null}function Dm(t){return t===0&&1/t==-1/0}function E5(t){return typeof t=="number"&&Number.isInteger(t)&&!Dm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="";function T5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Mx(e)),e=A5(t.get(n),e);return Mx(e)}function A5(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const s=t.charAt(a);switch(s){case"\0":n+="";break;case P2:n+="";break;default:n+=s}}return n}function Mx(t){return t+P2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function N2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||Cn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wd(this.root,e,this.comparator,!0)}}class Wd{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,n,r,a,s){this.key=e,this.value=n,this.color=r??Cn.RED,this.left=a??Cn.EMPTY,this.right=s??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,s){return new Cn(e??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,n,r),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Cn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,r,a,s){return this}insert(e,n,r){return new Cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lx(this.data.getIterator())}getIteratorFrom(e){return new Lx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class Lx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new yr([])}unionWith(e){let n=new un(Rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new D2("Invalid base64 string: "+s):s}}(e);return new Nn(n)}static fromUint8Array(e){const n=function(a){let s="";for(let u=0;u<a.length;++u)s+=String.fromCharCode(a[u]);return s}(e);return new Nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const S5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=S5.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Is(t){return typeof t=="string"?Nn.fromBase64String(t):Nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="server_timestamp",M2="__type__",j2="__previous_value__",L2="__local_write_time__";function c1(t){return(t?.mapValue?.fields||{})[M2]?.stringValue===k2}function Dg(t){const e=t.mapValue.fields[j2];return c1(e)?Dg(e):e}function kf(t){const e=Cs(t.mapValue.fields[L2].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n,r,a,s,u,c,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m}}const km="(default)";class Mf{constructor(e,n){this.projectId=e,this.database=n||km}static empty(){return new Mf("","")}get isDefaultDatabase(){return this.database===km}isEqual(e){return e instanceof Mf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="__type__",O5="__max__",Xd={mapValue:{}},U2="__vector__",Mm="value";function Rs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?c1(t)?4:I5(t)?9007199254740991:C5(t)?10:11:Pe(28295,{value:t})}function Di(t,e){if(t===e)return!0;const n=Rs(t);if(n!==Rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kf(t).isEqual(kf(e));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const u=Cs(a.timestampValue),c=Cs(s.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,s){return Is(a.bytesValue).isEqual(Is(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,s){return Lt(a.geoPointValue.latitude)===Lt(s.geoPointValue.latitude)&&Lt(a.geoPointValue.longitude)===Lt(s.geoPointValue.longitude)}(t,e);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return Lt(a.integerValue)===Lt(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const u=Lt(a.doubleValue),c=Lt(s.doubleValue);return u===c?Dm(u)===Dm(c):isNaN(u)&&isNaN(c)}return!1}(t,e);case 9:return pu(t.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return function(a,s){const u=a.mapValue.fields||{},c=s.mapValue.fields||{};if(jx(u)!==jx(c))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(c[h]===void 0||!Di(u[h],c[h])))return!1;return!0}(t,e);default:return Pe(52216,{left:t})}}function jf(t,e){return(t.values||[]).find(n=>Di(n,e))!==void 0}function yu(t,e){if(t===e)return 0;const n=Rs(t),r=Rs(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(s,u){const c=Lt(s.integerValue||s.doubleValue),h=Lt(u.integerValue||u.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return Vx(t.timestampValue,e.timestampValue);case 4:return Vx(kf(t),kf(e));case 5:return Vb(t.stringValue,e.stringValue);case 6:return function(s,u){const c=Is(s),h=Is(u);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(s,u){const c=s.split("/"),h=u.split("/");for(let d=0;d<c.length&&d<h.length;d++){const m=Fe(c[d],h[d]);if(m!==0)return m}return Fe(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,u){const c=Fe(Lt(s.latitude),Lt(u.latitude));return c!==0?c:Fe(Lt(s.longitude),Lt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ux(t.arrayValue,e.arrayValue);case 10:return function(s,u){const c=s.fields||{},h=u.fields||{},d=c[Mm]?.arrayValue,m=h[Mm]?.arrayValue,y=Fe(d?.values?.length||0,m?.values?.length||0);return y!==0?y:Ux(d,m)}(t.mapValue,e.mapValue);case 11:return function(s,u){if(s===Xd.mapValue&&u===Xd.mapValue)return 0;if(s===Xd.mapValue)return 1;if(u===Xd.mapValue)return-1;const c=s.fields||{},h=Object.keys(c),d=u.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let y=0;y<h.length&&y<m.length;++y){const v=Vb(h[y],m[y]);if(v!==0)return v;const _=yu(c[h[y]],d[m[y]]);if(_!==0)return _}return Fe(h.length,m.length)}(t.mapValue,e.mapValue);default:throw Pe(23264,{he:n})}}function Vx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Cs(t),r=Cs(e),a=Fe(n.seconds,r.seconds);return a!==0?a:Fe(n.nanos,r.nanos)}function Ux(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const s=yu(n[a],r[a]);if(s)return s}return Fe(n.length,r.length)}function vu(t){return Ub(t)}function Ub(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Cs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Is(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const s of n.values||[])a?a=!1:r+=",",r+=Ub(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const u of r)s?s=!1:a+=",",a+=`${u}:${Ub(n.fields[u])}`;return a+"}"}(t.mapValue):Pe(61005,{value:t})}function vm(t){switch(Rs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dg(t);return e?16+vm(e):16;case 5:return 2*t.stringValue.length;case 6:return Is(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,s)=>a+vm(s),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return js(r.fields,(s,u)=>{a+=s.length+vm(u)}),a}(t.mapValue);default:throw Pe(13486,{value:t})}}function Bx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bb(t){return!!t&&"integerValue"in t}function f1(t){return!!t&&"arrayValue"in t}function zx(t){return!!t&&"nullValue"in t}function qx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bm(t){return!!t&&"mapValue"in t}function C5(t){return(t?.mapValue?.fields||{})[V2]?.stringValue===U2}function Sf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sf(t.arrayValue.values[n]);return e}return{...t}}function I5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===O5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sf(n)}setAll(e){let n=Rn.emptyPath(),r={},a=[];e.forEach((u,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,a),r={},a=[],n=c.popLast()}u?r[c.lastSegment()]=Sf(u):a.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,a)}delete(e){const n=this.field(e.popLast());bm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];bm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){js(n,(a,s)=>e[a]=s);for(const a of r)delete e[a]}clone(){return new tr(Sf(this.value))}}function B2(t){const e=[];return js(t.fields,(n,r)=>{const a=new Rn([n]);if(bm(r)){const s=B2(r.mapValue).fields;if(s.length===0)e.push(a);else for(const u of s)e.push(a.child(u))}else e.push(a)}),new yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r,a,s,u,c){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=s,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Bn(e,0,Me.min(),Me.min(),Me.min(),tr.empty(),0)}static newFoundDocument(e,n,r,a){return new Bn(e,1,n,Me.min(),r,a,0)}static newNoDocument(e,n){return new Bn(e,2,n,Me.min(),Me.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new Bn(e,3,n,Me.min(),Me.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.position=e,this.inclusive=n}}function $x(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const s=e[a],u=t.position[a];if(s.field.isKeyField()?r=Ae.comparator(Ae.fromName(u.referenceValue),n.key):r=yu(u,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Di(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n="asc"){this.field=e,this.dir=n}}function R5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{}class Wt extends z2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new N5(e,n,r):n==="array-contains"?new M5(e,r):n==="in"?new j5(e,r):n==="not-in"?new L5(e,r):n==="array-contains-any"?new V5(e,r):new Wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D5(e,r):new k5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yu(n,this.value)):n!==null&&Rs(this.value)===Rs(n)&&this.matchesComparison(yu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends z2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ii(e,n)}matches(e){return q2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q2(t){return t.op==="and"}function $2(t){return P5(t)&&q2(t)}function P5(t){for(const e of t.filters)if(e instanceof ii)return!1;return!0}function zb(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+vu(t.value);if($2(t))return t.filters.map(e=>zb(e)).join(",");{const e=t.filters.map(n=>zb(n)).join(",");return`${t.op}(${e})`}}function F2(t,e){return t instanceof Wt?function(r,a){return a instanceof Wt&&r.op===a.op&&r.field.isEqual(a.field)&&Di(r.value,a.value)}(t,e):t instanceof ii?function(r,a){return a instanceof ii&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((s,u,c)=>s&&F2(u,a.filters[c]),!0):!1}(t,e):void Pe(19439)}function H2(t){return t instanceof Wt?function(n){return`${n.field.canonicalString()} ${n.op} ${vu(n.value)}`}(t):t instanceof ii?function(n){return n.op.toString()+" {"+n.getFilters().map(H2).join(" ,")+"}"}(t):"Filter"}class N5 extends Wt{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class D5 extends Wt{constructor(e,n){super(e,"in",n),this.keys=K2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class k5 extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=K2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function K2(t,e){return(e.arrayValue?.values||[]).map(n=>Ae.fromName(n.referenceValue))}class M5 extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return f1(n)&&jf(n.arrayValue,this.value)}}class j5 extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jf(this.value.arrayValue,n)}}class L5 extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jf(this.value.arrayValue,n)}}class V5 extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!f1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n=null,r=[],a=[],s=null,u=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=u,this.endAt=c,this.Te=null}}function Hx(t,e=null,n=[],r=[],a=null,s=null,u=null){return new U5(t,e,n,r,a,s,u)}function h1(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ng(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vu(r)).join(",")),e.Te=n}return e.Te}function d1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!F2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fx(t.startAt,e.startAt)&&Fx(t.endAt,e.endAt)}function qb(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n=null,r=[],a=[],s=null,u="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=u,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function B5(t,e,n,r,a,s,u,c){return new ah(t,e,n,r,a,s,u,c)}function m1(t){return new ah(t)}function Kx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function G2(t){return t.collectionGroup!==null}function xf(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new un(Rn.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Lm(s,r))}),n.has(Rn.keyField().canonicalString())||e.Ie.push(new Lm(Rn.keyField(),r))}return e.Ie}function Ci(t){const e=je(t);return e.Ee||(e.Ee=z5(e,xf(t))),e.Ee}function z5(t,e){if(t.limitType==="F")return Hx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new Lm(a.field,s)});const n=t.endAt?new jm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jm(t.startAt.position,t.startAt.inclusive):null;return Hx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $b(t,e){const n=t.filters.concat([e]);return new ah(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Fb(t,e,n){return new ah(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kg(t,e){return d1(Ci(t),Ci(e))&&t.limitType===e.limitType}function Y2(t){return`${h1(Ci(t))}|lt:${t.limitType}`}function tu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>H2(a)).join(", ")}]`),Ng(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>vu(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>vu(a)).join(",")),`Target(${r})`}(Ci(t))}; limitType=${t.limitType})`}function Mg(t,e){return e.isFoundDocument()&&function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,a){for(const s of xf(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(u,c,h){const d=$x(u,c,h);return u.inclusive?d<=0:d<0}(r.startAt,xf(r),a)||r.endAt&&!function(u,c,h){const d=$x(u,c,h);return u.inclusive?d>=0:d>0}(r.endAt,xf(r),a))}(t,e)}function q5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function W2(t){return(e,n)=>{let r=!1;for(const a of xf(t)){const s=$5(a,e,n);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function $5(t,e,n){const r=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(s,u,c){const h=u.data.field(s),d=c.data.field(s);return h!==null&&d!==null?yu(h,d):Pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(n,r)=>{for(const[a,s]of r)e(a,s)})}isEmpty(){return N2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=new xt(Ae.comparator);function _a(){return F5}const X2=new xt(Ae.comparator);function vf(...t){let e=X2;for(const n of t)e=e.insert(n.key,n);return e}function Q2(t){let e=X2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xo(){return Of()}function Z2(){return Of()}function Of(){return new Qo(t=>t.toString(),(t,e)=>t.isEqual(e))}const H5=new xt(Ae.comparator),K5=new un(Ae.comparator);function He(...t){let e=K5;for(const n of t)e=e.add(n);return e}const G5=new un(Fe);function Y5(){return G5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dm(e)?"-0":e}}function J2(t){return{integerValue:""+t}}function W5(t,e){return E5(e)?J2(e):g1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this._=void 0}}function X5(t,e,n){return t instanceof Vm?function(a,s){const u={fields:{[M2]:{stringValue:k2},[L2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&c1(s)&&(s=Dg(s)),s&&(u.fields[j2]=s),{mapValue:u}}(n,e):t instanceof bu?tN(t,e):t instanceof Lf?nN(t,e):function(a,s){const u=eN(a,s),c=Gx(u)+Gx(a.Ae);return Bb(u)&&Bb(a.Ae)?J2(c):g1(a.serializer,c)}(t,e)}function Q5(t,e,n){return t instanceof bu?tN(t,e):t instanceof Lf?nN(t,e):n}function eN(t,e){return t instanceof Um?function(r){return Bb(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Vm extends jg{}class bu extends jg{constructor(e){super(),this.elements=e}}function tN(t,e){const n=rN(e);for(const r of t.elements)n.some(a=>Di(a,r))||n.push(r);return{arrayValue:{values:n}}}class Lf extends jg{constructor(e){super(),this.elements=e}}function nN(t,e){let n=rN(e);for(const r of t.elements)n=n.filter(a=>!Di(a,r));return{arrayValue:{values:n}}}class Um extends jg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Gx(t){return Lt(t.integerValue||t.doubleValue)}function rN(t){return f1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n){this.field=e,this.transform=n}}function J5(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof bu&&a instanceof bu||r instanceof Lf&&a instanceof Lf?pu(r.elements,a.elements,Di):r instanceof Um&&a instanceof Um?Di(r.Ae,a.Ae):r instanceof Vm&&a instanceof Vm}(t.transform,e.transform)}class e9{constructor(e,n){this.version=e,this.transformResults=n}}class qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _m(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lg{}function iN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new p1(t.key,qr.none()):new sh(t.key,t.data,qr.none());{const n=t.data,r=tr.empty();let a=new un(Rn.comparator);for(let s of e.fields)if(!a.has(s)){let u=n.field(s);u===null&&s.length>1&&(s=s.popLast(),u=n.field(s)),u===null?r.delete(s):r.set(s,u),a=a.add(s)}return new Ls(t.key,r,new yr(a.toArray()),qr.none())}}function t9(t,e,n){t instanceof sh?function(a,s,u){const c=a.value.clone(),h=Wx(a.fieldTransforms,s,u.transformResults);c.setAll(h),s.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Ls?function(a,s,u){if(!_m(a.precondition,s))return void s.convertToUnknownDocument(u.version);const c=Wx(a.fieldTransforms,s,u.transformResults),h=s.data;h.setAll(aN(a)),h.setAll(c),s.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):function(a,s,u){s.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Cf(t,e,n,r){return t instanceof sh?function(s,u,c,h){if(!_m(s.precondition,u))return c;const d=s.value.clone(),m=Xx(s.fieldTransforms,h,u);return d.setAll(m),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ls?function(s,u,c,h){if(!_m(s.precondition,u))return c;const d=Xx(s.fieldTransforms,h,u),m=u.data;return m.setAll(aN(s)),m.setAll(d),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(s,u,c){return _m(s.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(t,e,n)}function n9(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),s=eN(r.transform,a||null);s!=null&&(n===null&&(n=tr.empty()),n.set(r.field,s))}return n||null}function Yx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&pu(r,a,(s,u)=>J5(s,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sh extends Lg{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ls extends Lg{constructor(e,n,r,a,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function aN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Wx(t,e,n){const r=new Map;tt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const s=t[a],u=s.transform,c=e.data.field(s.field);r.set(s.field,Q5(u,c,n[a]))}return r}function Xx(t,e,n){const r=new Map;for(const a of t){const s=a.transform,u=n.data.field(a.field);r.set(a.field,X5(s,u,e))}return r}class p1 extends Lg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r9 extends Lg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&t9(s,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Z2();return this.mutations.forEach(a=>{const s=e.get(a.key),u=s.overlayedDocument;let c=this.applyToLocalView(u,s.mutatedFields);c=n.has(a.key)?null:c;const h=iN(u,c);h!==null&&r.set(a.key,h),u.isValidDocument()||u.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&pu(this.mutations,e.mutations,(n,r)=>Yx(n,r))&&pu(this.baseMutations,e.baseMutations,(n,r)=>Yx(n,r))}}class y1{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=function(){return H5}();const s=e.mutations;for(let u=0;u<s.length;u++)a=a.insert(s[u].key,r[u].version);return new y1(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,Xe;function o9(t){switch(t){case oe.OK:return Pe(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Pe(15467,{code:t})}}function sN(t){if(t===void 0)return ba("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Yt.OK:return oe.OK;case Yt.CANCELLED:return oe.CANCELLED;case Yt.UNKNOWN:return oe.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return oe.INTERNAL;case Yt.UNAVAILABLE:return oe.UNAVAILABLE;case Yt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Yt.NOT_FOUND:return oe.NOT_FOUND;case Yt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Yt.ABORTED:return oe.ABORTED;case Yt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Yt.DATA_LOSS:return oe.DATA_LOSS;default:return Pe(39323,{code:t})}}(Xe=Yt||(Yt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=new Es([4294967295,4294967295],0);function Qx(t){const e=l9().encode(t),n=new w2;return n.update(e),new Uint8Array(n.digest())}function Zx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Es([n,r],0),new Es([a,s],0)]}class v1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bf(`Invalid padding: ${n}`);if(r<0)throw new bf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Es.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Es.fromNumber(r)));return a.compare(u9)===1&&(a=new Es([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Qx(e),[r,a]=Zx(n);for(let s=0;s<this.hashCount;s++){const u=this.ye(r,a,s);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),u=new v1(s,a,n);return r.forEach(c=>u.insert(c)),u}insert(e){if(this.ge===0)return;const n=Qx(e),[r,a]=Zx(n);for(let s=0;s<this.hashCount;s++){const u=this.ye(r,a,s);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r,a,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,oh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vg(Me.min(),a,new xt(Fe),_a(),He())}}class oh{constructor(e,n,r,a,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new oh(r,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class oN{constructor(e,n){this.targetId=e,this.Ce=n}}class lN{constructor(e,n,r=Nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class Jx{constructor(){this.ve=0,this.Fe=eO(),this.Me=Nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),r=He();return this.Fe.forEach((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Pe(38017,{changeType:s})}}),new oh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=eO()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class c9{constructor(e){this.Ge=e,this.ze=new Map,this.je=_a(),this.Je=Qd(),this.He=Qd(),this.Ye=new xt(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,a)=>{this.rt(a)&&n(a)})}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const s=a.target;if(qb(s))if(r===0){const u=new Ae(s.path);this.et(n,u,Bn.newNoDocument(u,Me.min()))}else tt(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const c=this.ut(e),h=c?this.ct(c,e,u):1;if(h!==0){this.it(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=n;let u,c;try{u=Is(r).toUint8Array()}catch(h){if(h instanceof D2)return gu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new v1(u,a,s)}catch(h){return gu(h instanceof bf?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach(s=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),a++)}),a}Tt(e){const n=new Map;this.ze.forEach((s,u)=>{const c=this.ot(u);if(c){if(s.current&&qb(c.target)){const h=new Ae(c.target.path);this.It(h).has(u)||this.Et(u,h)||this.et(u,h,Bn.newNoDocument(h,e))}s.Be&&(n.set(u,s.ke()),s.qe())}});let r=He();this.He.forEach((s,u)=>{let c=!0;u.forEachWhile(h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.je.forEach((s,u)=>u.setReadTime(e));const a=new Vg(e,n,this.Ye,this.je,r);return this.je=_a(),this.Je=Qd(),this.He=Qd(),this.Ye=new xt(Fe),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Jx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jx),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qd(){return new xt(Ae.comparator)}function eO(){return new xt(Ae.comparator)}const f9={asc:"ASCENDING",desc:"DESCENDING"},h9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d9={and:"AND",or:"OR"};class m9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hb(t,e){return t.useProto3Json||Ng(e)?e:{value:e}}function Bm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function g9(t,e){return Bm(t,e.toTimestamp())}function Ii(t){return tt(!!t,49232),Me.fromTimestamp(function(n){const r=Cs(n);return new wt(r.seconds,r.nanos)}(t))}function b1(t,e){return Kb(t,e).canonicalString()}function Kb(t,e){const n=function(a){return new bt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cN(t){const e=bt.fromString(t);return tt(gN(e),10190,{key:e.toString()}),e}function Gb(t,e){return b1(t.databaseId,e.path)}function Fv(t,e){const n=cN(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(hN(n))}function fN(t,e){return b1(t.databaseId,e)}function p9(t){const e=cN(t);return e.length===4?bt.emptyPath():hN(e)}function Yb(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hN(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function tO(t,e,n){return{name:Gb(t,e),fields:n.value.mapValue.fields}}function y9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Pe(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=function(d,m){return d.useProto3Json?(tt(m===void 0||typeof m=="string",58123),Nn.fromBase64String(m||"")):(tt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Nn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(d){const m=d.code===void 0?oe.UNKNOWN:sN(d.code);return new pe(m,d.message||"")}(u);n=new lN(r,a,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Fv(t,r.document.name),s=Ii(r.document.updateTime),u=r.document.createTime?Ii(r.document.createTime):Me.min(),c=new tr({mapValue:{fields:r.document.fields}}),h=Bn.newFoundDocument(a,s,u,c),d=r.targetIds||[],m=r.removedTargetIds||[];n=new wm(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Fv(t,r.document),s=r.readTime?Ii(r.readTime):Me.min(),u=Bn.newNoDocument(a,s),c=r.removedTargetIds||[];n=new wm([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Fv(t,r.document),s=r.removedTargetIds||[];n=new wm([],s,a,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,u=new s9(a,s),c=r.targetId;n=new oN(c,u)}}return n}function v9(t,e){let n;if(e instanceof sh)n={update:tO(t,e.key,e.value)};else if(e instanceof p1)n={delete:Gb(t,e.key)};else if(e instanceof Ls)n={update:tO(t,e.key,e.data),updateMask:O9(e.fieldMask)};else{if(!(e instanceof r9))return Pe(16599,{Vt:e.type});n={verify:Gb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const c=u.transform;if(c instanceof Vm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof bu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Lf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Um)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw Pe(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:g9(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Pe(27497)}(t,e.precondition)),n}function b9(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map(n=>function(a,s){let u=a.updateTime?Ii(a.updateTime):Ii(s);return u.isEqual(Me.min())&&(u=Ii(s)),new e9(u,a.transformResults||[])}(n,e))):[]}function _9(t,e){return{documents:[fN(t,e.path)]}}function w9(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fN(t,a);const s=function(d){if(d.length!==0)return mN(ii.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const u=function(d){if(d.length!==0)return d.map(m=>function(v){return{field:nu(v.field),direction:A9(v.dir)}}(m))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const c=Hb(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:a}}function E9(t){let e=p9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){tt(r===1,65062);const m=n.from[0];m.allDescendants?a=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=function(y){const v=dN(y);return v instanceof ii&&$2(v)?v.getFilters():[v]}(n.where));let u=[];n.orderBy&&(u=function(y){return y.map(v=>function(E){return new Lm(ru(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(v))}(n.orderBy));let c=null;n.limit&&(c=function(y){let v;return v=typeof y=="object"?y.value:y,Ng(v)?null:v}(n.limit));let h=null;n.startAt&&(h=function(y){const v=!!y.before,_=y.values||[];return new jm(_,v)}(n.startAt));let d=null;return n.endAt&&(d=function(y){const v=!y.before,_=y.values||[];return new jm(_,v)}(n.endAt)),B5(e,a,u,s,c,"F",h,d)}function T9(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ru(n.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=ru(n.unaryFilter.field);return Wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ru(n.unaryFilter.field);return Wt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ru(n.unaryFilter.field);return Wt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Wt.create(ru(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ii.create(n.compositeFilter.filters.map(r=>dN(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(n.compositeFilter.op))}(t):Pe(30097,{filter:t})}function A9(t){return f9[t]}function S9(t){return h9[t]}function x9(t){return d9[t]}function nu(t){return{fieldPath:t.canonicalString()}}function ru(t){return Rn.fromServerFormat(t.fieldPath)}function mN(t){return t instanceof Wt?function(n){if(n.op==="=="){if(qx(n.value))return{unaryFilter:{field:nu(n.field),op:"IS_NAN"}};if(zx(n.value))return{unaryFilter:{field:nu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qx(n.value))return{unaryFilter:{field:nu(n.field),op:"IS_NOT_NAN"}};if(zx(n.value))return{unaryFilter:{field:nu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nu(n.field),op:S9(n.op),value:n.value}}}(t):t instanceof ii?function(n){const r=n.getFilters().map(a=>mN(a));return r.length===1?r[0]:{compositeFilter:{op:x9(n.op),filters:r}}}(t):Pe(54877,{filter:t})}function O9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r,a,s=Me.min(),u=Me.min(),c=Nn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e){this.yt=e}}function I9(t){const e=E9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(){this.Cn=new P9}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Os.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class P9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new un(bt.comparator),s=!a.has(r);return this.index[n]=a.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new un(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pN=41943040;class er{static withCacheSize(e){return new er(e,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(pN,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _u(0)}static cr(){return new _u(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="LruGarbageCollector",N9=1048576;function iO([t,e],[n,r]){const a=Fe(t,n);return a===0?Fe(e,r):a}class D9{constructor(e){this.Ir=e,this.buffer=new un(iO),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();iO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(rO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lu(n)?ge(rO,"Ignoring IndexedDB error during garbage collection: ",n):await ju(n)}await this.Vr(3e5)})}}class M9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Pg.ce);const r=new D9(n);return this.mr.forEachTarget(e,a=>r.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>r.Ar(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(nO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nO):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,s,u,c,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,u=Date.now(),this.nthSequenceNumber(e,a))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(s=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(d=Date.now(),eu()<=$e.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${a} in `+(c-u)+`ms
	Removed ${s} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:y})))}}function j9(t,e){return new M9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(){this.changes=new Qo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Cf(r.mutation,a,yr.empty(),wt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,He()).next(()=>r))}getLocalViewOfDocuments(e,n,r=He()){const a=xo();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(s=>{let u=vf();return s.forEach((c,h)=>{u=u.insert(c,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=xo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,He()))}populateOverlays(e,n,r){const a=[];return r.forEach(s=>{n.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(e,a).next(s=>{s.forEach((u,c)=>{n.set(u,c)})})}computeViews(e,n,r,a){let s=_a();const u=Of(),c=function(){return Of()}();return n.forEach((h,d)=>{const m=r.get(d.key);a.has(d.key)&&(m===void 0||m.mutation instanceof Ls)?s=s.insert(d.key,d):m!==void 0?(u.set(d.key,m.mutation.getFieldMask()),Cf(m.mutation,d,m.mutation.getFieldMask(),wt.now())):u.set(d.key,yr.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((d,m)=>u.set(d,m)),n.forEach((d,m)=>c.set(d,new V9(m,u.get(d)??null))),c))}recalculateAndSaveOverlays(e,n){const r=Of();let a=new xt((u,c)=>u-c),s=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const c of u)c.keys().forEach(h=>{const d=n.get(h);if(d===null)return;let m=r.get(h)||yr.empty();m=c.applyToLocalView(d,m),r.set(h,m);const y=(a.get(c.batchId)||He()).add(h);a=a.insert(c.batchId,y)})}).next(()=>{const u=[],c=a.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,m=h.value,y=Z2();m.forEach(v=>{if(!s.has(v)){const _=iN(n.get(v),r.get(v));_!==null&&y.set(v,_),s=s.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,y))}return le.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(u){return Ae.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(s=>{const u=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-s.size):le.resolve(xo());let c=Df,h=s;return u.next(d=>le.forEach(d,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),s.get(m)?le.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{h=h.insert(m,v)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,h,d,He())).next(m=>({batchId:c,changes:Q2(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(r=>{let a=vf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const s=n.collectionGroup;let u=vf();return this.indexManager.getCollectionParents(e,s).next(c=>le.forEach(c,h=>{const d=function(y,v){return new ah(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next(m=>{m.forEach((y,v)=>{u=u.insert(y,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,a))).next(u=>{s.forEach((h,d)=>{const m=d.getKey();u.get(m)===null&&(u=u.insert(m,Bn.newInvalidDocument(m)))});let c=vf();return u.forEach((h,d)=>{const m=s.get(h);m!==void 0&&Cf(m.mutation,d,yr.empty(),wt.now()),Mg(n,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ii(a.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(a){return{name:a.name,query:I9(a.bundledQuery),readTime:Ii(a.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.overlays=new xt(Ae.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xo();return le.forEach(n,a=>this.getOverlay(e,a).next(s=>{s!==null&&r.set(a,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,s)=>{this.St(e,n,s)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const a=xo(),s=n.length+1,u=new Ae(n.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&h.largestBatchId>r&&a.set(h.getKey(),h)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let s=new xt((d,m)=>d-m);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=s.get(d.largestBatchId);m===null&&(m=xo(),s=s.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=xo(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,m)=>c.set(d,m)),!(c.size()>=a)););return le.resolve(c)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new a9(n,r));let s=this.qr.get(n);s===void 0&&(s=He(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.Qr=new un(vn.$r),this.Ur=new un(vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new vn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new vn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Ae(new bt([])),r=new vn(n,e),a=new vn(n,e+1),s=[];return this.Ur.forEachInRange([r,a],u=>{this.Gr(u),s.push(u.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ae(new bt([])),r=new vn(n,e),a=new vn(n,e+1);let s=He();return this.Ur.forEachInRange([r,a],u=>{s=s.add(u.key)}),s}containsKey(e){const n=new vn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ae.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(vn.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new i9(s,n,r,a);this.mutationQueue.push(u);for(const c of a)this.Zr=this.Zr.add(new vn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),s=a<0?0:a;return le.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?u1:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vn(n,0),a=new vn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,a],u=>{const c=this.Xr(u.Yr);s.push(c)}),le.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(Fe);return n.forEach(a=>{const s=new vn(a,0),u=new vn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,u],c=>{r=r.add(c.Yr)})}),le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let s=r;Ae.isDocumentKey(s)||(s=s.child(""));const u=new vn(new Ae(s),0);let c=new un(Fe);return this.Zr.forEachWhile(h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(c=c.add(h.Yr)),!0)},u),le.resolve(this.ti(c))}ti(e){const n=[];return e.forEach(r=>{const a=this.Xr(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){tt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return le.forEach(n.mutations,a=>{const s=new vn(a.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new vn(n,0),a=this.Zr.firstAfterOrEqual(r);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.ri=e,this.docs=function(){return new xt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),s=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let r=_a();return n.forEach(a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():Bn.newInvalidDocument(a))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let s=_a();const u=n.path,c=new Ae(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||v5(y5(m),r)<=0||(a.has(m.key)||Mg(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return le.resolve(s)}getAllFromCollectionGroup(e,n,r,a){Pe(9500)}ii(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new H9(this)}getSize(e){return le.resolve(this.size)}}class H9 extends L9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.persistence=e,this.si=new Qo(n=>h1(n),d1),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new _1,this.targetCount=0,this.ai=_u.ur()}forEachTarget(e,n){return this.si.forEach((r,a)=>n(a)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _u(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let a=0;const s=[];return this.si.forEach((u,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(u),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)}),le.waitFor(s).next(()=>a)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach(u=>{s.push(a.markPotentiallyOrphaned(e,u))}),le.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.ui={},this.overlays={},this.ci=new Pg(0),this.li=!1,this.li=!0,this.hi=new q9,this.referenceDelegate=e(this),this.Pi=new K9(this),this.indexManager=new R9,this.remoteDocumentCache=function(a){return new F9(a)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new C9(n),this.Ii=new B9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new z9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new $9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const a=new G9(this.ci.next());return this.referenceDelegate.Ei(),r(a).next(s=>this.referenceDelegate.di(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}Ai(e,n){return le.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class G9 extends _5{constructor(e){super(),this.currentSequenceNumber=e}}class w1{constructor(e){this.persistence=e,this.Ri=new _1,this.Vi=null}static mi(e){return new w1(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,r=>{const a=Ae.fromPath(r);return this.gi(e,a).next(s=>{s||n.removeEntry(a,Me.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zm{constructor(e,n){this.persistence=e,this.pi=new Qo(r=>T5(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=j9(this,n)}static mi(e,n){return new zm(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return le.forEach(this.pi,(r,a)=>this.br(e,r,a).next(s=>s?le.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(e,u=>this.br(e,u,n).next(c=>{c||(r++,s.removeEntry(u,Me.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vm(e.data.value)),n}br(e,n,r){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return le.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=He(),a=He();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new E1(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return wL()?8:w5(qn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const s={result:null};return this.ys(e,n).next(u=>{s.result=u}).next(()=>{if(!s.result)return this.ws(e,n,a,r).next(u=>{s.result=u})}).next(()=>{if(s.result)return;const u=new Y9;return this.Ss(e,n,u).next(c=>{if(s.result=c,this.Vs)return this.bs(e,n,u,c.size)})}).next(()=>s.result)}bs(e,n,r,a){return r.documentReadCount<this.fs?(eu()<=$e.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",tu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(eu()<=$e.DEBUG&&ge("QueryEngine","Query:",tu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(eu()<=$e.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",tu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):le.resolve())}ys(e,n){if(Kx(n))return le.resolve(null);let r=Ci(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Fb(n,null,"F"),r=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const u=He(...s);return this.ps.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const d=this.Ds(n,c);return this.Cs(n,d,u,h.readTime)?this.ys(e,Fb(n,null,"F")):this.vs(e,d,n,h)}))})))}ws(e,n,r,a){return Kx(n)||a.isEqual(Me.min())?le.resolve(null):this.ps.getDocuments(e,r).next(s=>{const u=this.Ds(n,s);return this.Cs(n,u,r,a)?le.resolve(null):(eu()<=$e.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),tu(n)),this.vs(e,u,n,p5(a,Df)).next(c=>c))})}Ds(e,n){let r=new un(W2(e));return n.forEach((a,s)=>{Mg(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,n,r){return eu()<=$e.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",tu(n)),this.ps.getDocumentsMatchingQuery(e,n,Os.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next(s=>(n.forEach(u=>{s=s.insert(u.key,u)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="LocalStore",X9=3e8;class Q9{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new xt(Fe),this.xs=new Qo(s=>h1(s),d1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function Z9(t,e,n,r){return new Q9(t,e,n,r)}async function vN(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(s=>(a=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const u=[],c=[];let h=He();for(const d of a){u.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of s){c.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next(d=>({Ls:d,removedBatchIds:u,addedBatchIds:c}))})})}function J9(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,h,d,m){const y=d.batch,v=y.keys();let _=le.resolve();return v.forEach(E=>{_=_.next(()=>m.getEntry(h,E)).next(T=>{const A=d.docVersions.get(E);tt(A!==null,48541),T.version.compareTo(A)<0&&(y.applyToRemoteDocument(T,d),T.isValidDocument()&&(T.setReadTime(d.commitVersion),m.addEntry(T)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=He();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function bN(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function eB(t,e){const n=je(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const c=[];e.targetChanges.forEach((m,y)=>{const v=a.get(y);if(!v)return;c.push(n.Pi.removeMatchingKeys(s,m.removedDocuments,y).next(()=>n.Pi.addMatchingKeys(s,m.addedDocuments,y)));let _=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?_=_.withResumeToken(Nn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),a=a.insert(y,_),function(T,A,I){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=X9?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(v,_,m)&&c.push(n.Pi.updateTargetData(s,_))});let h=_a(),d=He();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),c.push(tB(s,u,e.documentUpdates).next(m=>{h=m.ks,d=m.qs})),!r.isEqual(Me.min())){const m=n.Pi.getLastRemoteSnapshotVersion(s).next(y=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(m)}return le.waitFor(c).next(()=>u.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,h,d)).next(()=>h)}).then(s=>(n.Ms=a,s))}function tB(t,e,n){let r=He(),a=He();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let u=_a();return n.forEach((c,h)=>{const d=s.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(c)),h.isNoDocument()&&h.version.isEqual(Me.min())?(e.removeEntry(c,h.readTime),u=u.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),u=u.insert(c,h)):ge(T1,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{ks:u,qs:a}})}function nB(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=u1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rB(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Pi.getTargetData(r,e).next(s=>s?(a=s,le.resolve(a)):n.Pi.allocateTargetId(r).next(u=>(a=new vs(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Wb(t,e,n){const r=je(t),a=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Lu(u))throw u;ge(T1,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function aO(t,e,n){const r=je(t);let a=Me.min(),s=He();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,d,m){const y=je(h),v=y.xs.get(m);return v!==void 0?le.resolve(y.Ms.get(v)):y.Pi.getTargetData(d,m)}(r,u,Ci(e)).next(c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,c.targetId).next(h=>{s=h})}).next(()=>r.Fs.getDocumentsMatchingQuery(u,e,n?a:Me.min(),n?s:He())).next(c=>(iB(r,q5(e),c),{documents:c,Qs:s})))}function iB(t,e,n){let r=t.Os.get(e)||Me.min();n.forEach((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class sO{constructor(){this.activeTargetIds=Y5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aB{constructor(){this.Mo=new sO,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="ConnectivityMonitor";class lO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(oO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(oO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd=null;function Xb(){return Zd===null?Zd=function(){return 268435456+Math.round(2147483648*Math.random())}():Zd++,"0x"+Zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="RestConnection",oB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===km?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,s){const u=Xb(),c=this.zo(e,n.toUriEncodedString());ge(Hv,`Sending RPC '${e}' ${u}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,s);const{host:d}=new URL(c),m=Nu(d);return this.Jo(e,c,h,r,m).then(y=>(ge(Hv,`Received RPC '${e}' ${u}: `,y),y),y=>{throw gu(Hv,`RPC '${e}' ${u} failed with error: `,y,"url: ",c,"request:",r),y})}Ho(e,n,r,a,s,u){return this.Go(e,n,r,a,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>e[s]=a),r&&r.headers.forEach((a,s)=>e[s]=a)}zo(e,n){const r=oB[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="WebChannelConnection";class cB extends lB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,s){const u=Xb();return new Promise((c,h)=>{const d=new E2;d.setWithCredentials(!0),d.listenOnce(T2.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ym.NO_ERROR:const y=d.getResponseJson();ge(Ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(y)),c(y);break;case ym.TIMEOUT:ge(Ln,`RPC '${e}' ${u} timed out`),h(new pe(oe.DEADLINE_EXCEEDED,"Request time out"));break;case ym.HTTP_ERROR:const v=d.getStatus();if(ge(Ln,`RPC '${e}' ${u} failed with status:`,v,"response text:",d.getResponseText()),v>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_?.error;if(E&&E.status&&E.message){const T=function(I){const k=I.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(k)>=0?k:oe.UNKNOWN}(E.status);h(new pe(T,E.message))}else h(new pe(oe.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new pe(oe.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ge(Ln,`RPC '${e}' ${u} completed.`)}});const m=JSON.stringify(a);ge(Ln,`RPC '${e}' ${u} sending request:`,a),d.send(n,"POST",m,r,15)})}T_(e,n,r){const a=Xb(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=x2(),c=S2(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=s.join("");ge(Ln,`Creating RPC '${e}' stream ${a}: ${m}`,h);const y=u.createWebChannel(m,h);this.I_(y);let v=!1,_=!1;const E=new uB({Yo:A=>{_?ge(Ln,`Not sending because RPC '${e}' stream ${a} is closed:`,A):(v||(ge(Ln,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),ge(Ln,`RPC '${e}' stream ${a} sending:`,A),y.send(A))},Zo:()=>y.close()}),T=(A,I,k)=>{A.listen(I,D=>{try{k(D)}catch(F){setTimeout(()=>{throw F},0)}})};return T(y,yf.EventType.OPEN,()=>{_||(ge(Ln,`RPC '${e}' stream ${a} transport opened.`),E.o_())}),T(y,yf.EventType.CLOSE,()=>{_||(_=!0,ge(Ln,`RPC '${e}' stream ${a} transport closed`),E.a_(),this.E_(y))}),T(y,yf.EventType.ERROR,A=>{_||(_=!0,gu(Ln,`RPC '${e}' stream ${a} transport errored. Name:`,A.name,"Message:",A.message),E.a_(new pe(oe.UNAVAILABLE,"The operation could not be completed")))}),T(y,yf.EventType.MESSAGE,A=>{if(!_){const I=A.data[0];tt(!!I,16349);const k=I,D=k?.error||k[0]?.error;if(D){ge(Ln,`RPC '${e}' stream ${a} received error:`,D);const F=D.status;let q=function(R){const j=Yt[R];if(j!==void 0)return sN(j)}(F),H=D.message;q===void 0&&(q=oe.INTERNAL,H="Unknown error status: "+F+" with message "+D.message),_=!0,E.a_(new pe(q,H)),y.close()}else ge(Ln,`RPC '${e}' stream ${a} received:`,I),E.u_(I)}}),T(c,A2.STAT_EVENT,A=>{A.stat===Lb.PROXY?ge(Ln,`RPC '${e}' stream ${a} detected buffering proxy`):A.stat===Lb.NOPROXY&&ge(Ln,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Kv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t){return new m9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n,r=1e3,a=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="PersistentStream";class wN{constructor(e,n,r,a,s,u,c,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _N(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(ba(n.toString()),ba("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.D_===n&&this.G_(r,a)},r=>{e(()=>{const a=new pe(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{r(()=>this.z_(a))}),this.stream.onMessage(a=>{r(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ge(uO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ge(uO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fB extends wN{constructor(e,n,r,a,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=y9(this.serializer,e),r=function(s){if(!("targetChange"in s))return Me.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?Ii(u.readTime):Me.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Yb(this.serializer),n.addTarget=function(s,u){let c;const h=u.target;if(c=qb(h)?{documents:_9(s,h)}:{query:w9(s,h).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=uN(s,u.resumeToken);const d=Hb(s,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(Me.min())>0){c.readTime=Bm(s,u.snapshotVersion.toTimestamp());const d=Hb(s,u.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=T9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Yb(this.serializer),n.removeTarget=e,this.q_(n)}}class hB extends wN{constructor(e,n,r,a,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=b9(e.writeResults,e.commitTime),r=Ii(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Yb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>v9(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{}class mB extends dB{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Go(e,Kb(n,r),a,s,u)).catch(s=>{throw s.name==="FirebaseError"?(s.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pe(oe.UNKNOWN,s.toString())})}Ho(e,n,r,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Ho(e,Kb(n,r),a,u,c,s)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(oe.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class gB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ba(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="RemoteStore";class pB{constructor(e,n,r,a,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(u=>{r.enqueueAndForget(async()=>{Zo(this)&&(ge($o,"Restarting streams for network reachability change."),await async function(h){const d=je(h);d.Ea.add(4),await lh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Bg(d)}(this))})}),this.Ra=new gB(r,a)}}async function Bg(t){if(Zo(t))for(const e of t.da)await e(!0)}async function lh(t){for(const e of t.da)await e(!1)}function EN(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),O1(n)?x1(n):Vu(n).O_()&&S1(n,e))}function A1(t,e){const n=je(t),r=Vu(n);n.Ia.delete(e),r.O_()&&TN(n,e),n.Ia.size===0&&(r.O_()?r.L_():Zo(n)&&n.Ra.set("Unknown"))}function S1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vu(t).Y_(e)}function TN(t,e){t.Va.Ue(e),Vu(t).Z_(e)}function x1(t){t.Va=new c9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vu(t).start(),t.Ra.ua()}function O1(t){return Zo(t)&&!Vu(t).x_()&&t.Ia.size>0}function Zo(t){return je(t).Ea.size===0}function AN(t){t.Va=void 0}async function yB(t){t.Ra.set("Online")}async function vB(t){t.Ia.forEach((e,n)=>{S1(t,e)})}async function bB(t,e){AN(t),O1(t)?(t.Ra.ha(e),x1(t)):t.Ra.set("Unknown")}async function _B(t,e,n){if(t.Ra.set("Online"),e instanceof lN&&e.state===2&&e.cause)try{await async function(a,s){const u=s.cause;for(const c of s.targetIds)a.Ia.has(c)&&(await a.remoteSyncer.rejectListen(c,u),a.Ia.delete(c),a.Va.removeTarget(c))}(t,e)}catch(r){ge($o,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qm(t,r)}else if(e instanceof wm?t.Va.Ze(e):e instanceof oN?t.Va.st(e):t.Va.tt(e),!n.isEqual(Me.min()))try{const r=await bN(t.localStore);n.compareTo(r)>=0&&await function(s,u){const c=s.Va.Tt(u);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=s.Ia.get(d);m&&s.Ia.set(d,m.withResumeToken(h.resumeToken,u))}}),c.targetMismatches.forEach((h,d)=>{const m=s.Ia.get(h);if(!m)return;s.Ia.set(h,m.withResumeToken(Nn.EMPTY_BYTE_STRING,m.snapshotVersion)),TN(s,h);const y=new vs(m.target,h,d,m.sequenceNumber);S1(s,y)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){ge($o,"Failed to raise snapshot:",r),await qm(t,r)}}async function qm(t,e,n){if(!Lu(e))throw e;t.Ea.add(1),await lh(t),t.Ra.set("Offline"),n||(n=()=>bN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge($o,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Bg(t)})}function SN(t,e){return e().catch(n=>qm(t,n,e))}async function zg(t){const e=je(t),n=Ps(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:u1;for(;wB(e);)try{const a=await nB(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,EB(e,a)}catch(a){await qm(e,a)}xN(e)&&ON(e)}function wB(t){return Zo(t)&&t.Ta.length<10}function EB(t,e){t.Ta.push(e);const n=Ps(t);n.O_()&&n.X_&&n.ea(e.mutations)}function xN(t){return Zo(t)&&!Ps(t).x_()&&t.Ta.length>0}function ON(t){Ps(t).start()}async function TB(t){Ps(t).ra()}async function AB(t){const e=Ps(t);for(const n of t.Ta)e.ea(n.mutations)}async function SB(t,e,n){const r=t.Ta.shift(),a=y1.from(r,e,n);await SN(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await zg(t)}async function xB(t,e){e&&Ps(t).X_&&await async function(r,a){if(function(u){return o9(u)&&u!==oe.ABORTED}(a.code)){const s=r.Ta.shift();Ps(r).B_(),await SN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a)),await zg(r)}}(t,e),xN(t)&&ON(t)}async function cO(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),ge($o,"RemoteStore received new credentials");const r=Zo(n);n.Ea.add(3),await lh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bg(n)}async function OB(t,e){const n=je(t);e?(n.Ea.delete(2),await Bg(n)):e||(n.Ea.add(2),await lh(n),n.Ra.set("Unknown"))}function Vu(t){return t.ma||(t.ma=function(n,r,a){const s=je(n);return s.sa(),new fB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(t.datastore,t.asyncQueue,{Xo:yB.bind(null,t),t_:vB.bind(null,t),r_:bB.bind(null,t),H_:_B.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),O1(t)?x1(t):t.Ra.set("Unknown")):(await t.ma.stop(),AN(t))})),t.ma}function Ps(t){return t.fa||(t.fa=function(n,r,a){const s=je(n);return s.sa(),new hB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:TB.bind(null,t),r_:xB.bind(null,t),ta:AB.bind(null,t),na:SB.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await zg(t)):(await t.fa.stop(),t.Ta.length>0&&(ge($o,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n,r,a,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new Po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,s){const u=Date.now()+r,c=new C1(e,n,u,a,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I1(t,e){if(ba("AsyncQueue",`${e}: ${t}`),Lu(t))return new pe(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{static emptySet(e){return new cu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=vf(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new cu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.ga=new xt(Ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class wu{constructor(e,n,r,a,s,u,c,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,a,s){const u=[];return n.forEach(c=>{u.push({type:0,doc:c})}),new wu(e,n,cu.emptySet(n),u,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class IB{constructor(){this.queries=hO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=je(n),s=a.queries;a.queries=hO(),s.forEach((u,c)=>{for(const h of c.Sa)h.onError(r)})})(this,new pe(oe.ABORTED,"Firestore shutting down"))}}function hO(){return new Qo(t=>Y2(t),kg)}async function RB(t,e){const n=je(t);let r=3;const a=e.query;let s=n.queries.get(a);s?!s.ba()&&e.Da()&&(r=2):(s=new CB,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(a,!0);break;case 1:s.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const c=I1(u,`Initialization of query '${tu(e.query)}' failed`);return void e.onError(c)}n.queries.set(a,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&R1(n)}async function PB(t,e){const n=je(t),r=e.query;let a=3;const s=n.queries.get(r);if(s){const u=s.Sa.indexOf(e);u>=0&&(s.Sa.splice(u,1),s.Sa.length===0?a=e.Da()?0:1:!s.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NB(t,e){const n=je(t);let r=!1;for(const a of e){const s=a.query,u=n.queries.get(s);if(u){for(const c of u.Sa)c.Fa(a)&&(r=!0);u.wa=a}}r&&R1(n)}function DB(t,e,n){const r=je(t),a=r.queries.get(e);if(a)for(const s of a.Sa)s.onError(n);r.queries.delete(e)}function R1(t){t.Ca.forEach(e=>{e.next()})}var Qb,dO;(dO=Qb||(Qb={})).Ma="default",dO.Cache="cache";class kB{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new wu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.key=e}}class IN{constructor(e){this.key=e}}class MB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=W2(e),this.tu=new cu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new fO,a=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,u=a,c=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((m,y)=>{const v=a.get(m),_=Mg(this.query,y)?y:null,E=!!v&&this.mutatedKeys.has(v.key),T=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;v&&_?v.data.isEqual(_.data)?E!==T&&(r.track({type:3,doc:_}),A=!0):this.su(v,_)||(r.track({type:2,doc:_}),A=!0,(h&&this.eu(_,h)>0||d&&this.eu(_,d)<0)&&(c=!0)):!v&&_?(r.track({type:0,doc:_}),A=!0):v&&!_&&(r.track({type:1,doc:v}),A=!0,(h||d)&&(c=!0)),A&&(_?(u=u.add(_),s=T?s.add(m):s.delete(m)):(u=u.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:u,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((m,y)=>function(_,E){const T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:A})}};return T(_)-T(E)}(m.type,y.type)||this.eu(m.doc,y.doc)),this.ou(r),a=a??!1;const c=n&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,d=h!==this.Za;return this.Za=h,u.length!==0||d?{snapshot:new wu(this.query,e.tu,s,u,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new IN(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new CN(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const P1="SyncEngine";class jB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LB{constructor(e){this.key=e,this.hu=!1}}class VB{constructor(e,n,r,a,s,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Qo(c=>Y2(c),kg),this.Iu=new Map,this.Eu=new Set,this.du=new xt(Ae.comparator),this.Au=new Map,this.Ru=new _1,this.Vu={},this.mu=new Map,this.fu=_u.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UB(t,e,n=!0){const r=MN(t);let a;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await RN(r,e,n,!0),a}async function BB(t,e){const n=MN(t);await RN(n,e,!0,!1)}async function RN(t,e,n,r){const a=await rB(t.localStore,Ci(e)),s=a.targetId,u=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await zB(t,e,s,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&EN(t.remoteStore,a),c}async function zB(t,e,n,r,a){t.pu=(y,v,_)=>async function(T,A,I,k){let D=A.view.ru(I);D.Cs&&(D=await aO(T.localStore,A.query,!1).then(({documents:N})=>A.view.ru(N,D)));const F=k&&k.targetChanges.get(A.targetId),q=k&&k.targetMismatches.get(A.targetId)!=null,H=A.view.applyChanges(D,T.isPrimaryClient,F,q);return gO(T,A.targetId,H.au),H.snapshot}(t,y,v,_);const s=await aO(t.localStore,e,!0),u=new MB(e,s.Qs),c=u.ru(s.documents),h=oh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),d=u.applyChanges(c,t.isPrimaryClient,h);gO(t,n,d.au);const m=new jB(e,n,u);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function qB(t,e,n){const r=je(t),a=r.Tu.get(e),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter(u=>!kg(u,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Wb(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&A1(r.remoteStore,a.targetId),Zb(r,a.targetId)}).catch(ju)):(Zb(r,a.targetId),await Wb(r.localStore,a.targetId,!0))}async function $B(t,e){const n=je(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),A1(n.remoteStore,r.targetId))}async function FB(t,e,n){const r=QB(t);try{const a=await function(u,c){const h=je(u),d=wt.now(),m=c.reduce((_,E)=>_.add(E.key),He());let y,v;return h.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=_a(),T=He();return h.Ns.getEntries(_,m).next(A=>{E=A,E.forEach((I,k)=>{k.isValidDocument()||(T=T.add(I))})}).next(()=>h.localDocuments.getOverlayedDocuments(_,E)).next(A=>{y=A;const I=[];for(const k of c){const D=n9(k,y.get(k.key).overlayedDocument);D!=null&&I.push(new Ls(k.key,D,B2(D.value.mapValue),qr.exists(!0)))}return h.mutationQueue.addMutationBatch(_,d,I,c)}).next(A=>{v=A;const I=A.applyToLocalDocumentSet(y,T);return h.documentOverlayCache.saveOverlays(_,A.batchId,I)})}).then(()=>({batchId:v.batchId,changes:Q2(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,c,h){let d=u.Vu[u.currentUser.toKey()];d||(d=new xt(Fe)),d=d.insert(c,h),u.Vu[u.currentUser.toKey()]=d}(r,a.batchId,n),await uh(r,a.changes),await zg(r.remoteStore)}catch(a){const s=I1(a,"Failed to persist write");n.reject(s)}}async function PN(t,e){const n=je(t);try{const r=await eB(n.localStore,e);e.targetChanges.forEach((a,s)=>{const u=n.Au.get(s);u&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?tt(u.hu,14607):a.removedDocuments.size>0&&(tt(u.hu,42227),u.hu=!1))}),await uh(n,r,e)}catch(r){await ju(r)}}function mO(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach((s,u)=>{const c=u.view.va(e);c.snapshot&&a.push(c.snapshot)}),function(u,c){const h=je(u);h.onlineState=c;let d=!1;h.queries.forEach((m,y)=>{for(const v of y.Sa)v.va(c)&&(d=!0)}),d&&R1(h)}(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HB(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),s=a&&a.key;if(s){let u=new xt(Ae.comparator);u=u.insert(s,Bn.newNoDocument(s,Me.min()));const c=He().add(s),h=new Vg(Me.min(),new Map,new xt(Fe),u,c);await PN(r,h),r.du=r.du.remove(s),r.Au.delete(e),N1(r)}else await Wb(r.localStore,e,!1).then(()=>Zb(r,e,n)).catch(ju)}async function KB(t,e){const n=je(t),r=e.batch.batchId;try{const a=await J9(n.localStore,e);DN(n,r,null),NN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uh(n,a)}catch(a){await ju(a)}}async function GB(t,e,n){const r=je(t);try{const a=await function(u,c){const h=je(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return h.mutationQueue.lookupMutationBatch(d,c).next(y=>(tt(y!==null,37113),m=y.keys(),h.mutationQueue.removeMutationBatch(d,y))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>h.localDocuments.getDocuments(d,m))})}(r.localStore,e);DN(r,e,n),NN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await uh(r,a)}catch(a){await ju(a)}}function NN(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function DN(t,e,n){const r=je(t);let a=r.Vu[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(n?s.reject(n):s.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Zb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||kN(t,r)})}function kN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(A1(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),N1(t))}function gO(t,e,n){for(const r of n)r instanceof CN?(t.Ru.addReference(r.key,e),YB(t,r)):r instanceof IN?(ge(P1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||kN(t,r.key)):Pe(19791,{wu:r})}function YB(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ge(P1,"New document in limbo: "+n),t.Eu.add(r),N1(t))}function N1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ae(bt.fromString(e)),r=t.fu.next();t.Au.set(r,new LB(n)),t.du=t.du.insert(n,r),EN(t.remoteStore,new vs(Ci(m1(n.path)),r,"TargetPurposeLimboResolution",Pg.ce))}}async function uh(t,e,n){const r=je(t),a=[],s=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach((c,h)=>{u.push(r.pu(h,e,n).then(d=>{if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(d){a.push(d);const m=E1.As(h.targetId,d);s.push(m)}}))}),await Promise.all(u),r.Pu.H_(a),await async function(h,d){const m=je(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>le.forEach(d,v=>le.forEach(v.Es,_=>m.persistence.referenceDelegate.addReference(y,v.targetId,_)).next(()=>le.forEach(v.ds,_=>m.persistence.referenceDelegate.removeReference(y,v.targetId,_)))))}catch(y){if(!Lu(y))throw y;ge(T1,"Failed to update sequence numbers: "+y)}for(const y of d){const v=y.targetId;if(!y.fromCache){const _=m.Ms.get(v),E=_.snapshotVersion,T=_.withLastLimboFreeSnapshotVersion(E);m.Ms=m.Ms.insert(v,T)}}}(r.localStore,s))}async function WB(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){ge(P1,"User change. New user:",e.toKey());const r=await vN(n.localStore,e);n.currentUser=e,function(s,u){s.mu.forEach(c=>{c.forEach(h=>{h.reject(new pe(oe.CANCELLED,u))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uh(n,r.Ls)}}function XB(t,e){const n=je(t),r=n.Au.get(e);if(r&&r.hu)return He().add(r.key);{let a=He();const s=n.Iu.get(e);if(!s)return a;for(const u of s){const c=n.Tu.get(u);a=a.unionWith(c.view.nu)}return a}}function MN(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HB.bind(null,e),e.Pu.H_=NB.bind(null,e.eventManager),e.Pu.yu=DB.bind(null,e.eventManager),e}function QB(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GB.bind(null,e),e}class $m{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ug(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Z9(this.persistence,new W9,e.initialUser,this.serializer)}Cu(e){return new yN(w1.mi,this.serializer)}Du(e){return new aB}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$m.provider={build:()=>new $m};class ZB extends $m{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof zm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new k9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?er.withCacheSize(this.cacheSizeBytes):er.DEFAULT;return new yN(r=>zm.mi(r,n),this.serializer)}}class Jb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WB.bind(null,this.syncEngine),await OB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IB}()}createDatastore(e){const n=Ug(e.databaseInfo.databaseId),r=function(s){return new cB(s)}(e.databaseInfo);return function(s,u,c,h){return new mB(s,u,c,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,s,u,c){return new pB(r,a,s,u,c)}(this.localStore,this.datastore,e.asyncQueue,n=>mO(this.syncEngine,n,0),function(){return lO.v()?new lO:new sB}())}createSyncEngine(e,n){return function(a,s,u,c,h,d,m){const y=new VB(a,s,u,c,h,d);return m&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=je(n);ge($o,"RemoteStore shutting down."),r.Ea.add(5),await lh(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jb.provider={build:()=>new Jb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ba("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class e8{constructor(e,n,r,a,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Un.UNAUTHENTICATED,this.clientId=l1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async u=>{ge(Ns,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ge(Ns,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=I1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gv(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Ns,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await vN(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await t8(t);ge(Ns,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>cO(e.remoteStore,a)),t._onlineComponents=e}async function t8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Ns,"Using user provided OfflineComponentProvider");try{await Gv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;gu("Error using user provided cache. Falling back to memory cache: "+n),await Gv(t,new $m)}}else ge(Ns,"Using default OfflineComponentProvider"),await Gv(t,new ZB(void 0));return t._offlineComponents}async function jN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Ns,"Using user provided OnlineComponentProvider"),await pO(t,t._uninitializedComponentsProvider._online)):(ge(Ns,"Using default OnlineComponentProvider"),await pO(t,new Jb))),t._onlineComponents}function n8(t){return jN(t).then(e=>e.syncEngine)}async function yO(t){const e=await jN(t),n=e.eventManager;return n.onListen=UB.bind(null,e.syncEngine),n.onUnlisten=qB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$B.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="firestore.googleapis.com",bO=!0;class _O{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VN,this.ssl=bO}else this.host=e.host,this.ssl=e.ssl??bO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N9)throw new pe(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LN(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qg{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _O({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _O(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new a5;switch(r.type){case"firstParty":return new u5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=vO.get(n);r&&(ge("ComponentProvider","Removing Datastore"),vO.delete(n),r.terminate())}(this),Promise.resolve()}}function r8(t,e,n,r={}){t=Oi(t,qg);const a=Nu(e),s=t._getSettings(),u={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;a&&(PP(`https://${c}`),NP("Firestore",!0)),s.host!==VN&&s.host!==c&&gu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...s,host:c,ssl:a,emulatorOptions:r};if(!xs(h,u)&&(t._setSettings(h),r.mockUserToken)){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=Un.MOCK_USER;else{d=hL(r.mockUserToken,t._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new pe(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Un(y)}t._authCredentials=new s5(new C2(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Uu(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ih(n,Vt._jsonSchema))return new Vt(e,r||null,new Ae(bt.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Xt("string",Vt._jsonSchemaVersion),referencePath:Xt("string")};class Ts extends Uu{constructor(e,n,r){super(e,n,m1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Ae(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function D1(t,e,...n){if(t=en(t),I2("collection","path",e),t instanceof qg){const r=bt.fromString(e,...n);return Nx(r),new Ts(t,null,r)}{if(!(t instanceof Vt||t instanceof Ts))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return Nx(r),new Ts(t.firestore,null,r)}}function As(t,e,...n){if(t=en(t),arguments.length===1&&(e=l1.newId()),I2("doc","path",e),t instanceof qg){const r=bt.fromString(e,...n);return Px(r),new Vt(t,null,new Ae(r))}{if(!(t instanceof Vt||t instanceof Ts))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return Px(r),new Vt(t.firestore,t instanceof Ts?t.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="AsyncQueue";class EO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _N(this,"async_queue_retry"),this._c=()=>{const r=Kv();r&&ge(wO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Kv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Kv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Po;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lu(e))throw e;ge(wO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ba("INTERNAL UNHANDLED ERROR: ",TO(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=C1.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(a),a}uc(){this.nc&&Pe(47125,{Pc:TO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const s of r)if(s in a&&typeof a[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Fo extends qg{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new EO,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new EO(e),this._firestoreClient=void 0,await e}}}function i8(t,e){const n=typeof t=="object"?t:jP(),r=typeof t=="string"?t:km,a=Z_(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=cL("firestore");s&&r8(a,...s)}return a}function UN(t){if(t._terminated)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||a8(t),t._firestoreClient}function a8(t){const e=t._freezeSettings(),n=function(a,s,u,c){return new x5(a,s,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,LN(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new e8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const s=a?._online.build();return{_offline:a?._offline.build(s),_online:s}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Br(Nn.fromBase64String(e))}catch(n){throw new pe(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Br(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ih(e,Br._jsonSchema))return Br.fromBase64String(e.bytes)}}Br._jsonSchemaVersion="firestore/bytes/1.0",Br._jsonSchema={type:Xt("string",Br._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(e){if(ih(e,Ri._jsonSchema))return new Ri(e.latitude,e.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Xt("string",Ri._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ih(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Pi(e.vectorValues);throw new pe(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Xt("string",Pi._jsonSchemaVersion),vectorValues:Xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=/^__.*__$/;class o8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new sh(e,this.data,n,this.fieldTransforms)}}class BN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:t})}}class Hg{constructor(e,n,r,a,s,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zN(this.Ac)&&s8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class l8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ug(e)}Cc(e,n,r,a=!1){return new Hg({Ac:e,methodName:n,Dc:r,path:Rn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kg(t){const e=t._freezeSettings(),n=Ug(t._databaseId);return new l8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qN(t,e,n,r,a,s={}){const u=t.Cc(s.merge||s.mergeFields?2:0,e,n,a);M1("Data must be an object, but it was:",u,r);const c=$N(r,u);let h,d;if(s.merge)h=new yr(u.fieldMask),d=u.fieldTransforms;else if(s.mergeFields){const m=[];for(const y of s.mergeFields){const v=e_(e,y,n);if(!u.contains(v))throw new pe(oe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);HN(m,v)||m.push(v)}h=new yr(m),d=u.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=u.fieldTransforms;return new o8(new tr(c),h,d)}class Gg extends Fg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gg}}function u8(t,e,n){return new Hg({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class k1 extends Fg{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=u8(this,e,!0),r=this.vc.map(s=>Bu(s,n)),a=new bu(r);return new Z5(e.path,a)}isEqual(e){return e instanceof k1&&xs(this.vc,e.vc)}}function c8(t,e,n,r){const a=t.Cc(1,e,n);M1("Data must be an object, but it was:",a,r);const s=[],u=tr.empty();js(r,(h,d)=>{const m=j1(e,h,n);d=en(d);const y=a.yc(m);if(d instanceof Gg)s.push(m);else{const v=Bu(d,y);v!=null&&(s.push(m),u.set(m,v))}});const c=new yr(s);return new BN(u,c,a.fieldTransforms)}function f8(t,e,n,r,a,s){const u=t.Cc(1,e,n),c=[e_(e,r,n)],h=[a];if(s.length%2!=0)throw new pe(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(e_(e,s[v])),h.push(s[v+1]);const d=[],m=tr.empty();for(let v=c.length-1;v>=0;--v)if(!HN(d,c[v])){const _=c[v];let E=h[v];E=en(E);const T=u.yc(_);if(E instanceof Gg)d.push(_);else{const A=Bu(E,T);A!=null&&(d.push(_),m.set(_,A))}}const y=new yr(d);return new BN(m,y,u.fieldTransforms)}function h8(t,e,n,r=!1){return Bu(n,t.Cc(r?4:3,e))}function Bu(t,e){if(FN(t=en(t)))return M1("Unsupported field value:",e,t),$N(t,e);if(t instanceof Fg)return function(r,a){if(!zN(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,a){const s=[];let u=0;for(const c of r){let h=Bu(c,a.wc(u));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),u++}return{arrayValue:{values:s}}}(t,e)}return function(r,a){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return W5(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=wt.fromDate(r);return{timestampValue:Bm(a.serializer,s)}}if(r instanceof wt){const s=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bm(a.serializer,s)}}if(r instanceof Ri)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Br)return{bytesValue:uN(a.serializer,r._byteString)};if(r instanceof Vt){const s=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(s))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:b1(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Pi)return function(u,c){return{mapValue:{fields:{[V2]:{stringValue:U2},[Mm]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return g1(c.serializer,d)})}}}}}}(r,a);throw a.Sc(`Unsupported field value: ${Rg(r)}`)}(t,e)}function $N(t,e){const n={};return N2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(t,(r,a)=>{const s=Bu(a,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function FN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof Ri||t instanceof Br||t instanceof Vt||t instanceof Fg||t instanceof Pi)}function M1(t,e,n){if(!FN(n)||!R2(n)){const r=Rg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function e_(t,e,n){if((e=en(e))instanceof $g)return e._internalPath;if(typeof e=="string")return j1(t,e);throw Fm("Field path arguments must be of type string or ",t,!1,void 0,n)}const d8=new RegExp("[~\\*/\\[\\]]");function j1(t,e,n){if(e.search(d8)>=0)throw Fm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $g(...e.split("."))._internalPath}catch{throw Fm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fm(t,e,n,r,a){const s=r&&!r.isEmpty(),u=a!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||u)&&(h+=" (found",s&&(h+=` in field ${r}`),u&&(h+=` in document ${a}`),h+=")"),new pe(oe.INVALID_ARGUMENT,c+t+h)}function HN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,r,a,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(L1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m8 extends KN{data(){return super.data()}}function L1(t,e){return typeof e=="string"?j1(t,e):e instanceof $g?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V1{}class p8 extends V1{}function GN(t,e,...n){let r=[];e instanceof V1&&r.push(e),r=r.concat(n),function(s){const u=s.filter(h=>h instanceof U1).length,c=s.filter(h=>h instanceof Yg).length;if(u>1||u>0&&c>0)throw new pe(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class Yg extends p8{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yg(e,n,r)}_apply(e){const n=this._parse(e);return YN(e._query,n),new Uu(e.firestore,e.converter,$b(e._query,n))}_parse(e){const n=Kg(e.firestore);return function(s,u,c,h,d,m,y){let v;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new pe(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){xO(y,m);const E=[];for(const T of y)E.push(SO(h,s,T));v={arrayValue:{values:E}}}else v=SO(h,s,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||xO(y,m),v=h8(c,u,y,m==="in"||m==="not-in");return Wt.create(d,m,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function y8(t,e,n){const r=e,a=L1("where",t);return Yg._create(a,r,n)}class U1 extends V1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new U1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,s){let u=a;const c=s.getFlattenedFilters();for(const h of c)YN(u,h),u=$b(u,h)}(e._query,n),new Uu(e.firestore,e.converter,$b(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function SO(t,e,n){if(typeof(n=en(n))=="string"){if(n==="")throw new pe(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G2(e)&&n.indexOf("/")!==-1)throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(bt.fromString(n));if(!Ae.isDocumentKey(r))throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bx(t,new Ae(r))}if(n instanceof Vt)return Bx(t,n._key);throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rg(n)}.`)}function xO(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YN(t,e){const n=function(a,s){for(const u of a)for(const c of u.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class v8{convertValue(e,n="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return js(e,(a,s)=>{r[a]=this.convertValue(s,n)}),r}convertVectorValue(e){const n=e.fields?.[Mm].arrayValue?.values?.map(r=>Lt(r.doubleValue));return new Pi(n)}convertGeoPoint(e){return new Ri(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kf(e));default:return null}}convertTimestamp(e){const n=Cs(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=bt.fromString(e);tt(gN(r),9688,{name:e});const a=new Mf(r.get(1),r.get(3)),s=new Ae(r.popFirst(5));return a.isEqual(n)||ba(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class _f{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class No extends KN{constructor(e,n,r,a,s,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Em(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(L1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=No._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}No._jsonSchemaVersion="firestore/documentSnapshot/1.0",No._jsonSchema={type:Xt("string",No._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Em extends No{data(e={}){return super.data(e)}}class fu{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new _f(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Em(this._firestore,this._userDataWriter,r.key,r,new _f(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,s){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(c=>{const h=new Em(a._firestore,a._userDataWriter,c.doc.key,c.doc,new _f(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const h=new Em(a._firestore,a._userDataWriter,c.doc.key,c.doc,new _f(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,m=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),m=u.indexOf(c.doc.key)),{type:b8(c.type),doc:h,oldIndex:d,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=l1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function b8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:t})}}fu._jsonSchemaVersion="firestore/querySnapshot/1.0",fu._jsonSchema={type:Xt("string",fu._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class XN extends v8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function _8(t,e,n){t=Oi(t,Vt);const r=Oi(t.firestore,Fo),a=WN(t.converter,e);return Wg(r,[qN(Kg(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,qr.none())])}function t_(t,e,n,...r){t=Oi(t,Vt);const a=Oi(t.firestore,Fo),s=Kg(a);let u;return u=typeof(e=en(e))=="string"||e instanceof $g?f8(s,"updateDoc",t._key,e,n,r):c8(s,"updateDoc",t._key,e),Wg(a,[u.toMutation(t._key,qr.exists(!0))])}function QN(t){return Wg(Oi(t.firestore,Fo),[new p1(t._key,qr.none())])}function w8(t,e){const n=Oi(t.firestore,Fo),r=As(t),a=WN(t.converter,e);return Wg(n,[qN(Kg(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,qr.exists(!1))]).then(()=>r)}function n_(t,...e){t=en(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||AO(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(AO(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let s,u,c;if(t instanceof Vt)u=Oi(t.firestore,Fo),c=m1(t._key.path),s={next:h=>{e[r]&&e[r](E8(u,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Oi(t,Uu);u=Oi(h.firestore,Fo),c=h._query;const d=new XN(u);s={next:m=>{e[r]&&e[r](new fu(u,d,h,m))},error:e[r+1],complete:e[r+2]},g8(t._query)}return function(d,m,y,v){const _=new JB(v),E=new kB(m,_,y);return d.asyncQueue.enqueueAndForget(async()=>RB(await yO(d),E)),()=>{_.Nu(),d.asyncQueue.enqueueAndForget(async()=>PB(await yO(d),E))}}(UN(u),c,a,s)}function Wg(t,e){return function(r,a){const s=new Po;return r.asyncQueue.enqueueAndForget(async()=>FB(await n8(r),a,s)),s.promise}(UN(t),e)}function E8(t,e,n){const r=n.docs.get(e._key),a=new XN(t);return new No(t,a,e._key,r,new _f(n.hasPendingWrites,n.fromCache),e.converter)}function T8(...t){return new k1("arrayUnion",t)}(function(e,n=!0){(function(a){Mu=a})(Du),mu(new Uo("firestore",(r,{instanceIdentifier:a,options:s})=>{const u=r.getProvider("app").getImmediate(),c=new Fo(new o5(r.getProvider("auth-internal")),new c5(u,r.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new pe(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mf(d.options.projectId,m)}(u,a),u);return s={useFetchStreams:n,...s},c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ws(Ox,Cx,e),ws(Ox,Cx,"esm2020")})();function ZN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=ZN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function dt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=ZN(t))&&(r&&(r+=" "),r+=e);return r}var Yv={},Wv={},OO;function A8(){return OO||(OO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e}(Wv)),Wv}var Xv={},CO;function JN(){return CO||(CO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e}(Xv)),Xv}var Qv={},IO;function eD(){return IO||(IO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e}(Qv)),Qv}var Zv={},RO;function B1(){return RO||(RO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],a=n.length;if(a===0)return r;let s=0,u="",c="",h=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<a;){const d=n[s];c?d==="\\"&&s+1<a?(s++,u+=n[s]):d===c?c="":u+=d:h?d==='"'||d==="'"?c=d:d==="]"?(h=!1,r.push(u),u=""):u+=d:d==="["?(h=!0,u&&(r.push(u),u="")):d==="."?u&&(r.push(u),u=""):u+=d,s++}return u&&r.push(u),r}t.toPath=e}(Zv)),Zv}var PO;function z1(){return PO||(PO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A8(),n=JN(),r=eD(),a=B1();function s(c,h,d){if(c==null)return d;switch(typeof h){case"string":{if(e.isUnsafeProperty(h))return d;const m=c[h];return m===void 0?n.isDeepKey(h)?s(c,a.toPath(h),d):d:m}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const m=c[h];return m===void 0?d:m}default:{if(Array.isArray(h))return u(c,h,d);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),e.isUnsafeProperty(h))return d;const m=c[h];return m===void 0?d:m}}}function u(c,h,d){if(h.length===0)return d;let m=c;for(let y=0;y<h.length;y++){if(m==null||e.isUnsafeProperty(h[y]))return d;m=m[h[y]]}return m===void 0?d:m}t.get=s}(Yv)),Yv}var Jv,NO;function S8(){return NO||(NO=1,Jv=z1().get),Jv}var x8=S8();const Ds=Sa(x8);var e0={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DO;function O8(){if(DO)return ht;DO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function E(T){if(typeof T=="object"&&T!==null){var A=T.$$typeof;switch(A){case t:switch(T=T.type,T){case n:case a:case r:case h:case d:case v:return T;default:switch(T=T&&T.$$typeof,T){case u:case c:case y:case m:return T;case s:return T;default:return A}}case e:return A}}}return ht.ContextConsumer=s,ht.ContextProvider=u,ht.Element=t,ht.ForwardRef=c,ht.Fragment=n,ht.Lazy=y,ht.Memo=m,ht.Portal=e,ht.Profiler=a,ht.StrictMode=r,ht.Suspense=h,ht.SuspenseList=d,ht.isContextConsumer=function(T){return E(T)===s},ht.isContextProvider=function(T){return E(T)===u},ht.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},ht.isForwardRef=function(T){return E(T)===c},ht.isFragment=function(T){return E(T)===n},ht.isLazy=function(T){return E(T)===y},ht.isMemo=function(T){return E(T)===m},ht.isPortal=function(T){return E(T)===e},ht.isProfiler=function(T){return E(T)===a},ht.isStrictMode=function(T){return E(T)===r},ht.isSuspense=function(T){return E(T)===h},ht.isSuspenseList=function(T){return E(T)===d},ht.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===a||T===r||T===h||T===d||typeof T=="object"&&T!==null&&(T.$$typeof===y||T.$$typeof===m||T.$$typeof===u||T.$$typeof===s||T.$$typeof===c||T.$$typeof===_||T.getModuleId!==void 0)},ht.typeOf=E,ht}var kO;function C8(){return kO||(kO=1,e0.exports=O8()),e0.exports}var I8=C8(),Pn=t=>t===0?0:t>0?1:-1,$r=t=>typeof t=="number"&&t!=+t,Oo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ee=t=>(typeof t=="number"||t instanceof Number)&&!$r(t),ki=t=>Ee(t)||typeof t=="string",R8=0,Eu=t=>{var e=++R8;return"".concat(t||"").concat(e)},Yn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(e)&&typeof e!="string")return r;var s;if(Oo(e)){if(n==null)return r;var u=e.indexOf("%");s=n*parseFloat(e.slice(0,u))/100}else s=+e;return $r(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},tD=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},fs=(t,e)=>Ee(t)&&Ee(e)?n=>t+n*(e-t):()=>e;function P8(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Ds(r,e))===n)}var Zt=t=>t===null||typeof t>"u",ch=t=>Zt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),N8=["viewBox","children"],D8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MO=["points","pathLength"],t0={svg:N8,polygon:MO,polyline:MO},q1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],k8=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{q1.includes(a)&&(r[a]=s=>n[a](n,s))}),r},M8=(t,e,n)=>r=>(t(e,n,r),null),Xg=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var s=t[a];q1.includes(a)&&typeof s=="function"&&(r||(r={}),r[a]=M8(s,e,n))}),r},jO=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",LO=null,n0=null,nD=t=>{if(t===LO&&Array.isArray(n0))return n0;var e=[];return O.Children.forEach(t,n=>{Zt(n)||(I8.isFragment(n)?e=e.concat(nD(n.props.children)):e.push(n))}),n0=e,LO=t,e};function fh(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>jO(a)):r=[jO(e)],nD(t).forEach(a=>{var s=Ds(a,"type.displayName")||Ds(a,"type.name");r.indexOf(s)!==-1&&n.push(a)}),n}var j8=(t,e,n,r)=>{var a,s=(a=r&&t0?.[r])!==null&&a!==void 0?a:[];return e.startsWith("data-")||typeof t!="function"&&(r&&s.includes(e)||D8.includes(e))||n&&q1.includes(e)},mt=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(O.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(s=>{var u;j8((u=r)===null||u===void 0?void 0:u[s],s,e,n)&&(a[s]=r[s])}),a},L8=["children","width","height","viewBox","className","style","title","desc"];function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r_.apply(null,arguments)}function V8(t,e){if(t==null)return{};var n,r,a=U8(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function U8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rD=O.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:s,className:u,style:c,title:h,desc:d}=t,m=V8(t,L8),y=s||{width:r,height:a,x:0,y:0},v=dt("recharts-surface",u);return O.createElement("svg",r_({},mt(m,!0,"svg"),{className:v,width:r,height:a,style:c,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height),ref:e}),O.createElement("title",null,h),O.createElement("desc",null,d),n)}),B8=["children","className"];function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i_.apply(null,arguments)}function z8(t,e){if(t==null)return{};var n,r,a=q8(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function q8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Wn=O.forwardRef((t,e)=>{var{children:n,className:r}=t,a=z8(t,B8),s=dt("recharts-layer",r);return O.createElement("g",i_({className:s},mt(a,!0),{ref:e}),n)}),$8=AP(),F8=O.createContext(null);function vt(t){return function(){return t}}const iD=Math.cos,Hm=Math.sin,ai=Math.sqrt,Km=Math.PI,Qg=2*Km,a_=Math.PI,s_=2*a_,To=1e-6,H8=s_-To;function aD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function K8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return aD;const n=10**e;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class G8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?aD:K8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,s,u){this._append`C${+e},${+n},${+r},${+a},${this._x1=+s},${this._y1=+u}`}arcTo(e,n,r,a,s){if(e=+e,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let u=this._x1,c=this._y1,h=r-e,d=a-n,m=u-e,y=c-n,v=m*m+y*y;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>To)if(!(Math.abs(y*h-d*m)>To)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-u,E=a-c,T=h*h+d*d,A=_*_+E*E,I=Math.sqrt(T),k=Math.sqrt(v),D=s*Math.tan((a_-Math.acos((T+v-A)/(2*I*k)))/2),F=D/k,q=D/I;Math.abs(F-1)>To&&this._append`L${e+F*m},${n+F*y}`,this._append`A${s},${s},0,0,${+(y*_>m*E)},${this._x1=e+q*h},${this._y1=n+q*d}`}}arc(e,n,r,a,s,u){if(e=+e,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(a),h=r*Math.sin(a),d=e+c,m=n+h,y=1^u,v=u?a-s:s-a;this._x1===null?this._append`M${d},${m}`:(Math.abs(this._x1-d)>To||Math.abs(this._y1-m)>To)&&this._append`L${d},${m}`,r&&(v<0&&(v=v%s_+s_),v>H8?this._append`A${r},${r},0,1,${y},${e-c},${n-h}A${r},${r},0,1,${y},${this._x1=d},${this._y1=m}`:v>To&&this._append`A${r},${r},0,${+(v>=a_)},${y},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function $1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new G8(e)}function F1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sD(t){this._context=t}sD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Zg(t){return new sD(t)}function oD(t){return t[0]}function lD(t){return t[1]}function uD(t,e){var n=vt(!0),r=null,a=Zg,s=null,u=$1(c);t=typeof t=="function"?t:t===void 0?oD:vt(t),e=typeof e=="function"?e:e===void 0?lD:vt(e);function c(h){var d,m=(h=F1(h)).length,y,v=!1,_;for(r==null&&(s=a(_=u())),d=0;d<=m;++d)!(d<m&&n(y=h[d],d,h))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+t(y,d,h),+e(y,d,h));if(_)return s=null,_+""||null}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:vt(+h),c):t},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:vt(+h),c):e},c.defined=function(h){return arguments.length?(n=typeof h=="function"?h:vt(!!h),c):n},c.curve=function(h){return arguments.length?(a=h,r!=null&&(s=a(r)),c):a},c.context=function(h){return arguments.length?(h==null?r=s=null:s=a(r=h),c):r},c}function Jd(t,e,n){var r=null,a=vt(!0),s=null,u=Zg,c=null,h=$1(d);t=typeof t=="function"?t:t===void 0?oD:vt(+t),e=typeof e=="function"?e:vt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?lD:vt(+n);function d(y){var v,_,E,T=(y=F1(y)).length,A,I=!1,k,D=new Array(T),F=new Array(T);for(s==null&&(c=u(k=h())),v=0;v<=T;++v){if(!(v<T&&a(A=y[v],v,y))===I)if(I=!I)_=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=v-1;E>=_;--E)c.point(D[E],F[E]);c.lineEnd(),c.areaEnd()}I&&(D[v]=+t(A,v,y),F[v]=+e(A,v,y),c.point(r?+r(A,v,y):D[v],n?+n(A,v,y):F[v]))}if(k)return c=null,k+""||null}function m(){return uD().defined(a).curve(u).context(s)}return d.x=function(y){return arguments.length?(t=typeof y=="function"?y:vt(+y),r=null,d):t},d.x0=function(y){return arguments.length?(t=typeof y=="function"?y:vt(+y),d):t},d.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:vt(+y),d):r},d.y=function(y){return arguments.length?(e=typeof y=="function"?y:vt(+y),n=null,d):e},d.y0=function(y){return arguments.length?(e=typeof y=="function"?y:vt(+y),d):e},d.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:vt(+y),d):n},d.lineX0=d.lineY0=function(){return m().x(t).y(e)},d.lineY1=function(){return m().x(t).y(n)},d.lineX1=function(){return m().x(r).y(e)},d.defined=function(y){return arguments.length?(a=typeof y=="function"?y:vt(!!y),d):a},d.curve=function(y){return arguments.length?(u=y,s!=null&&(c=u(s)),d):u},d.context=function(y){return arguments.length?(y==null?s=c=null:c=u(s=y),d):s},d}class cD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Y8(t){return new cD(t,!0)}function W8(t){return new cD(t,!1)}const H1={draw(t,e){const n=ai(e/Km);t.moveTo(n,0),t.arc(0,0,n,0,Qg)}},X8={draw(t,e){const n=ai(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},fD=ai(1/3),Q8=fD*2,Z8={draw(t,e){const n=ai(e/Q8),r=n*fD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},J8={draw(t,e){const n=ai(e),r=-n/2;t.rect(r,r,n,n)}},ez=.8908130915292852,hD=Hm(Km/10)/Hm(7*Km/10),tz=Hm(Qg/10)*hD,nz=-iD(Qg/10)*hD,rz={draw(t,e){const n=ai(e*ez),r=tz*n,a=nz*n;t.moveTo(0,-n),t.lineTo(r,a);for(let s=1;s<5;++s){const u=Qg*s/5,c=iD(u),h=Hm(u);t.lineTo(h*n,-c*n),t.lineTo(c*r-h*a,h*r+c*a)}t.closePath()}},r0=ai(3),iz={draw(t,e){const n=-ai(e/(r0*3));t.moveTo(0,n*2),t.lineTo(-r0*n,-n),t.lineTo(r0*n,-n),t.closePath()}},Mr=-.5,jr=ai(3)/2,o_=1/ai(12),az=(o_/2+1)*3,sz={draw(t,e){const n=ai(e/az),r=n/2,a=n*o_,s=r,u=n*o_+n,c=-s,h=u;t.moveTo(r,a),t.lineTo(s,u),t.lineTo(c,h),t.lineTo(Mr*r-jr*a,jr*r+Mr*a),t.lineTo(Mr*s-jr*u,jr*s+Mr*u),t.lineTo(Mr*c-jr*h,jr*c+Mr*h),t.lineTo(Mr*r+jr*a,Mr*a-jr*r),t.lineTo(Mr*s+jr*u,Mr*u-jr*s),t.lineTo(Mr*c+jr*h,Mr*h-jr*c),t.closePath()}};function oz(t,e){let n=null,r=$1(a);t=typeof t=="function"?t:vt(t||H1),e=typeof e=="function"?e:vt(e===void 0?64:+e);function a(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:vt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:vt(+s),a):e},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function Gm(){}function Ym(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function dD(t){this._context=t}dD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ym(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ym(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lz(t){return new dD(t)}function mD(t){this._context=t}mD.prototype={areaStart:Gm,areaEnd:Gm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ym(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uz(t){return new mD(t)}function gD(t){this._context=t}gD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ym(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cz(t){return new gD(t)}function pD(t){this._context=t}pD.prototype={areaStart:Gm,areaEnd:Gm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fz(t){return new pD(t)}function VO(t){return t<0?-1:1}function UO(t,e,n){var r=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(r||a<0&&-0),u=(n-t._y1)/(a||r<0&&-0),c=(s*a+u*r)/(r+a);return(VO(s)+VO(u))*Math.min(Math.abs(s),Math.abs(u),.5*Math.abs(c))||0}function BO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function i0(t,e,n){var r=t._x0,a=t._y0,s=t._x1,u=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,a+c*e,s-c,u-c*n,s,u)}function Wm(t){this._context=t}Wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:i0(this,this._t0,BO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,i0(this,BO(this,n=UO(this,t,e)),n);break;default:i0(this,this._t0,n=UO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function yD(t){this._context=new vD(t)}(yD.prototype=Object.create(Wm.prototype)).point=function(t,e){Wm.prototype.point.call(this,e,t)};function vD(t){this._context=t}vD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,s){this._context.bezierCurveTo(e,t,r,n,s,a)}};function hz(t){return new Wm(t)}function dz(t){return new yD(t)}function bD(t){this._context=t}bD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=zO(t),a=zO(e),s=0,u=1;u<n;++s,++u)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],t[u],e[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zO(t){var e,n=t.length-1,r,a=new Array(n),s=new Array(n),u=new Array(n);for(a[0]=0,s[0]=2,u[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,u[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,u[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/s[e-1],s[e]-=r,u[e]-=r*u[e-1];for(a[n-1]=u[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(u[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function mz(t){return new bD(t)}function Jg(t,e){this._context=t,this._t=e}Jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function gz(t){return new Jg(t,.5)}function pz(t){return new Jg(t,0)}function yz(t){return new Jg(t,1)}function Tu(t,e){if((u=t.length)>1)for(var n=1,r,a,s=t[e[0]],u,c=s.length;n<u;++n)for(a=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function l_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function vz(t,e){return t[e]}function bz(t){const e=[];return e.key=t,e}function _z(){var t=vt([]),e=l_,n=Tu,r=vz;function a(s){var u=Array.from(t.apply(this,arguments),bz),c,h=u.length,d=-1,m;for(const y of s)for(c=0,++d;c<h;++c)(u[c][d]=[0,+r(y,u[c].key,d,s)]).data=y;for(c=0,m=F1(e(u));c<h;++c)u[m[c]].index=c;return n(u,m),u}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:vt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:vt(+s),a):r},a.order=function(s){return arguments.length?(e=s==null?l_:typeof s=="function"?s:vt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(n=s??Tu,a):n},a}function wz(t,e){if((r=t.length)>0){for(var n,r,a=0,s=t[0].length,u;a<s;++a){for(u=n=0;n<r;++n)u+=t[n][a][1]||0;if(u)for(n=0;n<r;++n)t[n][a][1]/=u}Tu(t,e)}}function Ez(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,s=r.length;n<s;++n){for(var u=0,c=0;u<a;++u)c+=t[u][n][1]||0;r[n][1]+=r[n][0]=-c/2}Tu(t,e)}}function Tz(t,e){if(!(!((u=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,s,u;r<s;++r){for(var c=0,h=0,d=0;c<u;++c){for(var m=t[e[c]],y=m[r][1]||0,v=m[r-1][1]||0,_=(y-v)/2,E=0;E<c;++E){var T=t[e[E]],A=T[r][1]||0,I=T[r-1][1]||0;_+=A-I}h+=y,d+=_*y}a[r-1][1]+=a[r-1][0]=n,h&&(n-=d/h)}a[r-1][1]+=a[r-1][0]=n,Tu(t,e)}}var Az=["type","size","sizeType"];function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(null,arguments)}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){Sz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sz(t,e,n){return(e=xz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xz(t){var e=Oz(t,"string");return typeof e=="symbol"?e:e+""}function Oz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cz(t,e){if(t==null)return{};var n,r,a=Iz(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Iz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _D={symbolCircle:H1,symbolCross:X8,symbolDiamond:Z8,symbolSquare:J8,symbolStar:rz,symbolTriangle:iz,symbolWye:sz},Rz=Math.PI/180,Pz=t=>{var e="symbol".concat(ch(t));return _D[e]||H1},Nz=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Rz;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Dz=(t,e)=>{_D["symbol".concat(ch(t))]=e},wD=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=Cz(t,Az),s=$O($O({},a),{},{type:e,size:n,sizeType:r}),u=()=>{var y=Pz(e),v=oz().type(y).size(Nz(n,r,e));return v()},{className:c,cx:h,cy:d}=s,m=mt(s,!0);return h===+h&&d===+d&&n===+n?O.createElement("path",u_({},m,{className:dt("recharts-symbols",c),transform:"translate(".concat(h,", ").concat(d,")"),d:u()})):null};wD.registerSymbol=Dz;var a0={},s0={},FO;function kz(){return FO||(FO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let s=0;s<n.length;s++){const u=n[s],c=r(u);a.has(c)||a.set(c,u)}return Array.from(a.values())}t.uniqBy=e}(s0)),s0}var o0={},HO;function ED(){return HO||(HO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e}(o0)),o0}var l0={},u0={},c0={},KO;function Mz(){return KO||(KO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e}(c0)),c0}var GO;function K1(){return GO||(GO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mz();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n}(u0)),u0}var f0={},YO;function jz(){return YO||(YO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e}(f0)),f0}var WO;function Lz(){return WO||(WO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K1(),n=jz();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r}(l0)),l0}var h0={},d0={},XO;function Vz(){return XO||(XO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z1();function n(r){return function(a){return e.get(a,r)}}t.property=n}(d0)),d0}var m0={},g0={},p0={},y0={},QO;function TD(){return QO||(QO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e}(y0)),y0}var v0={},ZO;function AD(){return ZO||(ZO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e}(v0)),v0}var b0={},JO;function G1(){return JO||(JO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e}(b0)),b0}var eC;function Uz(){return eC||(eC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y1(),n=TD(),r=AD(),a=G1();function s(y,v,_){return typeof _!="function"?e.isMatch(y,v):u(y,v,function E(T,A,I,k,D,F){const q=_(T,A,I,k,D,F);return q!==void 0?!!q:u(T,A,E,F)},new Map)}function u(y,v,_,E){if(v===y)return!0;switch(typeof v){case"object":return c(y,v,_,E);case"function":return Object.keys(v).length>0?u(y,{...v},_,E):a.eq(y,v);default:return n.isObject(y)?typeof v=="string"?v==="":!0:a.eq(y,v)}}function c(y,v,_,E){if(v==null)return!0;if(Array.isArray(v))return d(y,v,_,E);if(v instanceof Map)return h(y,v,_,E);if(v instanceof Set)return m(y,v,_,E);const T=Object.keys(v);if(y==null)return T.length===0;if(T.length===0)return!0;if(E&&E.has(v))return E.get(v)===y;E&&E.set(v,y);try{for(let A=0;A<T.length;A++){const I=T[A];if(!r.isPrimitive(y)&&!(I in y)||v[I]===void 0&&y[I]!==void 0||v[I]===null&&y[I]!==null||!_(y[I],v[I],I,y,v,E))return!1}return!0}finally{E&&E.delete(v)}}function h(y,v,_,E){if(v.size===0)return!0;if(!(y instanceof Map))return!1;for(const[T,A]of v.entries()){const I=y.get(T);if(_(I,A,T,y,v,E)===!1)return!1}return!0}function d(y,v,_,E){if(v.length===0)return!0;if(!Array.isArray(y))return!1;const T=new Set;for(let A=0;A<v.length;A++){const I=v[A];let k=!1;for(let D=0;D<y.length;D++){if(T.has(D))continue;const F=y[D];let q=!1;if(_(F,I,A,y,v,E)&&(q=!0),q){T.add(D),k=!0;break}}if(!k)return!1}return!0}function m(y,v,_,E){return v.size===0?!0:y instanceof Set?d([...y],[...v],_,E):!1}t.isMatchWith=s,t.isSetMatch=m}(p0)),p0}var tC;function Y1(){return tC||(tC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uz();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n}(g0)),g0}var _0={},w0={},E0={},nC;function SD(){return nC||(nC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e}(E0)),E0}var T0={},rC;function W1(){return rC||(rC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e}(T0)),T0}var A0={},iC;function X1(){return iC||(iC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",u="[object Symbol]",c="[object Date]",h="[object Map]",d="[object Set]",m="[object Array]",y="[object Function]",v="[object ArrayBuffer]",_="[object Object]",E="[object Error]",T="[object DataView]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",k="[object Uint16Array]",D="[object Uint32Array]",F="[object BigUint64Array]",q="[object Int8Array]",H="[object Int16Array]",N="[object Int32Array]",R="[object BigInt64Array]",j="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=v,t.arrayTag=m,t.bigInt64ArrayTag=R,t.bigUint64ArrayTag=F,t.booleanTag=a,t.dataViewTag=T,t.dateTag=c,t.errorTag=E,t.float32ArrayTag=j,t.float64ArrayTag=B,t.functionTag=y,t.int16ArrayTag=H,t.int32ArrayTag=N,t.int8ArrayTag=q,t.mapTag=h,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=u,t.uint16ArrayTag=k,t.uint32ArrayTag=D,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=I}(A0)),A0}var S0={},aC;function Bz(){return aC||(aC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e}(S0)),S0}var sC;function xD(){return sC||(sC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SD(),n=W1(),r=X1(),a=AD(),s=Bz();function u(m,y){return c(m,void 0,m,new Map,y)}function c(m,y,v,_=new Map,E=void 0){const T=E?.(m,y,v,_);if(T!=null)return T;if(a.isPrimitive(m))return m;if(_.has(m))return _.get(m);if(Array.isArray(m)){const A=new Array(m.length);_.set(m,A);for(let I=0;I<m.length;I++)A[I]=c(m[I],I,v,_,E);return Object.hasOwn(m,"index")&&(A.index=m.index),Object.hasOwn(m,"input")&&(A.input=m.input),A}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const A=new RegExp(m.source,m.flags);return A.lastIndex=m.lastIndex,A}if(m instanceof Map){const A=new Map;_.set(m,A);for(const[I,k]of m)A.set(I,c(k,I,v,_,E));return A}if(m instanceof Set){const A=new Set;_.set(m,A);for(const I of m)A.add(c(I,void 0,v,_,E));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const A=new(Object.getPrototypeOf(m)).constructor(m.length);_.set(m,A);for(let I=0;I<m.length;I++)A[I]=c(m[I],I,v,_,E);return A}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const A=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return _.set(m,A),h(A,m,v,_,E),A}if(typeof File<"u"&&m instanceof File){const A=new File([m],m.name,{type:m.type});return _.set(m,A),h(A,m,v,_,E),A}if(m instanceof Blob){const A=new Blob([m],{type:m.type});return _.set(m,A),h(A,m,v,_,E),A}if(m instanceof Error){const A=new m.constructor;return _.set(m,A),A.message=m.message,A.name=m.name,A.stack=m.stack,A.cause=m.cause,h(A,m,v,_,E),A}if(typeof m=="object"&&d(m)){const A=Object.create(Object.getPrototypeOf(m));return _.set(m,A),h(A,m,v,_,E),A}return m}function h(m,y,v=m,_,E){const T=[...Object.keys(y),...e.getSymbols(y)];for(let A=0;A<T.length;A++){const I=T[A],k=Object.getOwnPropertyDescriptor(m,I);(k==null||k.writable)&&(m[I]=c(y[I],I,v,_,E))}}function d(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=u,t.cloneDeepWithImpl=c,t.copyProperties=h}(w0)),w0}var oC;function zz(){return oC||(oC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xD();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n}(_0)),_0}var lC;function qz(){return lC||(lC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y1(),n=zz();function r(a){return a=n.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=r}(m0)),m0}var x0={},O0={},C0={},uC;function $z(){return uC||(uC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xD(),n=X1();function r(a,s){return e.cloneDeepWith(a,(u,c,h,d)=>{const m=s?.(u,c,h,d);if(m!=null)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new a.constructor(a?.valueOf());return e.copyProperties(y,a),y}case n.argumentsTag:{const y={};return e.copyProperties(y,a),y.length=a.length,y[Symbol.iterator]=a[Symbol.iterator],y}default:return}})}t.cloneDeepWith=r}(C0)),C0}var cC;function Fz(){return cC||(cC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$z();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n}(O0)),O0}var I0={},R0={},fC;function OD(){return fC||(fC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n}(R0)),R0}var P0={},hC;function Hz(){return hC||(hC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W1();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n}(P0)),P0}var dC;function Kz(){return dC||(dC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JN(),n=OD(),r=Hz(),a=B1();function s(u,c){let h;if(Array.isArray(c)?h=c:typeof c=="string"&&e.isDeepKey(c)&&u?.[c]==null?h=a.toPath(c):h=[c],h.length===0)return!1;let d=u;for(let m=0;m<h.length;m++){const y=h[m];if((d==null||!Object.hasOwn(d,y))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(y)&&y<d.length))return!1;d=d[y]}return!0}t.has=s}(I0)),I0}var mC;function Gz(){return mC||(mC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y1(),n=eD(),r=Fz(),a=z1(),s=Kz();function u(c,h){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return h=r.cloneDeep(h),function(d){const m=a.get(d,c);return m===void 0?s.has(d,c):h===void 0?m===void 0:e.isMatch(m,h)}}t.matchesProperty=u}(x0)),x0}var gC;function Yz(){return gC||(gC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ED(),n=Vz(),r=qz(),a=Gz();function s(u){if(u==null)return e.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?a.matchesProperty(u[0],u[1]):r.matches(u);case"string":case"symbol":case"number":return n.property(u)}}t.iteratee=s}(h0)),h0}var pC;function Wz(){return pC||(pC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kz(),n=ED(),r=Lz(),a=Yz();function s(u,c=n.identity){return r.isArrayLikeObject(u)?e.uniqBy(Array.from(u),a.iteratee(c)):[]}t.uniqBy=s}(a0)),a0}var N0,yC;function Xz(){return yC||(yC=1,N0=Wz().uniqBy),N0}var Qz=Xz();const vC=Sa(Qz);function Zz(t,e,n){return e===!0?vC(t,n):typeof e=="function"?vC(t,e):t}var D0={exports:{}},k0={},M0={exports:{}},j0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function Jz(){if(bC)return j0;bC=1;var t=Pu();function e(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,s=t.useLayoutEffect,u=t.useDebugValue;function c(y,v){var _=v(),E=r({inst:{value:_,getSnapshot:v}}),T=E[0].inst,A=E[1];return s(function(){T.value=_,T.getSnapshot=v,h(T)&&A({inst:T})},[y,_,v]),a(function(){return h(T)&&A({inst:T}),y(function(){h(T)&&A({inst:T})})},[y]),u(_),_}function h(y){var v=y.getSnapshot;y=y.value;try{var _=v();return!n(y,_)}catch{return!0}}function d(y,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return j0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,j0}var _C;function e7(){return _C||(_C=1,M0.exports=Jz()),M0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wC;function t7(){if(wC)return k0;wC=1;var t=Pu(),e=e7();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,u=t.useEffect,c=t.useMemo,h=t.useDebugValue;return k0.useSyncExternalStoreWithSelector=function(d,m,y,v,_){var E=s(null);if(E.current===null){var T={hasValue:!1,value:null};E.current=T}else T=E.current;E=c(function(){function I(H){if(!k){if(k=!0,D=H,H=v(H),_!==void 0&&T.hasValue){var N=T.value;if(_(N,H))return F=N}return F=H}if(N=F,r(D,H))return N;var R=v(H);return _!==void 0&&_(N,R)?(D=H,N):(D=H,F=R)}var k=!1,D,F,q=y===void 0?null:y;return[function(){return I(m())},q===null?void 0:function(){return I(q())}]},[m,y,v,_]);var A=a(d,E[0],E[1]);return u(function(){T.hasValue=!0,T.value=A},[A]),h(A),A},k0}var EC;function n7(){return EC||(EC=1,D0.exports=t7()),D0.exports}var r7=n7(),Q1=O.createContext(null),i7=t=>t,Dt=()=>{var t=O.useContext(Q1);return t?t.store.dispatch:i7},Tm=()=>{},a7=()=>Tm,s7=(t,e)=>t===e;function Te(t){var e=O.useContext(Q1);return r7.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:a7,e?e.store.getState:Tm,e?e.store.getState:Tm,e?t:Tm,s7)}function o7(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function l7(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function u7(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var TC=t=>Array.isArray(t)?t:[t];function c7(t){const e=Array.isArray(t[0])?t[0]:t;return u7(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function f7(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var h7=class{constructor(t){this.value=t}deref(){return this.value}},d7=typeof WeakRef<"u"?WeakRef:h7,m7=0,AC=1;function em(){return{s:m7,v:void 0,o:null,p:null}}function CD(t,e={}){let n=em();const{resultEqualityCheck:r}=e;let a,s=0;function u(){let c=n;const{length:h}=arguments;for(let y=0,v=h;y<v;y++){const _=arguments[y];if(typeof _=="function"||typeof _=="object"&&_!==null){let E=c.o;E===null&&(c.o=E=new WeakMap);const T=E.get(_);T===void 0?(c=em(),E.set(_,c)):c=T}else{let E=c.p;E===null&&(c.p=E=new Map);const T=E.get(_);T===void 0?(c=em(),E.set(_,c)):c=T}}const d=c;let m;if(c.s===AC)m=c.v;else if(m=t.apply(null,arguments),s++,r){const y=a?.deref?.()??a;y!=null&&r(y,m)&&(m=y,s!==0&&s--),a=typeof m=="object"&&m!==null||typeof m=="function"?new d7(m):m}return d.s=AC,d.v=m,m}return u.clearCache=()=>{n=em(),u.resetResultsCount()},u.resultsCount=()=>s,u.resetResultsCount=()=>{s=0},u}function g7(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let s=0,u=0,c,h={},d=a.pop();typeof d=="object"&&(h=d,d=a.pop()),o7(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const m={...n,...h},{memoize:y,memoizeOptions:v=[],argsMemoize:_=CD,argsMemoizeOptions:E=[]}=m,T=TC(v),A=TC(E),I=c7(a),k=y(function(){return s++,d.apply(null,arguments)},...T),D=_(function(){u++;const q=f7(I,arguments);return c=k.apply(null,q),c},...A);return Object.assign(D,{resultFunc:d,memoizedResultFunc:k,dependencies:I,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:y,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var te=g7(CD),p7=Object.assign((t,e=te)=>{l7(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((u,c,h)=>(u[n[h]]=c,u),{}))},{withTypes:()=>p7}),L0={},V0={},U0={},SC;function y7(){return SC||(SC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const u=e(r),c=e(a);if(u===c&&u===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?c-u:u-c}return 0};t.compareValues=n}(U0)),U0}var B0={},z0={},xC;function ID(){return xC||(xC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e}(z0)),z0}var OC;function v7(){return OC||(OC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ID(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,u){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||u!=null&&Object.hasOwn(u,s)}t.isKey=a}(B0)),B0}var CC;function b7(){return CC||(CC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y7(),n=v7(),r=B1();function a(s,u,c,h){if(s==null)return[];c=h?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const d=(_,E)=>{let T=_;for(let A=0;A<E.length&&T!=null;++A)T=T[E[A]];return T},m=(_,E)=>E==null||_==null?E:typeof _=="object"&&"key"in _?Object.hasOwn(E,_.key)?E[_.key]:d(E,_.path):typeof _=="function"?_(E):Array.isArray(_)?d(E,_):typeof E=="object"?E[_]:E,y=u.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:y.map(E=>m(E,_))})).slice().sort((_,E)=>{for(let T=0;T<y.length;T++){const A=e.compareValues(_.criteria[T],E.criteria[T],c[T]);if(A!==0)return A}return 0}).map(_=>_.original)}t.orderBy=a}(V0)),V0}var q0={},IC;function _7(){return IC||(IC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],s=Math.floor(r),u=(c,h)=>{for(let d=0;d<c.length;d++){const m=c[d];Array.isArray(m)&&h<s?u(m,h+1):a.push(m)}};return u(n,0),a}t.flatten=e}(q0)),q0}var $0={},RC;function RD(){return RC||(RC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OD(),n=K1(),r=TD(),a=G1();function s(u,c,h){return r.isObject(h)&&(typeof c=="number"&&n.isArrayLike(h)&&e.isIndex(c)&&c<h.length||typeof c=="string"&&c in h)?a.eq(h[c],u):!1}t.isIterateeCall=s}($0)),$0}var PC;function w7(){return PC||(PC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b7(),n=_7(),r=RD();function a(s,...u){const c=u.length;return c>1&&r.isIterateeCall(s,u[0],u[1])?u=[]:c>2&&r.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),e.orderBy(s,n.flatten(u),["asc"])}t.sortBy=a}(L0)),L0}var F0,NC;function E7(){return NC||(NC=1,F0=w7().sortBy),F0}var T7=E7();const ep=Sa(T7);var PD=t=>t.legend.settings,A7=t=>t.legend.size,S7=t=>t.legend.payload;te([S7,PD],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?ep(r,n):r});var tm=1;function x7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=O.useState({height:0,left:0,top:0,width:0}),r=O.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),u={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(u.height-e.height)>tm||Math.abs(u.left-e.left)>tm||Math.abs(u.top-e.top)>tm||Math.abs(u.width-e.width)>tm)&&n({height:u.height,left:u.left,top:u.top,width:u.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function On(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var O7=typeof Symbol=="function"&&Symbol.observable||"@@observable",DC=O7,H0=()=>Math.random().toString(36).substring(7).split("").join("."),C7={INIT:`@@redux/INIT${H0()}`,REPLACE:`@@redux/REPLACE${H0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${H0()}`},Xm=C7;function Z1(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function ND(t,e,n){if(typeof t!="function")throw new Error(On(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(On(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(On(1));return n(ND)(t,e)}let r=t,a=e,s=new Map,u=s,c=0,h=!1;function d(){u===s&&(u=new Map,s.forEach((A,I)=>{u.set(I,A)}))}function m(){if(h)throw new Error(On(3));return a}function y(A){if(typeof A!="function")throw new Error(On(4));if(h)throw new Error(On(5));let I=!0;d();const k=c++;return u.set(k,A),function(){if(I){if(h)throw new Error(On(6));I=!1,d(),u.delete(k),s=null}}}function v(A){if(!Z1(A))throw new Error(On(7));if(typeof A.type>"u")throw new Error(On(8));if(typeof A.type!="string")throw new Error(On(17));if(h)throw new Error(On(9));try{h=!0,a=r(a,A)}finally{h=!1}return(s=u).forEach(k=>{k()}),A}function _(A){if(typeof A!="function")throw new Error(On(10));r=A,v({type:Xm.REPLACE})}function E(){const A=y;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(On(11));function k(){const F=I;F.next&&F.next(m())}return k(),{unsubscribe:A(k)}},[DC](){return this}}}return v({type:Xm.INIT}),{dispatch:v,subscribe:y,getState:m,replaceReducer:_,[DC]:E}}function I7(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Xm.INIT})>"u")throw new Error(On(12));if(typeof n(void 0,{type:Xm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(On(13))})}function DD(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const u=e[s];typeof t[u]=="function"&&(n[u]=t[u])}const r=Object.keys(n);let a;try{I7(n)}catch(s){a=s}return function(u={},c){if(a)throw a;let h=!1;const d={};for(let m=0;m<r.length;m++){const y=r[m],v=n[y],_=u[y],E=v(_,c);if(typeof E>"u")throw c&&c.type,new Error(On(14));d[y]=E,h=h||E!==_}return h=h||r.length!==Object.keys(u).length,h?d:u}}function Qm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function R7(...t){return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(On(15))};const u={getState:a.getState,dispatch:(h,...d)=>s(h,...d)},c=t.map(h=>h(u));return s=Qm(...c)(a.dispatch),{...a,dispatch:s}}}function kD(t){return Z1(t)&&"type"in t&&typeof t.type=="string"}var MD=Symbol.for("immer-nothing"),kC=Symbol.for("immer-draftable"),br=Symbol.for("immer-state");function ei(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Au=Object.getPrototypeOf;function Ho(t){return!!t&&!!t[br]}function wa(t){return t?jD(t)||Array.isArray(t)||!!t[kC]||!!t.constructor?.[kC]||np(t)||rp(t):!1}var P7=Object.prototype.constructor.toString();function jD(t){if(!t||typeof t!="object")return!1;const e=Au(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===P7}function Zm(t,e){tp(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function tp(t){const e=t[br];return e?e.type_:Array.isArray(t)?1:np(t)?2:rp(t)?3:0}function c_(t,e){return tp(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function LD(t,e,n){const r=tp(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function N7(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function np(t){return t instanceof Map}function rp(t){return t instanceof Set}function Ao(t){return t.copy_||t.base_}function f_(t,e){if(np(t))return new Map(t);if(rp(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=jD(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[br];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const u=a[s],c=r[u];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[u]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[u]})}return Object.create(Au(t),r)}else{const r=Au(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function J1(t,e=!1){return ip(t)||Ho(t)||!wa(t)||(tp(t)>1&&(t.set=t.add=t.clear=t.delete=D7),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>J1(r,!0))),t}function D7(){ei(2)}function ip(t){return Object.isFrozen(t)}var k7={};function Ko(t){const e=k7[t];return e||ei(0,t),e}var Vf;function VD(){return Vf}function M7(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function MC(t,e){e&&(Ko("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function h_(t){d_(t),t.drafts_.forEach(j7),t.drafts_=null}function d_(t){t===Vf&&(Vf=t.parent_)}function jC(t){return Vf=M7(Vf,t)}function j7(t){const e=t[br];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function LC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[br].modified_&&(h_(e),ei(4)),wa(t)&&(t=Jm(e,t),e.parent_||eg(e,t)),e.patches_&&Ko("Patches").generateReplacementPatches_(n[br].base_,t,e.patches_,e.inversePatches_)):t=Jm(e,n,[]),h_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==MD?t:void 0}function Jm(t,e,n){if(ip(e))return e;const r=e[br];if(!r)return Zm(e,(a,s)=>VC(t,r,e,a,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return eg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let s=a,u=!1;r.type_===3&&(s=new Set(a),a.clear(),u=!0),Zm(s,(c,h)=>VC(t,r,a,c,h,n,u)),eg(t,a,!1),n&&t.patches_&&Ko("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function VC(t,e,n,r,a,s,u){if(Ho(a)){const c=s&&e&&e.type_!==3&&!c_(e.assigned_,r)?s.concat(r):void 0,h=Jm(t,a,c);if(LD(n,r,h),Ho(h))t.canAutoFreeze_=!1;else return}else u&&n.add(a);if(wa(a)&&!ip(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Jm(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&eg(t,a)}}function eg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&J1(e,n)}function L7(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:VD(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=ew;n&&(a=[r],s=Uf);const{revoke:u,proxy:c}=Proxy.revocable(a,s);return r.draft_=c,r.revoke_=u,c}var ew={get(t,e){if(e===br)return t;const n=Ao(t);if(!c_(n,e))return V7(t,n,e);const r=n[e];return t.finalized_||!wa(r)?r:r===K0(t.base_,e)?(G0(t),t.copy_[e]=g_(r,t)):r},has(t,e){return e in Ao(t)},ownKeys(t){return Reflect.ownKeys(Ao(t))},set(t,e,n){const r=UD(Ao(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=K0(Ao(t),e),s=a?.[br];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(N7(n,a)&&(n!==void 0||c_(t.base_,e)))return!0;G0(t),m_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return K0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,G0(t),m_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ao(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ei(11)},getPrototypeOf(t){return Au(t.base_)},setPrototypeOf(){ei(12)}},Uf={};Zm(ew,(t,e)=>{Uf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Uf.deleteProperty=function(t,e){return Uf.set.call(this,t,e,void 0)};Uf.set=function(t,e,n){return ew.set.call(this,t[0],e,n,t[0])};function K0(t,e){const n=t[br];return(n?Ao(n):t)[e]}function V7(t,e,n){const r=UD(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function UD(t,e){if(!(e in t))return;let n=Au(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Au(n)}}function m_(t){t.modified_||(t.modified_=!0,t.parent_&&m_(t.parent_))}function G0(t){t.copy_||(t.copy_=f_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var U7=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const u=this;return function(h=s,...d){return u.produce(h,m=>n.call(this,m,...d))}}typeof n!="function"&&ei(6),r!==void 0&&typeof r!="function"&&ei(7);let a;if(wa(e)){const s=jC(this),u=g_(e,void 0);let c=!0;try{a=n(u),c=!1}finally{c?h_(s):d_(s)}return MC(s,r),LC(a,s)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===MD&&(a=void 0),this.autoFreeze_&&J1(a,!0),r){const s=[],u=[];Ko("Patches").generateReplacementPatches_(e,a,s,u),r(s,u)}return a}else ei(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...c)=>this.produceWithPatches(u,h=>e(h,...c));let r,a;return[this.produce(e,n,(u,c)=>{r=u,a=c}),r,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){wa(t)||ei(8),Ho(t)&&(t=ga(t));const e=jC(this),n=g_(t,void 0);return n[br].isManual_=!0,d_(e),n}finishDraft(t,e){const n=t&&t[br];(!n||!n.isManual_)&&ei(9);const{scope_:r}=n;return MC(r,e),LC(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=Ko("Patches").applyPatches_;return Ho(t)?r(t,e):this.produce(t,a=>r(a,e))}};function g_(t,e){const n=np(t)?Ko("MapSet").proxyMap_(t,e):rp(t)?Ko("MapSet").proxySet_(t,e):L7(t,e);return(e?e.scope_:VD()).drafts_.push(n),n}function ga(t){return Ho(t)||ei(10,t),BD(t)}function BD(t){if(!wa(t)||ip(t))return t;const e=t[br];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=f_(t,e.scope_.immer_.useStrictShallowCopy_)}else n=f_(t,!0);return Zm(n,(r,a)=>{LD(n,r,BD(a))}),e&&(e.finalized_=!1),n}var _r=new U7,zD=_r.produce;_r.produceWithPatches.bind(_r);_r.setAutoFreeze.bind(_r);_r.setUseStrictShallowCopy.bind(_r);_r.applyPatches.bind(_r);_r.createDraft.bind(_r);_r.finishDraft.bind(_r);function qD(t){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,t):a(s)}var B7=qD(),z7=qD,q7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qm:Qm.apply(null,arguments)};function Fr(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(vr(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>kD(r)&&r.type===t,n}var $D=class wf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,wf.prototype)}static get[Symbol.species](){return wf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new wf(...e[0].concat(this)):new wf(...e.concat(this))}};function UC(t){return wa(t)?zD(t,()=>{}):t}function nm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function $7(t){return typeof t=="boolean"}var F7=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let u=new $D;return n&&($7(n)?u.push(B7):u.push(z7(n.extraArgument))),u},H7="RTK_autoBatch",BC=t=>e=>{setTimeout(e,t)},K7=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,s=!1,u=!1;const c=new Set,h=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:BC(10):t.type==="callback"?t.queueNotification:BC(t.timeout),d=()=>{u=!1,s&&(s=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const y=()=>a&&m(),v=r.subscribe(y);return c.add(m),()=>{v(),c.delete(m)}},dispatch(m){try{return a=!m?.meta?.[H7],s=!a,s&&(u||(u=!0,h(d))),r.dispatch(m)}finally{a=!0}}})},G7=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new $D(t);return r&&a.push(K7(typeof r=="object"?r:void 0)),a};function Y7(t){const e=F7(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:u=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(Z1(n))c=DD(n);else throw new Error(vr(1));let h;typeof r=="function"?h=r(e):h=e();let d=Qm;a&&(d=q7({trace:!1,...typeof a=="object"&&a}));const m=R7(...h),y=G7(m);let v=typeof u=="function"?u(y):y();const _=d(...v);return ND(c,s,_)}function FD(t){const e={},n=[];let r;const a={addCase(s,u){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(vr(28));if(c in e)throw new Error(vr(29));return e[c]=u,a},addMatcher(s,u){return n.push({matcher:s,reducer:u}),a},addDefaultCase(s){return r=s,a}};return t(a),[e,n,r]}function W7(t){return typeof t=="function"}function X7(t,e){let[n,r,a]=FD(e),s;if(W7(t))s=()=>UC(t());else{const c=UC(t);s=()=>c}function u(c=s(),h){let d=[n[h.type],...r.filter(({matcher:m})=>m(h)).map(({reducer:m})=>m)];return d.filter(m=>!!m).length===0&&(d=[a]),d.reduce((m,y)=>{if(y)if(Ho(m)){const _=y(m,h);return _===void 0?m:_}else{if(wa(m))return zD(m,v=>y(v,h));{const v=y(m,h);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},c)}return u.getInitialState=s,u}var Q7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Z7=(t=21)=>{let e="",n=t;for(;n--;)e+=Q7[Math.random()*64|0];return e},J7=Symbol.for("rtk-slice-createasyncthunk");function eq(t,e){return`${t}/${e}`}function tq({creators:t}={}){const e=t?.asyncThunk?.[J7];return function(r){const{name:a,reducerPath:s=a}=r;if(!a)throw new Error(vr(11));const u=(typeof r.reducers=="function"?r.reducers(rq()):r.reducers)||{},c=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(D,F){const q=typeof D=="string"?D:D.type;if(!q)throw new Error(vr(12));if(q in h.sliceCaseReducersByType)throw new Error(vr(13));return h.sliceCaseReducersByType[q]=F,d},addMatcher(D,F){return h.sliceMatchers.push({matcher:D,reducer:F}),d},exposeAction(D,F){return h.actionCreators[D]=F,d},exposeCaseReducer(D,F){return h.sliceCaseReducersByName[D]=F,d}};c.forEach(D=>{const F=u[D],q={reducerName:D,type:eq(a,D),createNotation:typeof r.reducers=="function"};aq(F)?oq(q,F,d,e):iq(q,F,d)});function m(){const[D={},F=[],q=void 0]=typeof r.extraReducers=="function"?FD(r.extraReducers):[r.extraReducers],H={...D,...h.sliceCaseReducersByType};return X7(r.initialState,N=>{for(let R in H)N.addCase(R,H[R]);for(let R of h.sliceMatchers)N.addMatcher(R.matcher,R.reducer);for(let R of F)N.addMatcher(R.matcher,R.reducer);q&&N.addDefaultCase(q)})}const y=D=>D,v=new Map,_=new WeakMap;let E;function T(D,F){return E||(E=m()),E(D,F)}function A(){return E||(E=m()),E.getInitialState()}function I(D,F=!1){function q(N){let R=N[D];return typeof R>"u"&&F&&(R=nm(_,q,A)),R}function H(N=y){const R=nm(v,F,()=>new WeakMap);return nm(R,N,()=>{const j={};for(const[B,V]of Object.entries(r.selectors??{}))j[B]=nq(V,N,()=>nm(_,N,A),F);return j})}return{reducerPath:D,getSelectors:H,get selectors(){return H(q)},selectSlice:q}}const k={name:a,reducer:T,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:A,...I(s),injectInto(D,{reducerPath:F,...q}={}){const H=F??s;return D.inject({reducerPath:H,reducer:T},q),{...k,...I(H,!0)}}};return k}}function nq(t,e,n,r){function a(s,...u){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...u)}return a.unwrapped=t,a}var Kr=tq();function rq(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function iq({type:t,reducerName:e,createNotation:n},r,a){let s,u;if("reducer"in r){if(n&&!sq(r))throw new Error(vr(17));s=r.reducer,u=r.prepare}else s=r;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,u?Fr(t,u):Fr(t))}function aq(t){return t._reducerDefinitionType==="asyncThunk"}function sq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function oq({type:t,reducerName:e},n,r,a){if(!a)throw new Error(vr(18));const{payloadCreator:s,fulfilled:u,pending:c,rejected:h,settled:d,options:m}=n,y=a(t,s,m);r.exposeAction(e,y),u&&r.addCase(y.fulfilled,u),c&&r.addCase(y.pending,c),h&&r.addCase(y.rejected,h),d&&r.addMatcher(y.settled,d),r.exposeCaseReducer(e,{fulfilled:u||rm,pending:c||rm,rejected:h||rm,settled:d||rm})}function rm(){}var lq="task",HD="listener",KD="completed",tw="cancelled",uq=`task-${tw}`,cq=`task-${KD}`,p_=`${HD}-${tw}`,fq=`${HD}-${KD}`,ap=class{constructor(t){this.code=t,this.message=`${lq} ${tw} (reason: ${t})`}name="TaskAbortError";message},nw=(t,e)=>{if(typeof t!="function")throw new TypeError(vr(32))},tg=()=>{},GD=(t,e=tg)=>(t.catch(e),t),YD=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Do=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ko=t=>{if(t.aborted){const{reason:e}=t;throw new ap(e)}};function WD(t,e){let n=tg;return new Promise((r,a)=>{const s=()=>a(new ap(t.reason));if(t.aborted){s();return}n=YD(t,s),e.finally(()=>n()).then(r,a)}).finally(()=>{n=tg})}var hq=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof ap?"cancelled":"rejected",error:n}}finally{e?.()}},ng=t=>e=>GD(WD(t,e).then(n=>(ko(t),n))),XD=t=>{const e=ng(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:hu}=Object,zC={},sp="listenerMiddleware",dq=(t,e)=>{const n=r=>YD(t,()=>Do(r,t.reason));return(r,a)=>{nw(r);const s=new AbortController;n(s);const u=hq(async()=>{ko(t),ko(s.signal);const c=await r({pause:ng(s.signal),delay:XD(s.signal),signal:s.signal});return ko(s.signal),c},()=>Do(s,cq));return a?.autoJoin&&e.push(u.catch(tg)),{result:ng(t)(u),cancel(){Do(s,uq)}}}},mq=(t,e)=>{const n=async(r,a)=>{ko(e);let s=()=>{};const c=[new Promise((h,d)=>{let m=t({predicate:r,effect:(y,v)=>{v.unsubscribe(),h([y,v.getState(),v.getOriginalState()])}});s=()=>{m(),d()}})];a!=null&&c.push(new Promise(h=>setTimeout(h,a,null)));try{const h=await WD(e,Promise.race(c));return ko(e),h}finally{s()}};return(r,a)=>GD(n(r,a))},QD=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:s}=t;if(e)a=Fr(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(vr(21));return nw(s),{predicate:a,type:e,effect:s}},ZD=hu(t=>{const{type:e,predicate:n,effect:r}=QD(t);return{id:Z7(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(vr(22))}}},{withTypes:()=>ZD}),qC=(t,e)=>{const{type:n,effect:r,predicate:a}=QD(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},y_=t=>{t.pending.forEach(e=>{Do(e,p_)})},gq=t=>()=>{t.forEach(y_),t.clear()},$C=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},JD=hu(Fr(`${sp}/add`),{withTypes:()=>JD}),pq=Fr(`${sp}/removeAll`),ek=hu(Fr(`${sp}/remove`),{withTypes:()=>ek}),yq=(...t)=>{console.error(`${sp}/error`,...t)},hh=(t={})=>{const e=new Map,{extra:n,onError:r=yq}=t;nw(r);const a=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),y=>{m.unsubscribe(),y?.cancelActive&&y_(m)}),s=m=>{const y=qC(e,m)??ZD(m);return a(y)};hu(s,{withTypes:()=>s});const u=m=>{const y=qC(e,m);return y&&(y.unsubscribe(),m.cancelActive&&y_(y)),!!y};hu(u,{withTypes:()=>u});const c=async(m,y,v,_)=>{const E=new AbortController,T=mq(s,E.signal),A=[];try{m.pending.add(E),await Promise.resolve(m.effect(y,hu({},v,{getOriginalState:_,condition:(I,k)=>T(I,k).then(Boolean),take:T,delay:XD(E.signal),pause:ng(E.signal),extra:n,signal:E.signal,fork:dq(E.signal,A),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((I,k,D)=>{I!==E&&(Do(I,p_),D.delete(I))})},cancel:()=>{Do(E,p_),m.pending.delete(E)},throwIfCancelled:()=>{ko(E.signal)}})))}catch(I){I instanceof ap||$C(r,I,{raisedBy:"effect"})}finally{await Promise.all(A),Do(E,fq),m.pending.delete(E)}},h=gq(e);return{middleware:m=>y=>v=>{if(!kD(v))return y(v);if(JD.match(v))return s(v.payload);if(pq.match(v)){h();return}if(ek.match(v))return u(v.payload);let _=m.getState();const E=()=>{if(_===zC)throw new Error(vr(23));return _};let T;try{if(T=y(v),e.size>0){const A=m.getState(),I=Array.from(e.values());for(const k of I){let D=!1;try{D=k.predicate(v,A,_)}catch(F){D=!1,$C(r,F,{raisedBy:"predicate"})}D&&c(k,v,m,E)}}}finally{_=zC}return T},startListening:s,stopListening:u,clearListeners:h}};function vr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var vq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},tk=Kr({name:"chartLayout",initialState:vq,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:bq,setLayout:_q,setChartSize:wq,setScale:Eq}=tk.actions,Tq=tk.reducer;function FC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function HC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(n),!0).forEach(function(r){Aq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aq(t,e,n){return(e=Sq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sq(t){var e=xq(t,"string");return typeof e=="symbol"?e:e+""}function xq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rg=Math.PI/180,Oq=t=>t*180/Math.PI,Qt=(t,e,n,r)=>({x:t+Math.cos(-rg*r)*n,y:e+Math.sin(-rg*r)*n}),nk=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Cq=(t,e)=>{var{x:n,y:r}=t,{x:a,y:s}=e;return Math.sqrt((n-a)**2+(r-s)**2)},Iq=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:s}=e,u=Cq({x:n,y:r},{x:a,y:s});if(u<=0)return{radius:u,angle:0};var c=(n-a)/u,h=Math.acos(c);return r>s&&(h=2*Math.PI-h),{radius:u,angle:Oq(h),angleInRadian:h}},Rq=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:e-s*360,endAngle:n-s*360}},Pq=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),s=Math.floor(r/360),u=Math.min(a,s);return t+u*360},Nq=(t,e)=>{var{x:n,y:r}=t,{radius:a,angle:s}=Iq({x:n,y:r},e),{innerRadius:u,outerRadius:c}=e;if(a<u||a>c||a===0)return null;var{startAngle:h,endAngle:d}=Rq(e),m=s,y;if(h<=d){for(;m>d;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=d}else{for(;m>h;)m-=360;for(;m<d;)m+=360;y=m>=d&&m<=h}return y?HC(HC({},e),{},{radius:a,angle:Pq(m,e)}):null};function KC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(n),!0).forEach(function(r){Dq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dq(t,e,n){return(e=kq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kq(t){var e=Mq(t,"string");return typeof e=="symbol"?e:e+""}function Mq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nt(t,e,n){return Zt(t)||Zt(e)?n:ki(e)?Ds(t,e,n):typeof e=="function"?e(t):n}var jq=(t,e,n,r,a)=>{var s,u=-1,c=(s=e?.length)!==null&&s!==void 0?s:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var h=0;h<c;h++){var d=h>0?n[h-1].coordinate:n[c-1].coordinate,m=n[h].coordinate,y=h>=c-1?n[0].coordinate:n[h+1].coordinate,v=void 0;if(Pn(m-d)!==Pn(y-m)){var _=[];if(Pn(y-m)===Pn(a[1]-a[0])){v=y;var E=m+a[1]-a[0];_[0]=Math.min(E,(E+d)/2),_[1]=Math.max(E,(E+d)/2)}else{v=d;var T=y+a[1]-a[0];_[0]=Math.min(m,(T+m)/2),_[1]=Math.max(m,(T+m)/2)}var A=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>A[0]&&t<=A[1]||t>=_[0]&&t<=_[1]){({index:u}=n[h]);break}}else{var I=Math.min(d,y),k=Math.max(d,y);if(t>(I+m)/2&&t<=(k+m)/2){({index:u}=n[h]);break}}}else if(e){for(var D=0;D<c;D++)if(D===0&&t<=(e[D].coordinate+e[D+1].coordinate)/2||D>0&&D<c-1&&t>(e[D].coordinate+e[D-1].coordinate)/2&&t<=(e[D].coordinate+e[D+1].coordinate)/2||D===c-1&&t>(e[D].coordinate+e[D-1].coordinate)/2){({index:u}=e[D]);break}}return u},Lq=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:s,verticalAlign:u,layout:c}=e;if((c==="vertical"||c==="horizontal"&&u==="middle")&&s!=="center"&&Ee(t[s]))return Vr(Vr({},t),{},{[s]:t[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&u!=="middle"&&Ee(t[u]))return Vr(Vr({},t),{},{[u]:t[u]+(a||0)})}return t},Jo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",GC=1e-4,Vq=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-GC,s=Math.max(r[0],r[1])+GC,u=t(e[0]),c=t(e[n-1]);(u<a||u>s||c<a||c>s)&&t.domain([e[0],e[n-1]])}},Uq=(t,e)=>{if(!e||e.length!==2||!Ee(e[0])||!Ee(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Ee(t[0])||t[0]<n)&&(a[0]=n),(!Ee(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},Bq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0,u=0;u<e;++u){var c=$r(t[u][n][1])?t[u][n][0]:t[u][n][1];c>=0?(t[u][n][0]=a,t[u][n][1]=a+c,a=t[u][n][1]):(t[u][n][0]=s,t[u][n][1]=s+c,s=t[u][n][1])}},zq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0;s<e;++s){var u=$r(t[s][n][1])?t[s][n][0]:t[s][n][1];u>=0?(t[s][n][0]=a,t[s][n][1]=a+u,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},qq={sign:Bq,expand:wz,none:Tu,silhouette:Ez,wiggle:Tz,positive:zq},$q=(t,e,n)=>{var r=qq[n],a=_z().keys(e).value((s,u)=>+Nt(s,u,0)).order(l_).offset(r);return a(t)};function rk(t){return t==null?void 0:String(t)}var YC=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:s,index:u}=t;if(e.type==="category")return n[u]?n[u].coordinate+r:null;var c=Nt(s,e.dataKey,e.scale.domain()[u]);return Zt(c)?null:e.scale(c)-a/2+r},Fq=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},Hq=t=>{var e=t.flat(2).filter(Ee);return[Math.min(...e),Math.max(...e)]},Kq=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Gq=(t,e,n)=>{if(t!=null)return Kq(Object.keys(t).reduce((r,a)=>{var s=t[a],{stackedData:u}=s,c=u.reduce((h,d)=>{var m=Hq(d.slice(e,n+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},WC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rw=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=ep(e,m=>m.coordinate),s=1/0,u=1,c=a.length;u<c;u++){var h=a[u],d=a[u-1];s=Math.min((h.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function QC(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:s}=t;return Vr(Vr({},e),{},{dataKey:n,payload:r,value:a,name:s})}function op(t,e){if(t)return String(t);if(typeof e=="string")return e}function Yq(t,e,n,r,a){if(n==="horizontal"||n==="vertical"){var s=t>=a.left&&t<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return s?{x:t,y:e}:null}return r?Nq({x:t,y:e},r):null}var Wq=(t,e,n,r)=>{var a=e.find(d=>d&&d.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,{radius:u}=r;return Vr(Vr(Vr({},r),Qt(r.cx,r.cy,u,s)),{},{angle:s,radius:u})}var c=a.coordinate,{angle:h}=r;return Vr(Vr(Vr({},r),Qt(r.cx,r.cy,c,h)),{},{angle:h,radius:c})}return{x:0,y:0}},Xq=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ia=t=>t.layout.width,Ra=t=>t.layout.height,Qq=t=>t.layout.scale,ik=t=>t.layout.margin,iw=te(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),aw=te(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),ak="data-recharts-item-index",sk="data-recharts-item-data-key",lp=60;function ZC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(n),!0).forEach(function(r){Zq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zq(t,e,n){return(e=Jq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jq(t){var e=e$(t,"string");return typeof e=="symbol"?e:e+""}function e$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t$=t=>t.brush.height,cn=te([Ia,Ra,ik,t$,iw,aw,PD,A7],(t,e,n,r,a,s,u,c)=>{var h=s.reduce((E,T)=>{var{orientation:A}=T;if(!T.mirror&&!T.hide){var I=typeof T.width=="number"?T.width:lp;return us(us({},E),{},{[A]:E[A]+I})}return E},{left:n.left||0,right:n.right||0}),d=a.reduce((E,T)=>{var{orientation:A}=T;return!T.mirror&&!T.hide?us(us({},E),{},{[A]:Ds(E,"".concat(A))+T.height}):E},{top:n.top||0,bottom:n.bottom||0}),m=us(us({},d),h),y=m.bottom;m.bottom+=r,m=Lq(m,u,c);var v=t-m.left-m.right,_=e-m.top-m.bottom;return us(us({brushBottom:y},m),{},{width:Math.max(v,0),height:Math.max(_,0)})}),n$=te(cn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),ok=te(Ia,Ra,(t,e)=>({x:0,y:0,width:t,height:e})),r$=O.createContext(null),Er=()=>O.useContext(r$)!=null,up=t=>t.brush,cp=te([up,cn,ik],(t,e,n)=>({height:t.height,x:Ee(t.x)?t.x:e.left,y:Ee(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ee(t.width)?t.width:e.width})),sw=()=>{var t,e=Er(),n=Te(n$),r=Te(cp),a=(t=Te(up))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},i$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},a$=()=>{var t;return(t=Te(cn))!==null&&t!==void 0?t:i$},s$=()=>Te(Ia),o$=()=>Te(Ra),st=t=>t.layout.layoutType,ow=()=>Te(st),l$={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},lk=Kr({name:"legend",initialState:l$,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=ga(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Qte,setLegendSettings:Zte,addLegendPayload:uk,removeLegendPayload:ck}=lk.actions,u$=lk.reducer;function v_(){return v_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v_.apply(null,arguments)}function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Y0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){c$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c$(t,e,n){return(e=f$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f$(t){var e=h$(t,"string");return typeof e=="symbol"?e:e+""}function h$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d$(t){return Array.isArray(t)&&ki(t[0])&&ki(t[1])?t.join(" ~ "):t}var m$=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:u,itemSorter:c,wrapperClassName:h,labelClassName:d,label:m,labelFormatter:y,accessibilityLayer:v=!1}=t,_=()=>{if(s&&s.length){var q={padding:0,margin:0},H=(c?ep(s,c):s).map((N,R)=>{if(N.type==="none")return null;var j=N.formatter||u||d$,{value:B,name:V}=N,U=B,L=V;if(j){var _e=j(B,V,N,R,s);if(Array.isArray(_e))[U,L]=_e;else if(_e!=null)U=_e;else return null}var Se=Y0({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:Se},ki(L)?O.createElement("span",{className:"recharts-tooltip-item-name"},L):null,ki(L)?O.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,O.createElement("span",{className:"recharts-tooltip-item-value"},U),O.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:q},H)}return null},E=Y0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=Y0({margin:0},a),A=!Zt(m),I=A?m:"",k=dt("recharts-default-tooltip",h),D=dt("recharts-tooltip-label",d);A&&y&&s!==void 0&&s!==null&&(I=y(m,s));var F=v?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",v_({className:k,style:E},F),O.createElement("p",{className:D,style:T},O.isValidElement(I)?I:"".concat(I)),_())},of="recharts-tooltip-wrapper",g$={visibility:"hidden"};function p$(t){var{coordinate:e,translateX:n,translateY:r}=t;return dt(of,{["".concat(of,"-right")]:Ee(n)&&e&&Ee(e.x)&&n>=e.x,["".concat(of,"-left")]:Ee(n)&&e&&Ee(e.x)&&n<e.x,["".concat(of,"-bottom")]:Ee(r)&&e&&Ee(e.y)&&r>=e.y,["".concat(of,"-top")]:Ee(r)&&e&&Ee(e.y)&&r<e.y})}function eI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:u,tooltipDimension:c,viewBox:h,viewBoxDimension:d}=t;if(s&&Ee(s[r]))return s[r];var m=n[r]-c-(a>0?a:0),y=n[r]+a;if(e[r])return u[r]?m:y;var v=h[r];if(v==null)return 0;if(u[r]){var _=m,E=v;return _<E?Math.max(y,v):Math.max(m,v)}if(d==null)return 0;var T=y+c,A=v+d;return T>A?Math.max(m,v):Math.max(y,v)}function y$(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function v$(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:u,useTranslate3d:c,viewBox:h}=t,d,m,y;return u.height>0&&u.width>0&&n?(m=eI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:u.width,viewBox:h,viewBoxDimension:h.width}),y=eI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:u.height,viewBox:h,viewBoxDimension:h.height}),d=y$({translateX:m,translateY:y,useTranslate3d:c})):d=g$,{cssProperties:d,cssClasses:p$({translateX:m,translateY:y,coordinate:n})}}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){b_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b_(t,e,n){return(e=b$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b$(t){var e=_$(t,"string");return typeof e=="symbol"?e:e+""}function _$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class w$ extends O.PureComponent{constructor(){super(...arguments),b_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),b_(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:u,hasPayload:c,isAnimationActive:h,offset:d,position:m,reverseDirection:y,useTranslate3d:v,viewBox:_,wrapperStyle:E,lastBoundingBox:T,innerRef:A,hasPortalFromProps:I}=this.props,{cssClasses:k,cssProperties:D}=v$({allowEscapeViewBox:n,coordinate:u,offsetTopLeft:d,position:m,reverseDirection:y,tooltipBox:{height:T.height,width:T.width},useTranslate3d:v,viewBox:_}),F=I?{}:im(im({transition:h&&e?"transform ".concat(r,"ms ").concat(a):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),q=im(im({},F),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},E);return O.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:q,ref:A},s)}}var E$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),zu={isSsr:E$()},fk=()=>Te(t=>t.rootProps.accessibilityLayer);function wr(t){return Number.isFinite(t)}function Su(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function __(){return __=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},__.apply(null,arguments)}function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){T$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T$(t,e,n){return(e=A$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A$(t){var e=S$(t,"string");return typeof e=="symbol"?e:e+""}function S$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iI={curveBasisClosed:uz,curveBasisOpen:cz,curveBasis:lz,curveBumpX:Y8,curveBumpY:W8,curveLinearClosed:fz,curveLinear:Zg,curveMonotoneX:hz,curveMonotoneY:dz,curveNatural:mz,curveStep:gz,curveStepAfter:yz,curveStepBefore:pz},am=t=>wr(t.x)&&wr(t.y),lf=t=>t.x,uf=t=>t.y,x$=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(ch(t));return(n==="curveMonotone"||n==="curveBump")&&e?iI["".concat(n).concat(e==="vertical"?"Y":"X")]:iI[n]||Zg},O$=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=t,u=x$(e,a),c=s?n.filter(am):n,h;if(Array.isArray(r)){var d=s?r.filter(y=>am(y)):r,m=c.map((y,v)=>rI(rI({},y),{},{base:d[v]}));return a==="vertical"?h=Jd().y(uf).x1(lf).x0(y=>y.base.x):h=Jd().x(lf).y1(uf).y0(y=>y.base.y),h.defined(am).curve(u),h(m)}return a==="vertical"&&Ee(r)?h=Jd().y(uf).x1(lf).x0(r):Ee(r)?h=Jd().x(lf).y1(uf).y0(r):h=uD().x(lf).y(uf),h.defined(am).curve(u),h(c)},hk=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?O$(t):r;return O.createElement("path",__({},mt(t,!1),k8(t),{className:dt("recharts-curve",e),d:s===null?void 0:s,ref:a}))},C$=["x","y","top","left","width","height","className"];function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(null,arguments)}function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function I$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){R$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R$(t,e,n){return(e=P$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P$(t){var e=N$(t,"string");return typeof e=="symbol"?e:e+""}function N$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D$(t,e){if(t==null)return{};var n,r,a=k$(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function k$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var M$=(t,e,n,r,a,s)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),j$=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:s=0,height:u=0,className:c}=t,h=D$(t,C$),d=I$({x:e,y:n,top:r,left:a,width:s,height:u},h);return!Ee(e)||!Ee(n)||!Ee(s)||!Ee(u)||!Ee(r)||!Ee(a)?null:O.createElement("path",w_({},mt(d,!0),{className:dt("recharts-cross",c),d:M$(e,n,s,u,r,a)}))};function L$(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function V$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){U$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U$(t,e,n){return(e=B$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B$(t){var e=z$(t,"string");return typeof e=="symbol"?e:e+""}function z$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ji(t,e){var n=V$({},t),r=e,a=Object.keys(e),s=a.reduce((u,c)=>(u[c]===void 0&&r[c]!==void 0&&(u[c]=r[c]),u),n);return s}var W0={},X0={},Q0={},oI;function q$(){return oI||(oI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e}(Q0)),Q0}var lI;function $$(){return lI||(lI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q$(),n=SD(),r=W1(),a=X1(),s=G1();function u(d,m,y){return c(d,m,void 0,void 0,void 0,void 0,y)}function c(d,m,y,v,_,E,T){const A=T(d,m,y,v,_,E);if(A!==void 0)return A;if(typeof d==typeof m)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===m;case"number":return d===m||Object.is(d,m);case"function":return d===m;case"object":return h(d,m,E,T)}return h(d,m,E,T)}function h(d,m,y,v){if(Object.is(d,m))return!0;let _=r.getTag(d),E=r.getTag(m);if(_===a.argumentsTag&&(_=a.objectTag),E===a.argumentsTag&&(E=a.objectTag),_!==E)return!1;switch(_){case a.stringTag:return d.toString()===m.toString();case a.numberTag:{const I=d.valueOf(),k=m.valueOf();return s.eq(I,k)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(d.valueOf(),m.valueOf());case a.regexpTag:return d.source===m.source&&d.flags===m.flags;case a.functionTag:return d===m}y=y??new Map;const T=y.get(d),A=y.get(m);if(T!=null&&A!=null)return T===m;y.set(d,m),y.set(m,d);try{switch(_){case a.mapTag:{if(d.size!==m.size)return!1;for(const[I,k]of d.entries())if(!m.has(I)||!c(k,m.get(I),I,d,m,y,v))return!1;return!0}case a.setTag:{if(d.size!==m.size)return!1;const I=Array.from(d.values()),k=Array.from(m.values());for(let D=0;D<I.length;D++){const F=I[D],q=k.findIndex(H=>c(F,H,void 0,d,m,y,v));if(q===-1)return!1;k.splice(q,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(m)||d.length!==m.length)return!1;for(let I=0;I<d.length;I++)if(!c(d[I],m[I],I,d,m,y,v))return!1;return!0}case a.arrayBufferTag:return d.byteLength!==m.byteLength?!1:h(new Uint8Array(d),new Uint8Array(m),y,v);case a.dataViewTag:return d.byteLength!==m.byteLength||d.byteOffset!==m.byteOffset?!1:h(new Uint8Array(d),new Uint8Array(m),y,v);case a.errorTag:return d.name===m.name&&d.message===m.message;case a.objectTag:{if(!(h(d.constructor,m.constructor,y,v)||e.isPlainObject(d)&&e.isPlainObject(m)))return!1;const k=[...Object.keys(d),...n.getSymbols(d)],D=[...Object.keys(m),...n.getSymbols(m)];if(k.length!==D.length)return!1;for(let F=0;F<k.length;F++){const q=k[F],H=d[q];if(!Object.hasOwn(m,q))return!1;const N=m[q];if(!c(H,N,q,d,m,y,v))return!1}return!0}default:return!1}}finally{y.delete(d),y.delete(m)}}t.isEqualWith=u}(X0)),X0}var Z0={},uI;function F$(){return uI||(uI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e}(Z0)),Z0}var cI;function H$(){return cI||(cI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$$(),n=F$();function r(a,s){return e.isEqualWith(a,s,n.noop)}t.isEqual=r}(W0)),W0}var J0,fI;function K$(){return fI||(fI=1,J0=H$().isEqual),J0}var G$=K$();const Y$=Sa(G$);function W$(t){var e={},n=()=>null,r=!1,a=null,s=u=>{if(!r){if(Array.isArray(u)){if(!u.length)return;var c=u,[h,...d]=c;if(typeof h=="number"){a=t.setTimeout(s.bind(null,d),h);return}s(h),a=t.setTimeout(s.bind(null,d));return}typeof u=="object"&&(e=u,n(e)),typeof u=="function"&&u()}};return{stop:()=>{r=!0},start:u=>{r=!1,a&&(a(),a=null),s(u)},subscribe:u=>(n=u,()=>{n=()=>null}),getTimeoutController:()=>t}}var ig=1e-4,dk=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],mk=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),hI=(t,e)=>n=>{var r=dk(t,e);return mk(r,n)},X$=(t,e)=>n=>{var r=dk(t,e),a=[...r.map((s,u)=>s*u).slice(1),0];return mk(a,n)},dI=function(){for(var e,n,r,a,s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];if(u.length===1)switch(u[0]){case"linear":[e,r,n,a]=[0,0,1,1];break;case"ease":[e,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,a]=[.42,0,1,1];break;case"ease-out":[e,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,a]=[0,0,.58,1];break;default:{var h=u[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([e,r,n,a]=h[1].split(")")[0].split(",").map(E=>parseFloat(E)))}}else u.length===4&&([e,r,n,a]=u);var d=hI(e,n),m=hI(r,a),y=X$(e,n),v=E=>E>1?1:E<0?0:E,_=E=>{for(var T=E>1?1:E,A=T,I=0;I<8;++I){var k=d(A)-T,D=y(A);if(Math.abs(k-T)<ig||D<ig)return m(A);A=v(A-k/D)}return m(A)};return _.isStepper=!1,_},Q$=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,s=(u,c,h)=>{var d=-(u-c)*n,m=h*r,y=h+(d-m)*a/1e3,v=h*a/1e3+u;return Math.abs(v-c)<ig&&Math.abs(y)<ig?[c,0]:[v,y]};return s.isStepper=!0,s.dt=a,s},Z$=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dI(t);case"spring":return Q$();default:if(t.split("(")[0]==="cubic-bezier")return dI(t)}return typeof t=="function"?t:null};function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){J$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J$(t,e,n){return(e=eF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eF(t){var e=tF(t,"string");return typeof e=="symbol"?e:e+""}function tF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nF=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),rF=(t,e,n)=>t.map(r=>"".concat(nF(r)," ").concat(e,"ms ").concat(n)).join(","),iF=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Bf=(t,e)=>Object.keys(e).reduce((n,r)=>gI(gI({},n),{},{[r]:t(r,e[r])}),{});function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){aF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aF(t,e,n){return(e=sF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sF(t){var e=oF(t,"string");return typeof e=="symbol"?e:e+""}function oF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ag=(t,e,n)=>t+(e-t)*n,E_=t=>{var{from:e,to:n}=t;return e!==n},gk=(t,e,n)=>{var r=Bf((a,s)=>{if(E_(s)){var[u,c]=t(s.from,s.to,s.velocity);return In(In({},s),{},{from:u,velocity:c})}return s},e);return n<1?Bf((a,s)=>E_(s)?In(In({},s),{},{velocity:ag(s.velocity,r[a].velocity,n),from:ag(s.from,r[a].from,n)}):s,e):gk(t,r,n-1)};function lF(t,e,n,r,a,s){var u,c=r.reduce((v,_)=>In(In({},v),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),h=()=>Bf((v,_)=>_.from,c),d=()=>!Object.values(c).filter(E_).length,m=null,y=v=>{u||(u=v);var _=v-u,E=_/n.dt;c=gk(n,c,E),a(In(In(In({},t),e),h())),u=v,d()||(m=s.setTimeout(y))};return()=>(m=s.setTimeout(y),()=>{m()})}function uF(t,e,n,r,a,s,u){var c=null,h=a.reduce((y,v)=>In(In({},y),{},{[v]:[t[v],e[v]]}),{}),d,m=y=>{d||(d=y);var v=(y-d)/r,_=Bf((T,A)=>ag(...A,n(v)),h);if(s(In(In(In({},t),e),_)),v<1)c=u.setTimeout(m);else{var E=Bf((T,A)=>ag(...A,n(1)),h);s(In(In(In({},t),e),E))}};return()=>(c=u.setTimeout(m),()=>{c()})}const cF=(t,e,n,r,a,s)=>{var u=iF(t,e);return n.isStepper===!0?lF(t,e,n,u,a,s):uF(t,e,n,r,u,a,s)};class fF{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=u=>{u-r>=n?e(u):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{cancelAnimationFrame(a)}}}var hF=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function T_(){return T_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T_.apply(null,arguments)}function dF(t,e){if(t==null)return{};var n,r,a=mF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function mF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){Co(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Co(t,e,n){return(e=gF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gF(t){var e=pF(t,"string");return typeof e=="symbol"?e:e+""}function pF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yF(){return W$(new fF)}class lw extends O.PureComponent{constructor(e,n){super(e,n),Co(this,"mounted",!1),Co(this,"manager",null),Co(this,"stopJSAnimation",null),Co(this,"unSubscribe",null);var{isActive:r,attributeName:a,from:s,to:u,children:c,duration:h,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||h<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:u});return}if(s){if(typeof c=="function"){this.state={style:s};return}this.state={style:a?{[a]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:a,shouldReAnimate:s,to:u,from:c}=this.props,{style:h}=this.state;if(r){if(!n){var d={style:a?{[a]:u}:u};this.state&&h&&(a&&h[a]!==u||!a&&h!==u)&&this.setState(d);return}if(!(Y$(e.to,u)&&e.canBegin&&e.isActive)){var m=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=m||s?c:e.to;if(this.state&&h){var v={style:a?{[a]:y}:y};(a&&h[a]!==y||!a&&h!==y)&&this.setState(v)}this.runAnimation(cs(cs({},this.props),{},{from:y,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:a,easing:s,begin:u,onAnimationEnd:c,onAnimationStart:h}=e,d=cF(n,r,Z$(s),a,this.changeStyle,this.manager.getTimeoutController()),m=()=>{this.stopJSAnimation=d()};this.manager.start([h,u,m,a,c])}runAnimation(e){var{begin:n,duration:r,attributeName:a,to:s,easing:u,onAnimationStart:c,onAnimationEnd:h,children:d}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof u=="function"||typeof d=="function"||u==="spring"){this.runJSAnimation(e);return}var m=a?{[a]:s}:s,y=rF(Object.keys(m),r,u);this.manager.start([c,n,cs(cs({},m),{},{transition:y}),r,h])}render(){var e=this.props,{children:n,begin:r,duration:a,attributeName:s,easing:u,isActive:c,from:h,to:d,canBegin:m,onAnimationEnd:y,shouldReAnimate:v,onAnimationReStart:_,animationManager:E}=e,T=dF(e,hF),A=O.Children.count(n),I=this.state.style;if(typeof n=="function")return n(I);if(!c||A===0||a<=0)return n;var k=D=>{var{style:F={},className:q}=D.props,H=O.cloneElement(D,cs(cs({},T),{},{style:cs(cs({},F),I),className:q}));return H};return A===1?k(O.Children.only(n)):O.createElement("div",null,O.Children.map(n,D=>k(D)))}}Co(lw,"displayName","Animate");Co(lw,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var vF=O.createContext(null);function Go(t){var e,n,r=O.useContext(vF);return O.createElement(lw,T_({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:yF()}))}function sg(){return sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sg.apply(null,arguments)}var vI=(t,e,n,r,a)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),u=r>=0?1:-1,c=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,v=4;y<v;y++)m[y]=a[y]>s?s:a[y];d="M".concat(t,",").concat(e+u*m[0]),m[0]>0&&(d+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(t+c*m[0],",").concat(e)),d+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(d+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(e+u*m[1])),d+="L ".concat(t+n,",").concat(e+r-u*m[2]),m[2]>0&&(d+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),d+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(d+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(e+r-u*m[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var _=Math.min(s,a);d="M ".concat(t,",").concat(e+u*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+c*_,",").concat(e,`
            L `).concat(t+n-c*_,",").concat(e,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+n,",").concat(e+u*_,`
            L `).concat(t+n,",").concat(e+r-u*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+n-c*_,",").concat(e+r,`
            L `).concat(t+c*_,",").concat(e+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t,",").concat(e+r-u*_," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},bF={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pk=t=>{var e=ji(t,bF),n=O.useRef(null),[r,a]=O.useState(-1);O.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&a(I)}catch{}},[]);var{x:s,y:u,width:c,height:h,radius:d,className:m}=e,{animationEasing:y,animationDuration:v,animationBegin:_,isAnimationActive:E,isUpdateAnimationActive:T}=e;if(s!==+s||u!==+u||c!==+c||h!==+h||c===0||h===0)return null;var A=dt("recharts-rectangle",m);return T?O.createElement(Go,{canBegin:r>0,from:{width:c,height:h,x:s,y:u},to:{width:c,height:h,x:s,y:u},duration:v,animationEasing:y,isActive:T},I=>{var{width:k,height:D,x:F,y:q}=I;return O.createElement(Go,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:v,isActive:E,easing:y},O.createElement("path",sg({},mt(e,!0),{className:A,d:vI(F,q,k,D,d),ref:n})))}):O.createElement("path",sg({},mt(e,!0),{className:A,d:vI(s,u,c,h,d)}))};function yk(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:s}=t,u=Qt(e,n,r,a),c=Qt(e,n,r,s);return{points:[u,c],cx:e,cy:n,radius:r,startAngle:a,endAngle:s}}function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(null,arguments)}var _F=(t,e)=>{var n=Pn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},sm=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:s,isExternal:u,cornerRadius:c,cornerIsExternal:h}=t,d=c*(u?1:-1)+r,m=Math.asin(c/d)/rg,y=h?a:a+s*m,v=Qt(e,n,d,y),_=Qt(e,n,r,y),E=h?a-s*m:a,T=Qt(e,n,d*Math.cos(m*rg),E);return{center:v,circleTangency:_,lineTangency:T,theta:m}},vk=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:u}=t,c=_F(s,u),h=s+c,d=Qt(e,n,a,s),m=Qt(e,n,a,h),y="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var v=Qt(e,n,r,s),_=Qt(e,n,r,h);y+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=h),`,
            `).concat(v.x,",").concat(v.y," Z")}else y+="L ".concat(e,",").concat(n," Z");return y},wF=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:u,cornerIsExternal:c,startAngle:h,endAngle:d}=t,m=Pn(d-h),{circleTangency:y,lineTangency:v,theta:_}=sm({cx:e,cy:n,radius:a,angle:h,sign:m,cornerRadius:s,cornerIsExternal:c}),{circleTangency:E,lineTangency:T,theta:A}=sm({cx:e,cy:n,radius:a,angle:d,sign:-m,cornerRadius:s,cornerIsExternal:c}),I=c?Math.abs(h-d):Math.abs(h-d)-_-A;if(I<0)return u?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):vk({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:h,endAngle:d});var k="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(r>0){var{circleTangency:D,lineTangency:F,theta:q}=sm({cx:e,cy:n,radius:r,angle:h,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:H,lineTangency:N,theta:R}=sm({cx:e,cy:n,radius:r,angle:d,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),j=c?Math.abs(h-d):Math.abs(h-d)-q-R;if(j<0&&s===0)return"".concat(k,"L").concat(e,",").concat(n,"Z");k+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(H.x,",").concat(H.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(j>180),",").concat(+(m>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(F.x,",").concat(F.y,"Z")}else k+="L".concat(e,",").concat(n,"Z");return k},EF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bk=t=>{var e=ji(t,EF),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:u,forceCornerRadius:c,cornerIsExternal:h,startAngle:d,endAngle:m,className:y}=e;if(s<a||d===m)return null;var v=dt("recharts-sector",y),_=s-a,E=Yn(u,_,0,!0),T;return E>0&&Math.abs(d-m)<360?T=wF({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,_/2),forceCornerRadius:c,cornerIsExternal:h,startAngle:d,endAngle:m}):T=vk({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:d,endAngle:m}),O.createElement("path",A_({},mt(e,!0),{className:v,d:T}))};function TF(t,e,n){var r,a,s,u;if(t==="horizontal")r=e.x,s=r,a=n.top,u=n.top+n.height;else if(t==="vertical")a=e.y,u=a,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:h,innerRadius:d,outerRadius:m,angle:y}=e,v=Qt(c,h,d,y),_=Qt(c,h,m,y);r=v.x,a=v.y,s=_.x,u=_.y}else return yk(e);return[{x:r,y:a},{x:s,y:u}]}var eb={},tb={},nb={},bI;function AF(){return bI||(bI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ID();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n}(nb)),nb}var _I;function SF(){return _I||(_I=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AF();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n}(tb)),tb}var wI;function xF(){return wI||(wI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RD(),n=SF();function r(a,s,u){u&&typeof u!="number"&&e.isIterateeCall(a,s,u)&&(s=u=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),u=u===void 0?a<s?1:-1:n.toFinite(u);const c=Math.max(Math.ceil((s-a)/(u||1)),0),h=new Array(c);for(let d=0;d<c;d++)h[d]=a,a+=u;return h}t.range=r}(eb)),eb}var rb,EI;function OF(){return EI||(EI=1,rb=xF().range),rb}var CF=OF();const _k=Sa(CF);function Ss(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function IF(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uw(t){let e,n,r;t.length!==2?(e=Ss,n=(c,h)=>Ss(t(c),h),r=(c,h)=>t(c)-h):(e=t===Ss||t===IF?t:RF,n=t,r=t);function a(c,h,d=0,m=c.length){if(d<m){if(e(h,h)!==0)return m;do{const y=d+m>>>1;n(c[y],h)<0?d=y+1:m=y}while(d<m)}return d}function s(c,h,d=0,m=c.length){if(d<m){if(e(h,h)!==0)return m;do{const y=d+m>>>1;n(c[y],h)<=0?d=y+1:m=y}while(d<m)}return d}function u(c,h,d=0,m=c.length){const y=a(c,h,d,m-1);return y>d&&r(c[y-1],h)>-r(c[y],h)?y-1:y}return{left:a,center:u,right:s}}function RF(){return 0}function wk(t){return t===null?NaN:+t}function*PF(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const NF=uw(Ss),dh=NF.right;uw(wk).center;class TI extends Map{constructor(e,n=MF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(AI(this,e))}has(e){return super.has(AI(this,e))}set(e,n){return super.set(DF(this,e),n)}delete(e){return super.delete(kF(this,e))}}function AI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function DF({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function kF({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function MF(t){return t!==null&&typeof t=="object"?t.valueOf():t}function jF(t=Ss){if(t===Ss)return Ek;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Ek(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const LF=Math.sqrt(50),VF=Math.sqrt(10),UF=Math.sqrt(2);function og(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),u=s>=LF?10:s>=VF?5:s>=UF?2:1;let c,h,d;return a<0?(d=Math.pow(10,-a)/u,c=Math.round(t*d),h=Math.round(e*d),c/d<t&&++c,h/d>e&&--h,d=-d):(d=Math.pow(10,a)*u,c=Math.round(t/d),h=Math.round(e/d),c*d<t&&++c,h*d>e&&--h),h<c&&.5<=n&&n<2?og(t,e,n*2):[c,h,d]}function S_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,s,u]=r?og(e,t,n):og(t,e,n);if(!(s>=a))return[];const c=s-a+1,h=new Array(c);if(r)if(u<0)for(let d=0;d<c;++d)h[d]=(s-d)/-u;else for(let d=0;d<c;++d)h[d]=(s-d)*u;else if(u<0)for(let d=0;d<c;++d)h[d]=(a+d)/-u;else for(let d=0;d<c;++d)h[d]=(a+d)*u;return h}function x_(t,e,n){return e=+e,t=+t,n=+n,og(t,e,n)[2]}function O_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?x_(e,t,n):x_(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function SI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function xI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Tk(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?Ek:jF(a);r>n;){if(r-n>600){const h=r-n+1,d=e-n+1,m=Math.log(h),y=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*y*(h-y)/h)*(d-h/2<0?-1:1),_=Math.max(n,Math.floor(e-d*y/h+v)),E=Math.min(r,Math.floor(e+(h-d)*y/h+v));Tk(t,e,_,E,a)}const s=t[e];let u=n,c=r;for(cf(t,n,e),a(t[r],s)>0&&cf(t,n,r);u<c;){for(cf(t,u,c),++u,--c;a(t[u],s)<0;)++u;for(;a(t[c],s)>0;)--c}a(t[n],s)===0?cf(t,n,c):(++c,cf(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function cf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function BF(t,e,n){if(t=Float64Array.from(PF(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return xI(t);if(e>=1)return SI(t);var r,a=(r-1)*e,s=Math.floor(a),u=SI(Tk(t,s).subarray(0,s+1)),c=xI(t.subarray(s+1));return u+(c-u)*(a-s)}}function zF(t,e,n=wk){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,s=Math.floor(a),u=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return u+(c-u)*(a-s)}}function qF(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(a);++r<a;)s[r]=t+r*n;return s}function Gr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Pa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const C_=Symbol("implicit");function cw(){var t=new TI,e=[],n=[],r=C_;function a(s){let u=t.get(s);if(u===void 0){if(r!==C_)return r;t.set(s,u=e.push(s)-1)}return n[u%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new TI;for(const u of s)t.has(u)||t.set(u,e.push(u)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return cw(e,n).unknown(r)},Gr.apply(a,arguments),a}function fw(){var t=cw().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,s,u,c=!1,h=0,d=0,m=.5;delete t.unknown;function y(){var v=e().length,_=a<r,E=_?a:r,T=_?r:a;s=(T-E)/Math.max(1,v-h+d*2),c&&(s=Math.floor(s)),E+=(T-E-s*(v-h))*m,u=s*(1-h),c&&(E=Math.round(E),u=Math.round(u));var A=qF(v).map(function(I){return E+s*I});return n(_?A.reverse():A)}return t.domain=function(v){return arguments.length?(e(v),y()):e()},t.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,y()):[r,a]},t.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,c=!0,y()},t.bandwidth=function(){return u},t.step=function(){return s},t.round=function(v){return arguments.length?(c=!!v,y()):c},t.padding=function(v){return arguments.length?(h=Math.min(1,d=+v),y()):h},t.paddingInner=function(v){return arguments.length?(h=Math.min(1,v),y()):h},t.paddingOuter=function(v){return arguments.length?(d=+v,y()):d},t.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),y()):m},t.copy=function(){return fw(e(),[r,a]).round(c).paddingInner(h).paddingOuter(d).align(m)},Gr.apply(y(),arguments)}function Ak(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ak(e())},t}function $F(){return Ak(fw.apply(null,arguments).paddingInner(1))}function hw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Sk(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function mh(){}var zf=.7,lg=1/zf,du="\\s*([+-]?\\d+)\\s*",qf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FF=/^#([0-9a-f]{3,8})$/,HF=new RegExp(`^rgb\\(${du},${du},${du}\\)$`),KF=new RegExp(`^rgb\\(${Ni},${Ni},${Ni}\\)$`),GF=new RegExp(`^rgba\\(${du},${du},${du},${qf}\\)$`),YF=new RegExp(`^rgba\\(${Ni},${Ni},${Ni},${qf}\\)$`),WF=new RegExp(`^hsl\\(${qf},${Ni},${Ni}\\)$`),XF=new RegExp(`^hsla\\(${qf},${Ni},${Ni},${qf}\\)$`),OI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hw(mh,$f,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:CI,formatHex:CI,formatHex8:QF,formatHsl:ZF,formatRgb:II,toString:II});function CI(){return this.rgb().formatHex()}function QF(){return this.rgb().formatHex8()}function ZF(){return xk(this).formatHsl()}function II(){return this.rgb().formatRgb()}function $f(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=FF.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?RI(e):n===3?new nr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?om(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?om(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=HF.exec(t))?new nr(e[1],e[2],e[3],1):(e=KF.exec(t))?new nr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=GF.exec(t))?om(e[1],e[2],e[3],e[4]):(e=YF.exec(t))?om(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=WF.exec(t))?DI(e[1],e[2]/100,e[3]/100,1):(e=XF.exec(t))?DI(e[1],e[2]/100,e[3]/100,e[4]):OI.hasOwnProperty(t)?RI(OI[t]):t==="transparent"?new nr(NaN,NaN,NaN,0):null}function RI(t){return new nr(t>>16&255,t>>8&255,t&255,1)}function om(t,e,n,r){return r<=0&&(t=e=n=NaN),new nr(t,e,n,r)}function JF(t){return t instanceof mh||(t=$f(t)),t?(t=t.rgb(),new nr(t.r,t.g,t.b,t.opacity)):new nr}function I_(t,e,n,r){return arguments.length===1?JF(t):new nr(t,e,n,r??1)}function nr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}hw(nr,I_,Sk(mh,{brighter(t){return t=t==null?lg:Math.pow(lg,t),new nr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zf:Math.pow(zf,t),new nr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new nr(Mo(this.r),Mo(this.g),Mo(this.b),ug(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PI,formatHex:PI,formatHex8:eH,formatRgb:NI,toString:NI}));function PI(){return`#${Io(this.r)}${Io(this.g)}${Io(this.b)}`}function eH(){return`#${Io(this.r)}${Io(this.g)}${Io(this.b)}${Io((isNaN(this.opacity)?1:this.opacity)*255)}`}function NI(){const t=ug(this.opacity);return`${t===1?"rgb(":"rgba("}${Mo(this.r)}, ${Mo(this.g)}, ${Mo(this.b)}${t===1?")":`, ${t})`}`}function ug(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Mo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Io(t){return t=Mo(t),(t<16?"0":"")+t.toString(16)}function DI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ti(t,e,n,r)}function xk(t){if(t instanceof ti)return new ti(t.h,t.s,t.l,t.opacity);if(t instanceof mh||(t=$f(t)),!t)return new ti;if(t instanceof ti)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),u=NaN,c=s-a,h=(s+a)/2;return c?(e===s?u=(n-r)/c+(n<r)*6:n===s?u=(r-e)/c+2:u=(e-n)/c+4,c/=h<.5?s+a:2-s-a,u*=60):c=h>0&&h<1?0:u,new ti(u,c,h,t.opacity)}function tH(t,e,n,r){return arguments.length===1?xk(t):new ti(t,e,n,r??1)}function ti(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}hw(ti,tH,Sk(mh,{brighter(t){return t=t==null?lg:Math.pow(lg,t),new ti(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zf:Math.pow(zf,t),new ti(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new nr(ib(t>=240?t-240:t+120,a,r),ib(t,a,r),ib(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new ti(kI(this.h),lm(this.s),lm(this.l),ug(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ug(this.opacity);return`${t===1?"hsl(":"hsla("}${kI(this.h)}, ${lm(this.s)*100}%, ${lm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function kI(t){return t=(t||0)%360,t<0?t+360:t}function lm(t){return Math.max(0,Math.min(1,t||0))}function ib(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dw=t=>()=>t;function nH(t,e){return function(n){return t+n*e}}function rH(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function iH(t){return(t=+t)==1?Ok:function(e,n){return n-e?rH(e,n,t):dw(isNaN(e)?n:e)}}function Ok(t,e){var n=e-t;return n?nH(t,n):dw(isNaN(t)?e:t)}const MI=function t(e){var n=iH(e);function r(a,s){var u=n((a=I_(a)).r,(s=I_(s)).r),c=n(a.g,s.g),h=n(a.b,s.b),d=Ok(a.opacity,s.opacity);return function(m){return a.r=u(m),a.g=c(m),a.b=h(m),a.opacity=d(m),a+""}}return r.gamma=t,r}(1);function aH(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=t[a]*(1-s)+e[a]*s;return r}}function sH(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function oH(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),s=new Array(n),u;for(u=0;u<r;++u)a[u]=qu(t[u],e[u]);for(;u<n;++u)s[u]=e[u];return function(c){for(u=0;u<r;++u)s[u]=a[u](c);return s}}function lH(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function cg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function uH(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=qu(t[a],e[a]):r[a]=e[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var R_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ab=new RegExp(R_.source,"g");function cH(t){return function(){return t}}function fH(t){return function(e){return t(e)+""}}function hH(t,e){var n=R_.lastIndex=ab.lastIndex=0,r,a,s,u=-1,c=[],h=[];for(t=t+"",e=e+"";(r=R_.exec(t))&&(a=ab.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),c[u]?c[u]+=s:c[++u]=s),(r=r[0])===(a=a[0])?c[u]?c[u]+=a:c[++u]=a:(c[++u]=null,h.push({i:u,x:cg(r,a)})),n=ab.lastIndex;return n<e.length&&(s=e.slice(n),c[u]?c[u]+=s:c[++u]=s),c.length<2?h[0]?fH(h[0].x):cH(e):(e=h.length,function(d){for(var m=0,y;m<e;++m)c[(y=h[m]).i]=y.x(d);return c.join("")})}function qu(t,e){var n=typeof e,r;return e==null||n==="boolean"?dw(e):(n==="number"?cg:n==="string"?(r=$f(e))?(e=r,MI):hH:e instanceof $f?MI:e instanceof Date?lH:sH(e)?aH:Array.isArray(e)?oH:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?uH:cg)(t,e)}function mw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function dH(t,e){e===void 0&&(e=t,t=qu);for(var n=0,r=e.length-1,a=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(a,a=e[++n]);return function(u){var c=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return s[c](u-c)}}function mH(t){return function(){return t}}function fg(t){return+t}var jI=[0,1];function Gn(t){return t}function P_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:mH(isNaN(e)?NaN:.5)}function gH(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function pH(t,e,n){var r=t[0],a=t[1],s=e[0],u=e[1];return a<r?(r=P_(a,r),s=n(u,s)):(r=P_(r,a),s=n(s,u)),function(c){return s(r(c))}}function yH(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),s=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<r;)a[u]=P_(t[u],t[u+1]),s[u]=n(e[u],e[u+1]);return function(c){var h=dh(t,c,1,r)-1;return s[h](a[h](c))}}function gh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fp(){var t=jI,e=jI,n=qu,r,a,s,u=Gn,c,h,d;function m(){var v=Math.min(t.length,e.length);return u!==Gn&&(u=gH(t[0],t[v-1])),c=v>2?yH:pH,h=d=null,y}function y(v){return v==null||isNaN(v=+v)?s:(h||(h=c(t.map(r),e,n)))(r(u(v)))}return y.invert=function(v){return u(a((d||(d=c(e,t.map(r),cg)))(v)))},y.domain=function(v){return arguments.length?(t=Array.from(v,fg),m()):t.slice()},y.range=function(v){return arguments.length?(e=Array.from(v),m()):e.slice()},y.rangeRound=function(v){return e=Array.from(v),n=mw,m()},y.clamp=function(v){return arguments.length?(u=v?!0:Gn,m()):u!==Gn},y.interpolate=function(v){return arguments.length?(n=v,m()):n},y.unknown=function(v){return arguments.length?(s=v,y):s},function(v,_){return r=v,a=_,m()}}function gw(){return fp()(Gn,Gn)}function vH(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function xu(t){return t=hg(Math.abs(t)),t?t[1]:NaN}function bH(t,e){return function(n,r){for(var a=n.length,s=[],u=0,c=t[0],h=0;a>0&&c>0&&(h+c+1>r&&(c=Math.max(1,r-h)),s.push(n.substring(a-=c,a+c)),!((h+=c+1)>r));)c=t[u=(u+1)%t.length];return s.reverse().join(e)}}function _H(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var wH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ff(t){if(!(e=wH.exec(t)))throw new Error("invalid format: "+t);var e;return new pw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ff.prototype=pw.prototype;function pw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function EH(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var Ck;function TH(t,e){var n=hg(t,e);if(!n)return t+"";var r=n[0],a=n[1],s=a-(Ck=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,u=r.length;return s===u?r:s>u?r+new Array(s-u+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+hg(t,Math.max(0,e+s-1))[0]}function LI(t,e){var n=hg(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const VI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:vH,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>LI(t*100,e),r:LI,s:TH,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function UI(t){return t}var BI=Array.prototype.map,zI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function AH(t){var e=t.grouping===void 0||t.thousands===void 0?UI:bH(BI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?UI:_H(BI.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function d(y){y=Ff(y);var v=y.fill,_=y.align,E=y.sign,T=y.symbol,A=y.zero,I=y.width,k=y.comma,D=y.precision,F=y.trim,q=y.type;q==="n"?(k=!0,q="g"):VI[q]||(D===void 0&&(D=12),F=!0,q="g"),(A||v==="0"&&_==="=")&&(A=!0,v="0",_="=");var H=T==="$"?n:T==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",N=T==="$"?r:/[%p]/.test(q)?u:"",R=VI[q],j=/[defgprs%]/.test(q);D=D===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function B(V){var U=H,L=N,_e,Se,Z;if(q==="c")L=R(V)+L,V="";else{V=+V;var ue=V<0||1/V<0;if(V=isNaN(V)?h:R(Math.abs(V),D),F&&(V=EH(V)),ue&&+V==0&&E!=="+"&&(ue=!1),U=(ue?E==="("?E:c:E==="-"||E==="("?"":E)+U,L=(q==="s"?zI[8+Ck/3]:"")+L+(ue&&E==="("?")":""),j){for(_e=-1,Se=V.length;++_e<Se;)if(Z=V.charCodeAt(_e),48>Z||Z>57){L=(Z===46?a+V.slice(_e+1):V.slice(_e))+L,V=V.slice(0,_e);break}}}k&&!A&&(V=e(V,1/0));var de=U.length+V.length+L.length,Ce=de<I?new Array(I-de+1).join(v):"";switch(k&&A&&(V=e(Ce+V,Ce.length?I-L.length:1/0),Ce=""),_){case"<":V=U+V+L+Ce;break;case"=":V=U+Ce+V+L;break;case"^":V=Ce.slice(0,de=Ce.length>>1)+U+V+L+Ce.slice(de);break;default:V=Ce+U+V+L;break}return s(V)}return B.toString=function(){return y+""},B}function m(y,v){var _=d((y=Ff(y),y.type="f",y)),E=Math.max(-8,Math.min(8,Math.floor(xu(v)/3)))*3,T=Math.pow(10,-E),A=zI[8+E/3];return function(I){return _(T*I)+A}}return{format:d,formatPrefix:m}}var um,yw,Ik;SH({thousands:",",grouping:[3],currency:["$",""]});function SH(t){return um=AH(t),yw=um.format,Ik=um.formatPrefix,um}function xH(t){return Math.max(0,-xu(Math.abs(t)))}function OH(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xu(e)/3)))*3-xu(Math.abs(t)))}function CH(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xu(e)-xu(t))+1}function Rk(t,e,n,r){var a=O_(t,e,n),s;switch(r=Ff(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=OH(a,u))&&(r.precision=s),Ik(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=CH(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=xH(a))&&(r.precision=s-(r.type==="%")*2);break}}return yw(r)}function Vs(t){var e=t.domain;return t.ticks=function(n){var r=e();return S_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return Rk(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,s=r.length-1,u=r[a],c=r[s],h,d,m=10;for(c<u&&(d=u,u=c,c=d,d=a,a=s,s=d);m-- >0;){if(d=x_(u,c,n),d===h)return r[a]=u,r[s]=c,e(r);if(d>0)u=Math.floor(u/d)*d,c=Math.ceil(c/d)*d;else if(d<0)u=Math.ceil(u*d)/d,c=Math.floor(c*d)/d;else break;h=d}return t},t}function Pk(){var t=gw();return t.copy=function(){return gh(t,Pk())},Gr.apply(t,arguments),Vs(t)}function Nk(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,fg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Nk(t).unknown(e)},t=arguments.length?Array.from(t,fg):[0,1],Vs(n)}function Dk(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],s=t[r],u;return s<a&&(u=n,n=r,r=u,u=a,a=s,s=u),t[n]=e.floor(a),t[r]=e.ceil(s),t}function qI(t){return Math.log(t)}function $I(t){return Math.exp(t)}function IH(t){return-Math.log(-t)}function RH(t){return-Math.exp(-t)}function PH(t){return isFinite(t)?+("1e"+t):t<0?0:t}function NH(t){return t===10?PH:t===Math.E?Math.exp:e=>Math.pow(t,e)}function DH(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function FI(t){return(e,n)=>-t(-e,n)}function vw(t){const e=t(qI,$I),n=e.domain;let r=10,a,s;function u(){return a=DH(r),s=NH(r),n()[0]<0?(a=FI(a),s=FI(s),t(IH,RH)):t(qI,$I),e}return e.base=function(c){return arguments.length?(r=+c,u()):r},e.domain=function(c){return arguments.length?(n(c),u()):n()},e.ticks=c=>{const h=n();let d=h[0],m=h[h.length-1];const y=m<d;y&&([d,m]=[m,d]);let v=a(d),_=a(m),E,T;const A=c==null?10:+c;let I=[];if(!(r%1)&&_-v<A){if(v=Math.floor(v),_=Math.ceil(_),d>0){for(;v<=_;++v)for(E=1;E<r;++E)if(T=v<0?E/s(-v):E*s(v),!(T<d)){if(T>m)break;I.push(T)}}else for(;v<=_;++v)for(E=r-1;E>=1;--E)if(T=v>0?E/s(-v):E*s(v),!(T<d)){if(T>m)break;I.push(T)}I.length*2<A&&(I=S_(d,m,A))}else I=S_(v,_,Math.min(_-v,A)).map(s);return y?I.reverse():I},e.tickFormat=(c,h)=>{if(c==null&&(c=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=Ff(h)).precision==null&&(h.trim=!0),h=yw(h)),c===1/0)return h;const d=Math.max(1,r*c/e.ticks().length);return m=>{let y=m/s(Math.round(a(m)));return y*r<r-.5&&(y*=r),y<=d?h(m):""}},e.nice=()=>n(Dk(n(),{floor:c=>s(Math.floor(a(c))),ceil:c=>s(Math.ceil(a(c)))})),e}function kk(){const t=vw(fp()).domain([1,10]);return t.copy=()=>gh(t,kk()).base(t.base()),Gr.apply(t,arguments),t}function HI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function KI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function bw(t){var e=1,n=t(HI(e),KI(e));return n.constant=function(r){return arguments.length?t(HI(e=+r),KI(e)):e},Vs(n)}function Mk(){var t=bw(fp());return t.copy=function(){return gh(t,Mk()).constant(t.constant())},Gr.apply(t,arguments)}function GI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function kH(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function MH(t){return t<0?-t*t:t*t}function _w(t){var e=t(Gn,Gn),n=1;function r(){return n===1?t(Gn,Gn):n===.5?t(kH,MH):t(GI(n),GI(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},Vs(e)}function ww(){var t=_w(fp());return t.copy=function(){return gh(t,ww()).exponent(t.exponent())},Gr.apply(t,arguments),t}function jH(){return ww.apply(null,arguments).exponent(.5)}function YI(t){return Math.sign(t)*t*t}function LH(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function jk(){var t=gw(),e=[0,1],n=!1,r;function a(s){var u=LH(t(s));return isNaN(u)?r:n?Math.round(u):u}return a.invert=function(s){return t.invert(YI(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,fg)).map(YI)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return jk(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Gr.apply(a,arguments),Vs(a)}function Lk(){var t=[],e=[],n=[],r;function a(){var u=0,c=Math.max(1,e.length);for(n=new Array(c-1);++u<c;)n[u-1]=zF(t,u/c);return s}function s(u){return u==null||isNaN(u=+u)?r:e[dh(n,u)]}return s.invertExtent=function(u){var c=e.indexOf(u);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(u){if(!arguments.length)return t.slice();t=[];for(let c of u)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Ss),a()},s.range=function(u){return arguments.length?(e=Array.from(u),a()):e.slice()},s.unknown=function(u){return arguments.length?(r=u,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return Lk().domain(t).range(e).unknown(r)},Gr.apply(s,arguments)}function Vk(){var t=0,e=1,n=1,r=[.5],a=[0,1],s;function u(h){return h!=null&&h<=h?a[dh(r,h,0,n)]:s}function c(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*e-(h-n)*t)/(n+1);return u}return u.domain=function(h){return arguments.length?([t,e]=h,t=+t,e=+e,c()):[t,e]},u.range=function(h){return arguments.length?(n=(a=Array.from(h)).length-1,c()):a.slice()},u.invertExtent=function(h){var d=a.indexOf(h);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},u.unknown=function(h){return arguments.length&&(s=h),u},u.thresholds=function(){return r.slice()},u.copy=function(){return Vk().domain([t,e]).range(a).unknown(s)},Gr.apply(Vs(u),arguments)}function Uk(){var t=[.5],e=[0,1],n,r=1;function a(s){return s!=null&&s<=s?e[dh(t,s,0,r)]:n}return a.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var u=e.indexOf(s);return[t[u-1],t[u]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Uk().domain(t).range(e).unknown(n)},Gr.apply(a,arguments)}const sb=new Date,ob=new Date;function fn(t,e,n,r){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const u=a(s),c=a.ceil(s);return s-u<c-s?u:c},a.offset=(s,u)=>(e(s=new Date(+s),u==null?1:Math.floor(u)),s),a.range=(s,u,c)=>{const h=[];if(s=a.ceil(s),c=c==null?1:Math.floor(c),!(s<u)||!(c>0))return h;let d;do h.push(d=new Date(+s)),e(s,c),t(s);while(d<s&&s<u);return h},a.filter=s=>fn(u=>{if(u>=u)for(;t(u),!s(u);)u.setTime(u-1)},(u,c)=>{if(u>=u)if(c<0)for(;++c<=0;)for(;e(u,-1),!s(u););else for(;--c>=0;)for(;e(u,1),!s(u););}),n&&(a.count=(s,u)=>(sb.setTime(+s),ob.setTime(+u),t(sb),t(ob),Math.floor(n(sb,ob))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?u=>r(u)%s===0:u=>a.count(0,u)%s===0):a)),a}const dg=fn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);dg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?fn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):dg);dg.range;const ha=1e3,zr=ha*60,da=zr*60,Ea=da*24,Ew=Ea*7,WI=Ea*30,lb=Ea*365,Ro=fn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ha)},(t,e)=>(e-t)/ha,t=>t.getUTCSeconds());Ro.range;const Tw=fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ha)},(t,e)=>{t.setTime(+t+e*zr)},(t,e)=>(e-t)/zr,t=>t.getMinutes());Tw.range;const Aw=fn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zr)},(t,e)=>(e-t)/zr,t=>t.getUTCMinutes());Aw.range;const Sw=fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ha-t.getMinutes()*zr)},(t,e)=>{t.setTime(+t+e*da)},(t,e)=>(e-t)/da,t=>t.getHours());Sw.range;const xw=fn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*da)},(t,e)=>(e-t)/da,t=>t.getUTCHours());xw.range;const ph=fn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zr)/Ea,t=>t.getDate()-1);ph.range;const hp=fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ea,t=>t.getUTCDate()-1);hp.range;const Bk=fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ea,t=>Math.floor(t/Ea));Bk.range;function el(t){return fn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*zr)/Ew)}const dp=el(0),mg=el(1),VH=el(2),UH=el(3),Ou=el(4),BH=el(5),zH=el(6);dp.range;mg.range;VH.range;UH.range;Ou.range;BH.range;zH.range;function tl(t){return fn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Ew)}const mp=tl(0),gg=tl(1),qH=tl(2),$H=tl(3),Cu=tl(4),FH=tl(5),HH=tl(6);mp.range;gg.range;qH.range;$H.range;Cu.range;FH.range;HH.range;const Ow=fn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Ow.range;const Cw=fn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Cw.range;const Ta=fn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ta.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ta.range;const Aa=fn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Aa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Aa.range;function zk(t,e,n,r,a,s){const u=[[Ro,1,ha],[Ro,5,5*ha],[Ro,15,15*ha],[Ro,30,30*ha],[s,1,zr],[s,5,5*zr],[s,15,15*zr],[s,30,30*zr],[a,1,da],[a,3,3*da],[a,6,6*da],[a,12,12*da],[r,1,Ea],[r,2,2*Ea],[n,1,Ew],[e,1,WI],[e,3,3*WI],[t,1,lb]];function c(d,m,y){const v=m<d;v&&([d,m]=[m,d]);const _=y&&typeof y.range=="function"?y:h(d,m,y),E=_?_.range(d,+m+1):[];return v?E.reverse():E}function h(d,m,y){const v=Math.abs(m-d)/y,_=uw(([,,A])=>A).right(u,v);if(_===u.length)return t.every(O_(d/lb,m/lb,y));if(_===0)return dg.every(Math.max(O_(d,m,y),1));const[E,T]=u[v/u[_-1][2]<u[_][2]/v?_-1:_];return E.every(T)}return[c,h]}const[KH,GH]=zk(Aa,Cw,mp,Bk,xw,Aw),[YH,WH]=zk(Ta,Ow,dp,ph,Sw,Tw);function ub(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function cb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ff(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function XH(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,s=t.days,u=t.shortDays,c=t.months,h=t.shortMonths,d=hf(a),m=df(a),y=hf(s),v=df(s),_=hf(u),E=df(u),T=hf(c),A=df(c),I=hf(h),k=df(h),D={a:ue,A:de,b:Ce,B:$,c:null,d:tR,e:tR,f:bK,g:IK,G:PK,H:pK,I:yK,j:vK,L:qk,m:_K,M:wK,p:ae,q:re,Q:iR,s:aR,S:EK,u:TK,U:AK,V:SK,w:xK,W:OK,x:null,X:null,y:CK,Y:RK,Z:NK,"%":rR},F={a:ce,A:be,b:xe,B:Ne,c:null,d:nR,e:nR,f:jK,g:KK,G:YK,H:DK,I:kK,j:MK,L:Fk,m:LK,M:VK,p:zt,q:ot,Q:iR,s:aR,S:UK,u:BK,U:zK,V:qK,w:$K,W:FK,x:null,X:null,y:HK,Y:GK,Z:WK,"%":rR},q={a:B,A:V,b:U,B:L,c:_e,d:JI,e:JI,f:hK,g:ZI,G:QI,H:eR,I:eR,j:lK,L:fK,m:oK,M:uK,p:j,q:sK,Q:mK,s:gK,S:cK,u:tK,U:nK,V:rK,w:eK,W:iK,x:Se,X:Z,y:ZI,Y:QI,Z:aK,"%":dK};D.x=H(n,D),D.X=H(r,D),D.c=H(e,D),F.x=H(n,F),F.X=H(r,F),F.c=H(e,F);function H(me,ke){return function(Le){var fe=[],Ot=-1,Ke=0,tn=me.length,hn,qt,al;for(Le instanceof Date||(Le=new Date(+Le));++Ot<tn;)me.charCodeAt(Ot)===37&&(fe.push(me.slice(Ke,Ot)),(qt=XI[hn=me.charAt(++Ot)])!=null?hn=me.charAt(++Ot):qt=hn==="e"?" ":"0",(al=ke[hn])&&(hn=al(Le,qt)),fe.push(hn),Ke=Ot+1);return fe.push(me.slice(Ke,Ot)),fe.join("")}}function N(me,ke){return function(Le){var fe=ff(1900,void 0,1),Ot=R(fe,me,Le+="",0),Ke,tn;if(Ot!=Le.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(ke&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(Ke=cb(ff(fe.y,0,1)),tn=Ke.getUTCDay(),Ke=tn>4||tn===0?gg.ceil(Ke):gg(Ke),Ke=hp.offset(Ke,(fe.V-1)*7),fe.y=Ke.getUTCFullYear(),fe.m=Ke.getUTCMonth(),fe.d=Ke.getUTCDate()+(fe.w+6)%7):(Ke=ub(ff(fe.y,0,1)),tn=Ke.getDay(),Ke=tn>4||tn===0?mg.ceil(Ke):mg(Ke),Ke=ph.offset(Ke,(fe.V-1)*7),fe.y=Ke.getFullYear(),fe.m=Ke.getMonth(),fe.d=Ke.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),tn="Z"in fe?cb(ff(fe.y,0,1)).getUTCDay():ub(ff(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(tn+5)%7:fe.w+fe.U*7-(tn+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,cb(fe)):ub(fe)}}function R(me,ke,Le,fe){for(var Ot=0,Ke=ke.length,tn=Le.length,hn,qt;Ot<Ke;){if(fe>=tn)return-1;if(hn=ke.charCodeAt(Ot++),hn===37){if(hn=ke.charAt(Ot++),qt=q[hn in XI?ke.charAt(Ot++):hn],!qt||(fe=qt(me,Le,fe))<0)return-1}else if(hn!=Le.charCodeAt(fe++))return-1}return fe}function j(me,ke,Le){var fe=d.exec(ke.slice(Le));return fe?(me.p=m.get(fe[0].toLowerCase()),Le+fe[0].length):-1}function B(me,ke,Le){var fe=_.exec(ke.slice(Le));return fe?(me.w=E.get(fe[0].toLowerCase()),Le+fe[0].length):-1}function V(me,ke,Le){var fe=y.exec(ke.slice(Le));return fe?(me.w=v.get(fe[0].toLowerCase()),Le+fe[0].length):-1}function U(me,ke,Le){var fe=I.exec(ke.slice(Le));return fe?(me.m=k.get(fe[0].toLowerCase()),Le+fe[0].length):-1}function L(me,ke,Le){var fe=T.exec(ke.slice(Le));return fe?(me.m=A.get(fe[0].toLowerCase()),Le+fe[0].length):-1}function _e(me,ke,Le){return R(me,e,ke,Le)}function Se(me,ke,Le){return R(me,n,ke,Le)}function Z(me,ke,Le){return R(me,r,ke,Le)}function ue(me){return u[me.getDay()]}function de(me){return s[me.getDay()]}function Ce(me){return h[me.getMonth()]}function $(me){return c[me.getMonth()]}function ae(me){return a[+(me.getHours()>=12)]}function re(me){return 1+~~(me.getMonth()/3)}function ce(me){return u[me.getUTCDay()]}function be(me){return s[me.getUTCDay()]}function xe(me){return h[me.getUTCMonth()]}function Ne(me){return c[me.getUTCMonth()]}function zt(me){return a[+(me.getUTCHours()>=12)]}function ot(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var ke=H(me+="",D);return ke.toString=function(){return me},ke},parse:function(me){var ke=N(me+="",!1);return ke.toString=function(){return me},ke},utcFormat:function(me){var ke=H(me+="",F);return ke.toString=function(){return me},ke},utcParse:function(me){var ke=N(me+="",!0);return ke.toString=function(){return me},ke}}}var XI={"-":"",_:" ",0:"0"},_n=/^\s*\d+/,QH=/^%/,ZH=/[\\^$*+?|[\]().{}]/g;function Ze(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(e)+a:a)}function JH(t){return t.replace(ZH,"\\$&")}function hf(t){return new RegExp("^(?:"+t.map(JH).join("|")+")","i")}function df(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function eK(t,e,n){var r=_n.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function tK(t,e,n){var r=_n.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function nK(t,e,n){var r=_n.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function rK(t,e,n){var r=_n.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function iK(t,e,n){var r=_n.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function QI(t,e,n){var r=_n.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ZI(t,e,n){var r=_n.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function aK(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function sK(t,e,n){var r=_n.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function oK(t,e,n){var r=_n.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function JI(t,e,n){var r=_n.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function lK(t,e,n){var r=_n.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function eR(t,e,n){var r=_n.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function uK(t,e,n){var r=_n.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function cK(t,e,n){var r=_n.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function fK(t,e,n){var r=_n.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function hK(t,e,n){var r=_n.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function dK(t,e,n){var r=QH.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function mK(t,e,n){var r=_n.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function gK(t,e,n){var r=_n.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function tR(t,e){return Ze(t.getDate(),e,2)}function pK(t,e){return Ze(t.getHours(),e,2)}function yK(t,e){return Ze(t.getHours()%12||12,e,2)}function vK(t,e){return Ze(1+ph.count(Ta(t),t),e,3)}function qk(t,e){return Ze(t.getMilliseconds(),e,3)}function bK(t,e){return qk(t,e)+"000"}function _K(t,e){return Ze(t.getMonth()+1,e,2)}function wK(t,e){return Ze(t.getMinutes(),e,2)}function EK(t,e){return Ze(t.getSeconds(),e,2)}function TK(t){var e=t.getDay();return e===0?7:e}function AK(t,e){return Ze(dp.count(Ta(t)-1,t),e,2)}function $k(t){var e=t.getDay();return e>=4||e===0?Ou(t):Ou.ceil(t)}function SK(t,e){return t=$k(t),Ze(Ou.count(Ta(t),t)+(Ta(t).getDay()===4),e,2)}function xK(t){return t.getDay()}function OK(t,e){return Ze(mg.count(Ta(t)-1,t),e,2)}function CK(t,e){return Ze(t.getFullYear()%100,e,2)}function IK(t,e){return t=$k(t),Ze(t.getFullYear()%100,e,2)}function RK(t,e){return Ze(t.getFullYear()%1e4,e,4)}function PK(t,e){var n=t.getDay();return t=n>=4||n===0?Ou(t):Ou.ceil(t),Ze(t.getFullYear()%1e4,e,4)}function NK(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ze(e/60|0,"0",2)+Ze(e%60,"0",2)}function nR(t,e){return Ze(t.getUTCDate(),e,2)}function DK(t,e){return Ze(t.getUTCHours(),e,2)}function kK(t,e){return Ze(t.getUTCHours()%12||12,e,2)}function MK(t,e){return Ze(1+hp.count(Aa(t),t),e,3)}function Fk(t,e){return Ze(t.getUTCMilliseconds(),e,3)}function jK(t,e){return Fk(t,e)+"000"}function LK(t,e){return Ze(t.getUTCMonth()+1,e,2)}function VK(t,e){return Ze(t.getUTCMinutes(),e,2)}function UK(t,e){return Ze(t.getUTCSeconds(),e,2)}function BK(t){var e=t.getUTCDay();return e===0?7:e}function zK(t,e){return Ze(mp.count(Aa(t)-1,t),e,2)}function Hk(t){var e=t.getUTCDay();return e>=4||e===0?Cu(t):Cu.ceil(t)}function qK(t,e){return t=Hk(t),Ze(Cu.count(Aa(t),t)+(Aa(t).getUTCDay()===4),e,2)}function $K(t){return t.getUTCDay()}function FK(t,e){return Ze(gg.count(Aa(t)-1,t),e,2)}function HK(t,e){return Ze(t.getUTCFullYear()%100,e,2)}function KK(t,e){return t=Hk(t),Ze(t.getUTCFullYear()%100,e,2)}function GK(t,e){return Ze(t.getUTCFullYear()%1e4,e,4)}function YK(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Cu(t):Cu.ceil(t),Ze(t.getUTCFullYear()%1e4,e,4)}function WK(){return"+0000"}function rR(){return"%"}function iR(t){return+t}function aR(t){return Math.floor(+t/1e3)}var Zl,Kk,Gk;XK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function XK(t){return Zl=XH(t),Kk=Zl.format,Zl.parse,Gk=Zl.utcFormat,Zl.utcParse,Zl}function QK(t){return new Date(t)}function ZK(t){return t instanceof Date?+t:+new Date(+t)}function Iw(t,e,n,r,a,s,u,c,h,d){var m=gw(),y=m.invert,v=m.domain,_=d(".%L"),E=d(":%S"),T=d("%I:%M"),A=d("%I %p"),I=d("%a %d"),k=d("%b %d"),D=d("%B"),F=d("%Y");function q(H){return(h(H)<H?_:c(H)<H?E:u(H)<H?T:s(H)<H?A:r(H)<H?a(H)<H?I:k:n(H)<H?D:F)(H)}return m.invert=function(H){return new Date(y(H))},m.domain=function(H){return arguments.length?v(Array.from(H,ZK)):v().map(QK)},m.ticks=function(H){var N=v();return t(N[0],N[N.length-1],H??10)},m.tickFormat=function(H,N){return N==null?q:d(N)},m.nice=function(H){var N=v();return(!H||typeof H.range!="function")&&(H=e(N[0],N[N.length-1],H??10)),H?v(Dk(N,H)):m},m.copy=function(){return gh(m,Iw(t,e,n,r,a,s,u,c,h,d))},m}function JK(){return Gr.apply(Iw(YH,WH,Ta,Ow,dp,ph,Sw,Tw,Ro,Kk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eG(){return Gr.apply(Iw(KH,GH,Aa,Cw,mp,hp,xw,Aw,Ro,Gk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gp(){var t=0,e=1,n,r,a,s,u=Gn,c=!1,h;function d(y){return y==null||isNaN(y=+y)?h:u(a===0?.5:(y=(s(y)-n)*a,c?Math.max(0,Math.min(1,y)):y))}d.domain=function(y){return arguments.length?([t,e]=y,n=s(t=+t),r=s(e=+e),a=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(y){return arguments.length?(c=!!y,d):c},d.interpolator=function(y){return arguments.length?(u=y,d):u};function m(y){return function(v){var _,E;return arguments.length?([_,E]=v,u=y(_,E),d):[u(0),u(1)]}}return d.range=m(qu),d.rangeRound=m(mw),d.unknown=function(y){return arguments.length?(h=y,d):h},function(y){return s=y,n=y(t),r=y(e),a=n===r?0:1/(r-n),d}}function Us(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Yk(){var t=Vs(gp()(Gn));return t.copy=function(){return Us(t,Yk())},Pa.apply(t,arguments)}function Wk(){var t=vw(gp()).domain([1,10]);return t.copy=function(){return Us(t,Wk()).base(t.base())},Pa.apply(t,arguments)}function Xk(){var t=bw(gp());return t.copy=function(){return Us(t,Xk()).constant(t.constant())},Pa.apply(t,arguments)}function Rw(){var t=_w(gp());return t.copy=function(){return Us(t,Rw()).exponent(t.exponent())},Pa.apply(t,arguments)}function tG(){return Rw.apply(null,arguments).exponent(.5)}function Qk(){var t=[],e=Gn;function n(r){if(r!=null&&!isNaN(r=+r))return e((dh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ss),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>BF(t,s/r))},n.copy=function(){return Qk(e).domain(t)},Pa.apply(n,arguments)}function pp(){var t=0,e=.5,n=1,r=1,a,s,u,c,h,d=Gn,m,y=!1,v;function _(T){return isNaN(T=+T)?v:(T=.5+((T=+m(T))-s)*(r*T<r*s?c:h),d(y?Math.max(0,Math.min(1,T)):T))}_.domain=function(T){return arguments.length?([t,e,n]=T,a=m(t=+t),s=m(e=+e),u=m(n=+n),c=a===s?0:.5/(s-a),h=s===u?0:.5/(u-s),r=s<a?-1:1,_):[t,e,n]},_.clamp=function(T){return arguments.length?(y=!!T,_):y},_.interpolator=function(T){return arguments.length?(d=T,_):d};function E(T){return function(A){var I,k,D;return arguments.length?([I,k,D]=A,d=dH(T,[I,k,D]),_):[d(0),d(.5),d(1)]}}return _.range=E(qu),_.rangeRound=E(mw),_.unknown=function(T){return arguments.length?(v=T,_):v},function(T){return m=T,a=T(t),s=T(e),u=T(n),c=a===s?0:.5/(s-a),h=s===u?0:.5/(u-s),r=s<a?-1:1,_}}function Zk(){var t=Vs(pp()(Gn));return t.copy=function(){return Us(t,Zk())},Pa.apply(t,arguments)}function Jk(){var t=vw(pp()).domain([.1,1,10]);return t.copy=function(){return Us(t,Jk()).base(t.base())},Pa.apply(t,arguments)}function eM(){var t=bw(pp());return t.copy=function(){return Us(t,eM()).constant(t.constant())},Pa.apply(t,arguments)}function Pw(){var t=_w(pp());return t.copy=function(){return Us(t,Pw()).exponent(t.exponent())},Pa.apply(t,arguments)}function nG(){return Pw.apply(null,arguments).exponent(.5)}const Ef=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fw,scaleDiverging:Zk,scaleDivergingLog:Jk,scaleDivergingPow:Pw,scaleDivergingSqrt:nG,scaleDivergingSymlog:eM,scaleIdentity:Nk,scaleImplicit:C_,scaleLinear:Pk,scaleLog:kk,scaleOrdinal:cw,scalePoint:$F,scalePow:ww,scaleQuantile:Lk,scaleQuantize:Vk,scaleRadial:jk,scaleSequential:Yk,scaleSequentialLog:Wk,scaleSequentialPow:Rw,scaleSequentialQuantile:Qk,scaleSequentialSqrt:tG,scaleSequentialSymlog:Xk,scaleSqrt:jH,scaleSymlog:Mk,scaleThreshold:Uk,scaleTime:JK,scaleUtc:eG,tickFormat:Rk},Symbol.toStringTag,{value:"Module"}));var nl=t=>t.chartData,Nw=te([nl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),tM=(t,e,n,r)=>r?Nw(t):nl(t);function Iu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(wr(e)&&wr(n))return!0}return!1}function sR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function rG(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,s;if(wr(n))a=n;else if(typeof n=="function")return;if(wr(r))s=r;else if(typeof r=="function")return;var u=[a,s];if(Iu(u))return u}}function iG(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Iu(r))return sR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,u,c;if(a==="auto")e!=null&&(u=Math.min(...e));else if(Ee(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e?.[0]))}catch{}else if(typeof a=="string"&&WC.test(a)){var h=WC.exec(a);if(h==null||e==null)u=void 0;else{var d=+h[1];u=e[0]-d}}else u=e?.[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(Ee(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e?.[1]))}catch{}else if(typeof s=="string"&&XC.test(s)){var m=XC.exec(s);if(m==null||e==null)c=void 0;else{var y=+m[1];c=e[1]+y}}else c=e?.[1];var v=[u,c];if(Iu(v))return e==null?v:sR(v,e,n)}}}var $u=1e9,aG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kw,At=!0,Hr="[DecimalError] ",jo=Hr+"Invalid argument: ",Dw=Hr+"Exponent out of range: ",Fu=Math.floor,So=Math.pow,sG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pr,bn=1e7,_t=7,nM=9007199254740991,pg=Fu(nM/_t),ye={};ye.absoluteValue=ye.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ye.comparedTo=ye.cmp=function(t){var e,n,r,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*_t;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ye.dividedBy=ye.div=function(t){return pa(this,new this.constructor(t))};ye.dividedToIntegerBy=ye.idiv=function(t){var e=this,n=e.constructor;return pt(pa(e,new n(t),0,1),n.precision)};ye.equals=ye.eq=function(t){return!this.cmp(t)};ye.exponent=function(){return Jt(this)};ye.greaterThan=ye.gt=function(t){return this.cmp(t)>0};ye.greaterThanOrEqualTo=ye.gte=function(t){return this.cmp(t)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(t){return this.cmp(t)<0};ye.lessThanOrEqualTo=ye.lte=function(t){return this.cmp(t)<1};ye.logarithm=ye.log=function(t){var e,n=this,r=n.constructor,a=r.precision,s=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(pr))throw Error(Hr+"NaN");if(n.s<1)throw Error(Hr+(n.s?"NaN":"-Infinity"));return n.eq(pr)?new r(0):(At=!1,e=pa(Hf(n,s),Hf(t,s),s),At=!0,pt(e,a))};ye.minus=ye.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?aM(e,t):rM(e,(t.s=-t.s,t))};ye.modulo=ye.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(Hr+"NaN");return n.s?(At=!1,e=pa(n,t,0,1).times(t),At=!0,n.minus(e)):pt(new r(n),a)};ye.naturalExponential=ye.exp=function(){return iM(this)};ye.naturalLogarithm=ye.ln=function(){return Hf(this)};ye.negated=ye.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ye.plus=ye.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rM(e,t):aM(e,(t.s=-t.s,t))};ye.precision=ye.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(jo+t);if(e=Jt(a)+1,r=a.d.length-1,n=r*_t+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ye.squareRoot=ye.sqrt=function(){var t,e,n,r,a,s,u,c=this,h=c.constructor;if(c.s<1){if(!c.s)return new h(0);throw Error(Hr+"NaN")}for(t=Jt(c),At=!1,a=Math.sqrt(+c),a==0||a==1/0?(e=Ti(c.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Fu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new h(e)):r=new h(a.toString()),n=h.precision,a=u=n+3;;)if(s=r,r=s.plus(pa(c,s,u+2)).times(.5),Ti(s.d).slice(0,u)===(e=Ti(r.d)).slice(0,u)){if(e=e.slice(u-3,u+1),a==u&&e=="4999"){if(pt(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;u+=4}return At=!0,pt(r,n)};ye.times=ye.mul=function(t){var e,n,r,a,s,u,c,h,d,m=this,y=m.constructor,v=m.d,_=(t=new y(t)).d;if(!m.s||!t.s)return new y(0);for(t.s*=m.s,n=m.e+t.e,h=v.length,d=_.length,h<d&&(s=v,v=_,_=s,u=h,h=d,d=u),s=[],u=h+d,r=u;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,a=h+r;a>r;)c=s[a]+_[r]*v[a-r-1]+e,s[a--]=c%bn|0,e=c/bn|0;s[a]=(s[a]+e)%bn|0}for(;!s[--u];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,At?pt(t,y.precision):t};ye.toDecimalPlaces=ye.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Mi(t,0,$u),e===void 0?e=r.rounding:Mi(e,0,8),pt(n,t+Jt(n)+1,e))};ye.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=Yo(r,!0):(Mi(t,0,$u),e===void 0?e=a.rounding:Mi(e,0,8),r=pt(new a(r),t+1,e),n=Yo(r,!0,t+1)),n};ye.toFixed=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?Yo(a):(Mi(t,0,$u),e===void 0?e=s.rounding:Mi(e,0,8),r=pt(new s(a),t+Jt(a)+1,e),n=Yo(r.abs(),!1,t+Jt(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};ye.toInteger=ye.toint=function(){var t=this,e=t.constructor;return pt(new e(t),Jt(t)+1,e.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(t){var e,n,r,a,s,u,c=this,h=c.constructor,d=12,m=+(t=new h(t));if(!t.s)return new h(pr);if(c=new h(c),!c.s){if(t.s<1)throw Error(Hr+"Infinity");return c}if(c.eq(pr))return c;if(r=h.precision,t.eq(pr))return pt(c,r);if(e=t.e,n=t.d.length-1,u=e>=n,s=c.s,u){if((n=m<0?-m:m)<=nM){for(a=new h(pr),e=Math.ceil(r/_t+4),At=!1;n%2&&(a=a.times(c),lR(a.d,e)),n=Fu(n/2),n!==0;)c=c.times(c),lR(c.d,e);return At=!0,t.s<0?new h(pr).div(a):pt(a,r)}}else if(s<0)throw Error(Hr+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,At=!1,a=t.times(Hf(c,r+d)),At=!0,a=iM(a),a.s=s,a};ye.toPrecision=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?(n=Jt(a),r=Yo(a,n<=s.toExpNeg||n>=s.toExpPos)):(Mi(t,1,$u),e===void 0?e=s.rounding:Mi(e,0,8),a=pt(new s(a),t,e),n=Jt(a),r=Yo(a,t<=n||n<=s.toExpNeg,t)),r};ye.toSignificantDigits=ye.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Mi(t,1,$u),e===void 0?e=r.rounding:Mi(e,0,8)),pt(new r(n),t,e)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Jt(t),n=t.constructor;return Yo(t,e<=n.toExpNeg||e>=n.toExpPos)};function rM(t,e){var n,r,a,s,u,c,h,d,m=t.constructor,y=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),At?pt(e,y):e;if(h=t.d,d=e.d,u=t.e,a=e.e,h=h.slice(),s=u-a,s){for(s<0?(r=h,s=-s,c=d.length):(r=d,a=u,c=h.length),u=Math.ceil(y/_t),c=u>c?u+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=h.length,s=d.length,c-s<0&&(s=c,r=d,d=h,h=r),n=0;s;)n=(h[--s]=h[s]+d[s]+n)/bn|0,h[s]%=bn;for(n&&(h.unshift(n),++a),c=h.length;h[--c]==0;)h.pop();return e.d=h,e.e=a,At?pt(e,y):e}function Mi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(jo+t)}function Ti(t){var e,n,r,a=t.length-1,s="",u=t[0];if(a>0){for(s+=u,e=1;e<a;e++)r=t[e]+"",n=_t-r.length,n&&(s+=hs(n)),s+=r;u=t[e],r=u+"",n=_t-r.length,n&&(s+=hs(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return s+u}var pa=function(){function t(r,a){var s,u=0,c=r.length;for(r=r.slice();c--;)s=r[c]*a+u,r[c]=s%bn|0,u=s/bn|0;return u&&r.unshift(u),r}function e(r,a,s,u){var c,h;if(s!=u)h=s>u?1:-1;else for(c=h=0;c<s;c++)if(r[c]!=a[c]){h=r[c]>a[c]?1:-1;break}return h}function n(r,a,s){for(var u=0;s--;)r[s]-=u,u=r[s]<a[s]?1:0,r[s]=u*bn+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,u){var c,h,d,m,y,v,_,E,T,A,I,k,D,F,q,H,N,R,j=r.constructor,B=r.s==a.s?1:-1,V=r.d,U=a.d;if(!r.s)return new j(r);if(!a.s)throw Error(Hr+"Division by zero");for(h=r.e-a.e,N=U.length,q=V.length,_=new j(B),E=_.d=[],d=0;U[d]==(V[d]||0);)++d;if(U[d]>(V[d]||0)&&--h,s==null?k=s=j.precision:u?k=s+(Jt(r)-Jt(a))+1:k=s,k<0)return new j(0);if(k=k/_t+2|0,d=0,N==1)for(m=0,U=U[0],k++;(d<q||m)&&k--;d++)D=m*bn+(V[d]||0),E[d]=D/U|0,m=D%U|0;else{for(m=bn/(U[0]+1)|0,m>1&&(U=t(U,m),V=t(V,m),N=U.length,q=V.length),F=N,T=V.slice(0,N),A=T.length;A<N;)T[A++]=0;R=U.slice(),R.unshift(0),H=U[0],U[1]>=bn/2&&++H;do m=0,c=e(U,T,N,A),c<0?(I=T[0],N!=A&&(I=I*bn+(T[1]||0)),m=I/H|0,m>1?(m>=bn&&(m=bn-1),y=t(U,m),v=y.length,A=T.length,c=e(y,T,v,A),c==1&&(m--,n(y,N<v?R:U,v))):(m==0&&(c=m=1),y=U.slice()),v=y.length,v<A&&y.unshift(0),n(T,y,A),c==-1&&(A=T.length,c=e(U,T,N,A),c<1&&(m++,n(T,N<A?R:U,A))),A=T.length):c===0&&(m++,T=[0]),E[d++]=m,c&&T[0]?T[A++]=V[F]||0:(T=[V[F]],A=1);while((F++<q||T[0]!==void 0)&&k--)}return E[0]||E.shift(),_.e=h,pt(_,u?s+Jt(_)+1:s)}}();function iM(t,e){var n,r,a,s,u,c,h=0,d=0,m=t.constructor,y=m.precision;if(Jt(t)>16)throw Error(Dw+Jt(t));if(!t.s)return new m(pr);for(At=!1,c=y,u=new m(.03125);t.abs().gte(.1);)t=t.times(u),d+=5;for(r=Math.log(So(2,d))/Math.LN10*2+5|0,c+=r,n=a=s=new m(pr),m.precision=c;;){if(a=pt(a.times(t),c),n=n.times(++h),u=s.plus(pa(a,n,c)),Ti(u.d).slice(0,c)===Ti(s.d).slice(0,c)){for(;d--;)s=pt(s.times(s),c);return m.precision=y,e==null?(At=!0,pt(s,y)):s}s=u}}function Jt(t){for(var e=t.e*_t,n=t.d[0];n>=10;n/=10)e++;return e}function fb(t,e,n){if(e>t.LN10.sd())throw At=!0,n&&(t.precision=n),Error(Hr+"LN10 precision limit exceeded");return pt(new t(t.LN10),e)}function hs(t){for(var e="";t--;)e+="0";return e}function Hf(t,e){var n,r,a,s,u,c,h,d,m,y=1,v=10,_=t,E=_.d,T=_.constructor,A=T.precision;if(_.s<1)throw Error(Hr+(_.s?"NaN":"-Infinity"));if(_.eq(pr))return new T(0);if(e==null?(At=!1,d=A):d=e,_.eq(10))return e==null&&(At=!0),fb(T,d);if(d+=v,T.precision=d,n=Ti(E),r=n.charAt(0),s=Jt(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Ti(_.d),r=n.charAt(0),y++;s=Jt(_),r>1?(_=new T("0."+n),s++):_=new T(r+"."+n.slice(1))}else return h=fb(T,d+2,A).times(s+""),_=Hf(new T(r+"."+n.slice(1)),d-v).plus(h),T.precision=A,e==null?(At=!0,pt(_,A)):_;for(c=u=_=pa(_.minus(pr),_.plus(pr),d),m=pt(_.times(_),d),a=3;;){if(u=pt(u.times(m),d),h=c.plus(pa(u,new T(a),d)),Ti(h.d).slice(0,d)===Ti(c.d).slice(0,d))return c=c.times(2),s!==0&&(c=c.plus(fb(T,d+2,A).times(s+""))),c=pa(c,new T(y),d),T.precision=A,e==null?(At=!0,pt(c,A)):c;c=h,a+=2}}function oR(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=Fu(n/_t),t.d=[],r=(n+1)%_t,n<0&&(r+=_t),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=_t;r<a;)t.d.push(+e.slice(r,r+=_t));e=e.slice(r),r=_t-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),At&&(t.e>pg||t.e<-pg))throw Error(Dw+n)}else t.s=0,t.e=0,t.d=[0];return t}function pt(t,e,n){var r,a,s,u,c,h,d,m,y=t.d;for(u=1,s=y[0];s>=10;s/=10)u++;if(r=e-u,r<0)r+=_t,a=e,d=y[m=0];else{if(m=Math.ceil((r+1)/_t),s=y.length,m>=s)return t;for(d=s=y[m],u=1;s>=10;s/=10)u++;r%=_t,a=r-_t+u}if(n!==void 0&&(s=So(10,u-a-1),c=d/s%10|0,h=e<0||y[m+1]!==void 0||d%s,h=n<4?(c||h)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||h||n==6&&(r>0?a>0?d/So(10,u-a):0:y[m-1])%10&1||n==(t.s<0?8:7))),e<1||!y[0])return h?(s=Jt(t),y.length=1,e=e-s-1,y[0]=So(10,(_t-e%_t)%_t),t.e=Fu(-e/_t)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(r==0?(y.length=m,s=1,m--):(y.length=m+1,s=So(10,_t-r),y[m]=a>0?(d/So(10,u-a)%So(10,a)|0)*s:0),h)for(;;)if(m==0){(y[0]+=s)==bn&&(y[0]=1,++t.e);break}else{if(y[m]+=s,y[m]!=bn)break;y[m--]=0,s=1}for(r=y.length;y[--r]===0;)y.pop();if(At&&(t.e>pg||t.e<-pg))throw Error(Dw+Jt(t));return t}function aM(t,e){var n,r,a,s,u,c,h,d,m,y,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),At?pt(e,_):e;if(h=t.d,y=e.d,r=e.e,d=t.e,h=h.slice(),u=d-r,u){for(m=u<0,m?(n=h,u=-u,c=y.length):(n=y,r=d,c=h.length),a=Math.max(Math.ceil(_/_t),c)+2,u>a&&(u=a,n.length=1),n.reverse(),a=u;a--;)n.push(0);n.reverse()}else{for(a=h.length,c=y.length,m=a<c,m&&(c=a),a=0;a<c;a++)if(h[a]!=y[a]){m=h[a]<y[a];break}u=0}for(m&&(n=h,h=y,y=n,e.s=-e.s),c=h.length,a=y.length-c;a>0;--a)h[c++]=0;for(a=y.length;a>u;){if(h[--a]<y[a]){for(s=a;s&&h[--s]===0;)h[s]=bn-1;--h[s],h[a]+=bn}h[a]-=y[a]}for(;h[--c]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(e.d=h,e.e=r,At?pt(e,_):e):new v(0)}function Yo(t,e,n){var r,a=Jt(t),s=Ti(t.d),u=s.length;return e?(n&&(r=n-u)>0?s=s.charAt(0)+"."+s.slice(1)+hs(r):u>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+hs(-a-1)+s,n&&(r=n-u)>0&&(s+=hs(r))):a>=u?(s+=hs(a+1-u),n&&(r=n-a-1)>0&&(s=s+"."+hs(r))):((r=a+1)<u&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-u)>0&&(a+1===u&&(s+="."),s+=hs(r))),t.s<0?"-"+s:s}function lR(t,e){if(t.length>e)return t.length=e,!0}function sM(t){var e,n,r;function a(s){var u=this;if(!(u instanceof a))return new a(s);if(u.constructor=a,s instanceof a){u.s=s.s,u.e=s.e,u.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(jo+s);if(s>0)u.s=1;else if(s<0)s=-s,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(s===~~s&&s<1e7){u.e=0,u.d=[s];return}return oR(u,s.toString())}else if(typeof s!="string")throw Error(jo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),u.s=-1):u.s=1,sG.test(s))oR(u,s);else throw Error(jo+s)}if(a.prototype=ye,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=sM,a.config=a.set=oG,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function oG(t){if(!t||typeof t!="object")throw Error(Hr+"Object expected");var e,n,r,a=["precision",1,$u,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(Fu(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(jo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(jo+n+": "+r);return this}var kw=sM(aG);pr=new kw(1);const at=kw;var lG=t=>t,oM={},lM=t=>t===oM,uR=t=>function e(){return arguments.length===0||arguments.length===1&&lM(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},uM=(t,e)=>t===1?e:uR(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(u=>u!==oM).length;return s>=t?e(...r):uM(t-s,uR(function(){for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];var d=r.map(m=>lM(m)?c.shift():m);return e(...d,...c)}))}),yp=t=>uM(t.length,t),N_=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},uG=yp((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),cG=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return lG;var a=n.reverse(),s=a[0],u=a.slice(1);return function(){return u.reduce((c,h)=>h(c),s(...arguments))}},D_=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),cM=t=>{var e=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e&&a.every((u,c)=>{var h;return u===((h=e)===null||h===void 0?void 0:h[c])})||(e=a,n=t(...a)),n}};function fM(t){var e;return t===0?e=1:e=Math.floor(new at(t).abs().log(10).toNumber())+1,e}function hM(t,e,n){for(var r=new at(t),a=0,s=[];r.lt(e)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}yp((t,e,n)=>{var r=+t,a=+e;return r+n*(a-r)});yp((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});yp((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var dM=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},mM=(t,e,n)=>{if(t.lte(0))return new at(0);var r=fM(t.toNumber()),a=new at(10).pow(r),s=t.div(a),u=r!==1?.05:.1,c=new at(Math.ceil(s.div(u).toNumber())).add(n).mul(u),h=c.mul(a);return e?new at(h.toNumber()):new at(Math.ceil(h.toNumber()))},fG=(t,e,n)=>{var r=new at(1),a=new at(t);if(!a.isint()&&n){var s=Math.abs(t);s<1?(r=new at(10).pow(fM(t)-1),a=new at(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new at(Math.floor(t)))}else t===0?a=new at(Math.floor((e-1)/2)):n||(a=new at(Math.floor(t)));var u=Math.floor((e-1)/2),c=cG(uG(h=>a.add(new at(h-u).mul(r)).toNumber()),N_);return c(0,e)},gM=function(e,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new at(0),tickMin:new at(0),tickMax:new at(0)};var u=mM(new at(n).sub(e).div(r-1),a,s),c;e<=0&&n>=0?c=new at(0):(c=new at(e).add(n).div(2),c=c.sub(new at(c).mod(u)));var h=Math.ceil(c.sub(e).div(u).toNumber()),d=Math.ceil(new at(n).sub(c).div(u).toNumber()),m=h+d+1;return m>r?gM(e,n,r,a,s+1):(m<r&&(d=n>0?d+(r-m):d,h=n>0?h:h+(r-m)),{step:u,tickMin:c.sub(new at(h).mul(u)),tickMax:c.add(new at(d).mul(u))})};function hG(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[u,c]=dM([e,n]);if(u===-1/0||c===1/0){var h=c===1/0?[u,...N_(0,r-1).map(()=>1/0)]:[...N_(0,r-1).map(()=>-1/0),c];return e>n?D_(h):h}if(u===c)return fG(u,r,a);var{step:d,tickMin:m,tickMax:y}=gM(u,c,s,a,0),v=hM(m,y.add(new at(.1).mul(d)),d);return e>n?D_(v):v}function dG(t,e){var[n,r]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,u]=dM([n,r]);if(s===-1/0||u===1/0)return[n,r];if(s===u)return[s];var c=Math.max(e,2),h=mM(new at(u).sub(s).div(c-1),a,0),d=[...hM(new at(s),new at(u),h),u];return a===!1&&(d=d.map(m=>Math.round(m))),n>r?D_(d):d}var mG=cM(hG),gG=cM(dG),pM=t=>t.rootProps.maxBarSize,pG=t=>t.rootProps.barGap,yM=t=>t.rootProps.barCategoryGap,yG=t=>t.rootProps.barSize,yh=t=>t.rootProps.stackOffset,Mw=t=>t.options.chartName,jw=t=>t.rootProps.syncId,vM=t=>t.rootProps.syncMethod,Lw=t=>t.options.eventEmitter,la={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},mr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},vp=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},vG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:la.angleAxisId,includeHidden:!1,name:void 0,reversed:la.reversed,scale:la.scale,tick:la.tick,tickCount:void 0,ticks:void 0,type:la.type,unit:void 0},bG={allowDataOverflow:mr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:mr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mr.scale,tick:mr.tick,tickCount:mr.tickCount,ticks:void 0,type:mr.type,unit:void 0},_G={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:la.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:la.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:la.scale,tick:la.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},wG={allowDataOverflow:mr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:mr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mr.scale,tick:mr.tick,tickCount:mr.tickCount,ticks:void 0,type:"category",unit:void 0},Vw=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?_G:vG,Uw=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?wG:bG,bp=t=>t.polarOptions,Bw=te([Ia,Ra,cn],nk),bM=te([bp,Bw],(t,e)=>{if(t!=null)return Yn(t.innerRadius,e,0)}),_M=te([bp,Bw],(t,e)=>{if(t!=null)return Yn(t.outerRadius,e,e*.8)}),EG=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},wM=te([bp],EG);te([Vw,wM],vp);var EM=te([Bw,bM,_M],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});te([Uw,EM],vp);var TG=te([st,bp,bM,_M,Ia,Ra],(t,e,n,r,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:u,cy:c,startAngle:h,endAngle:d}=e;return{cx:Yn(u,a,a/2),cy:Yn(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:d,clockWise:!1}}}),Ut=(t,e)=>e,vh=(t,e,n)=>n;function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){AG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AG(t,e,n){return(e=SG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SG(t){var e=xG(t,"string");return typeof e=="symbol"?e:e+""}function xG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k_=[0,"auto"],hr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Na=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??hr},dr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:k_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:lp},Bs=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??dr},OG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},zw=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??OG},Bt=(t,e,n)=>{switch(e){case"xAxis":return Na(t,n);case"yAxis":return Bs(t,n);case"zAxis":return zw(t,n);case"angleAxis":return Vw(t,n);case"radiusAxis":return Uw(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},CG=(t,e,n)=>{switch(e){case"xAxis":return Na(t,n);case"yAxis":return Bs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},bh=(t,e,n)=>{switch(e){case"xAxis":return Na(t,n);case"yAxis":return Bs(t,n);case"angleAxis":return Vw(t,n);case"radiusAxis":return Uw(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},TM=t=>t.graphicalItems.countOfBars>0;function qw(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var $w=t=>t.graphicalItems.cartesianItems,IG=te([Ut,vh],qw),Fw=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),_h=te([$w,Bt,IG],Fw),AM=t=>t.filter(e=>e.stackId===void 0),RG=te([_h],AM),Hw=t=>t.map(e=>e.data).filter(Boolean).flat(1),PG=te([_h],Hw),Kw=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},_p=te([PG,tM],Kw),Gw=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Nt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:Nt(a,r)}))):t.map(r=>({value:r})),wp=te([_p,Bt,_h],Gw);function SM(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function rl(t){return t.filter(e=>ki(e)||e instanceof Date).map(Number).filter(e=>$r(e)===!1)}function NG(t,e,n){return!n||typeof e!="number"||$r(e)?[]:n.length?rl(n.flatMap(r=>{var a=Nt(t,r.dataKey),s,u;if(Array.isArray(a)?[s,u]=a:s=u=a,!(!wr(s)||!wr(u)))return[e-s,e+u]})):[]}var xM=(t,e,n)=>{var r={},a=e.reduce((s,u)=>(u.stackId==null||(s[u.stackId]==null&&(s[u.stackId]=[]),s[u.stackId].push(u)),s),r);return Object.fromEntries(Object.entries(a).map(s=>{var[u,c]=s,h=c.map(d=>d.dataKey);return[u,{stackedData:$q(t,h,n),graphicalItems:c}]}))},M_=te([_p,_h,yh],xM),OM=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:a}=e;if(n!=="zAxis"){var s=Gq(t,r,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},DG=te([M_,nl,Ut],OM),CM=(t,e,n,r)=>n.length>0?t.flatMap(a=>n.flatMap(s=>{var u,c,h=(u=s.errorBars)===null||u===void 0?void 0:u.filter(m=>SM(r,m)),d=Nt(a,(c=e.dataKey)!==null&&c!==void 0?c:s.dataKey);return{value:d,errorDomain:NG(a,d,h)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:Nt(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),kG=te(_p,Bt,RG,Ut,CM);function MG(t){var{value:e}=t;if(ki(e)||e instanceof Date)return e}var jG=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=rl(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},LG=(t,e,n)=>{var r=t.map(MG).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&tD(r))?_k(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Yw=t=>{var e;if(t==null||!("domain"in t))return k_;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=rl(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:k_},Ww=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),u=Math.min(...s),c=Math.max(...s);return[u,c]}},IM=t=>t.referenceElements.dots,Hu=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),VG=te([IM,Ut,vh],Hu),RM=t=>t.referenceElements.areas,UG=te([RM,Ut,vh],Hu),PM=t=>t.referenceElements.lines,BG=te([PM,Ut,vh],Hu),NM=(t,e)=>{var n=rl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},zG=te(VG,Ut,NM),DM=(t,e)=>{var n=rl(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qG=te([UG,Ut],DM),kM=(t,e)=>{var n=rl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},$G=te(BG,Ut,kM),FG=te(zG,$G,qG,(t,e,n)=>Ww(t,n,e)),MM=te([Bt],Yw),Xw=(t,e,n,r,a)=>{var s=rG(e,t.allowDataOverflow);return s??iG(e,Ww(n,a,jG(r)),t.allowDataOverflow)},HG=te([Bt,MM,DG,kG,FG],Xw),KG=[0,1],Qw=(t,e,n,r,a,s,u)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:c,type:h}=t,d=Jo(e,s);return d&&c==null?_k(0,n.length):h==="category"?LG(r,t,d):a==="expand"?KG:u}},Zw=te([Bt,st,_p,wp,yh,Ut,HG],Qw),jM=(t,e,n,r,a)=>{if(t!=null){var{scale:s,type:u}=t;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":u==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":u==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(ch(s));return c in Ef?c:"point"}}},Ku=te([Bt,st,TM,Mw,Ut],jM);function GG(t){if(t!=null){if(t in Ef)return Ef[t]();var e="scale".concat(ch(t));if(e in Ef)return Ef[e]()}}function Jw(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=GG(e);if(a!=null){var s=a.domain(n).range(r);return Vq(s),s}}}var eE=(t,e,n)=>{var r=Yw(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Iu(t))return mG(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Iu(t))return gG(t,e.tickCount,e.allowDecimals)}},tE=te([Zw,bh,Ku],eE),nE=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Iu(e)&&Array.isArray(n)&&n.length>0){var a=e[0],s=n[0],u=e[1],c=n[n.length-1];return[Math.min(a,s),Math.max(u,c)]}return e},YG=te([Bt,Zw,tE,Ut],nE),WG=te(wp,Bt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(rl(t.map(c=>c.value))).sort((c,h)=>c-h);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var u=r[s+1]-r[s];n=Math.min(n,u)}return n/a}}),LM=te(WG,st,yM,cn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!wr(t))return 0;var s=e==="vertical"?r.height:r.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var u=Yn(n,t*s),c=t*s/2;return c-u-(c-u)/s*u}return 0}),XG=(t,e)=>{var n=Na(t,e);return n==null||typeof n.padding!="string"?0:LM(t,"xAxis",e,n.padding)},QG=(t,e)=>{var n=Bs(t,e);return n==null||typeof n.padding!="string"?0:LM(t,"yAxis",e,n.padding)},ZG=te(Na,XG,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),JG=te(Bs,QG,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),eY=te([cn,ZG,cp,up,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),tY=te([cn,st,JG,cp,up,(t,e,n)=>n],(t,e,n,r,a,s)=>{var{padding:u}=a;return s?[r.height-u.bottom,u.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),wh=(t,e,n,r)=>{var a;switch(e){case"xAxis":return eY(t,n,r);case"yAxis":return tY(t,n,r);case"zAxis":return(a=zw(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return wM(t);case"radiusAxis":return EM(t,n);default:return}},VM=te([Bt,wh],vp),Gu=te([Bt,Ku,YG,VM],Jw);te(_h,Ut,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>SM(e,n)));function UM(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Ep=(t,e)=>e,Tp=(t,e,n)=>n,nY=te(iw,Ep,Tp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(UM)),rY=te(aw,Ep,Tp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(UM)),BM=(t,e)=>({width:t.width,height:e.height}),iY=(t,e)=>{var n=typeof e.width=="number"?e.width:lp;return{width:n,height:t.height}},zM=te(cn,Na,BM),aY=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},sY=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},oY=te(Ra,cn,nY,Ep,Tp,(t,e,n,r,a)=>{var s={},u;return n.forEach(c=>{var h=BM(e,c);u==null&&(u=aY(e,r,t));var d=r==="top"&&!a||r==="bottom"&&a;s[c.id]=u-Number(d)*h.height,u+=(d?-1:1)*h.height}),s}),lY=te(Ia,cn,rY,Ep,Tp,(t,e,n,r,a)=>{var s={},u;return n.forEach(c=>{var h=iY(e,c);u==null&&(u=sY(e,r,t));var d=r==="left"&&!a||r==="right"&&a;s[c.id]=u-Number(d)*h.width,u+=(d?-1:1)*h.width}),s}),uY=(t,e)=>{var n=cn(t),r=Na(t,e);if(r!=null){var a=oY(t,r.orientation,r.mirror),s=a[e];return s==null?{x:n.left,y:0}:{x:n.left,y:s}}},cY=(t,e)=>{var n=cn(t),r=Bs(t,e);if(r!=null){var a=lY(t,r.orientation,r.mirror),s=a[e];return s==null?{x:0,y:n.top}:{x:s,y:n.top}}},qM=te(cn,Bs,(t,e)=>{var n=typeof e.width=="number"?e.width:lp;return{width:n,height:t.height}}),fR=(t,e,n)=>{switch(e){case"xAxis":return zM(t,n).width;case"yAxis":return qM(t,n).height;default:return}},$M=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:u}=n,c=Jo(t,r),h=e.map(d=>d.value);if(u&&c&&s==="category"&&a&&tD(h))return h}},rE=te([st,wp,Bt,Ut],$M),FM=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,u=Jo(t,r);if(u&&(a==="number"||s!=="auto"))return e.map(c=>c.value)}},iE=te([st,wp,bh,Ut],FM);te([st,CG,Ku,Gu,rE,iE,wh,tE,Ut],(t,e,n,r,a,s,u,c,h)=>{if(e==null)return null;var d=Jo(t,h);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:h,categoricalDomain:s,duplicateDomain:a,isCategorical:d,niceTicks:c,range:u,realScaleType:n,scale:r}});var fY=(t,e,n,r,a,s,u,c,h)=>{if(!(e==null||r==null)){var d=Jo(t,h),{type:m,ticks:y,tickCount:v}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=m==="category"&&r.bandwidth?r.bandwidth()/_:0;E=h==="angleAxis"&&s!=null&&s.length>=2?Pn(s[0]-s[1])*2*E:E;var T=y||a;if(T){var A=T.map((I,k)=>{var D=u?u.indexOf(I):I;return{index:k,coordinate:r(D)+E,value:I,offset:E}});return A.filter(I=>!$r(I.coordinate))}return d&&c?c.map((I,k)=>({coordinate:r(I)+E,value:I,index:k,offset:E})):r.ticks?r.ticks(v).map(I=>({coordinate:r(I)+E,value:I,offset:E})):r.domain().map((I,k)=>({coordinate:r(I)+E,value:u?u[I]:I,index:k,offset:E}))}},HM=te([st,bh,Ku,Gu,tE,wh,rE,iE,Ut],fY),hY=(t,e,n,r,a,s,u)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=Jo(t,u),{tickCount:h}=e,d=0;return d=u==="angleAxis"&&r?.length>=2?Pn(r[0]-r[1])*2*d:d,c&&s?s.map((m,y)=>({coordinate:n(m)+d,value:m,index:y,offset:d})):n.ticks?n.ticks(h).map(m=>({coordinate:n(m)+d,value:m,offset:d})):n.domain().map((m,y)=>({coordinate:n(m)+d,value:a?a[m]:m,index:y,offset:d}))}},Ru=te([st,bh,Gu,wh,rE,iE,Ut],hY),ks=te(Bt,Gu,(t,e)=>{if(!(t==null||e==null))return yg(yg({},t),{},{scale:e})}),dY=te([Bt,Ku,Zw,VM],Jw);te((t,e,n)=>zw(t,n),dY,(t,e)=>{if(!(t==null||e==null))return yg(yg({},t),{},{scale:e})});var mY=te([st,iw,aw],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),KM=t=>t.options.defaultTooltipEventType,GM=t=>t.options.validateTooltipEventTypes;function YM(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function aE(t,e){var n=KM(t),r=GM(t);return YM(e,n,r)}function gY(t){return Te(e=>aE(e,t))}var WM=(t,e)=>{var n,r=Number(e);if(!($r(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},pY=t=>t.tooltip.settings,ys={active:!1,index:null,dataKey:void 0,coordinate:void 0},yY={itemInteraction:{click:ys,hover:ys},axisInteraction:{click:ys,hover:ys},keyboardInteraction:ys,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},XM=Kr({name:"tooltip",initialState:yY,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=ga(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:vY,removeTooltipEntrySettings:bY,setTooltipSettingsState:_Y,setActiveMouseOverItemIndex:QM,mouseLeaveItem:wY,mouseLeaveChart:ZM,setActiveClickItemIndex:EY,setMouseOverAxisIndex:JM,setMouseClickAxisIndex:TY,setSyncInteraction:j_,setKeyboardInteraction:L_}=XM.actions,AY=XM.reducer;function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){SY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SY(t,e,n){return(e=xY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xY(t){var e=OY(t,"string");return typeof e=="symbol"?e:e+""}function OY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CY(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function IY(t){return t.index!=null}var ej=(t,e,n,r)=>{if(e==null)return ys;var a=CY(t,e,n);if(a==null)return ys;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(IY(a)){if(s)return cm(cm({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return cm(cm({},ys),{},{coordinate:a.coordinate})},sE=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!wr(r))return n;var a=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(a,Math.min(r,s)))},tj=(t,e,n,r,a,s,u,c)=>{if(!(s==null||c==null)){var h=u[0],d=h==null?void 0:c(h.positions,s);if(d!=null)return d;var m=a?.[Number(s)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},nj=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var u;return((u=s.settings)===null||u===void 0?void 0:u.dataKey)===a})},Eh=t=>t.options.tooltipPayloadSearcher,Yu=t=>t.tooltip;function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){RY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RY(t,e,n){return(e=PY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PY(t){var e=NY(t,"string");return typeof e=="symbol"?e:e+""}function NY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DY(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function kY(t,e){return t??e}var rj=(t,e,n,r,a,s,u)=>{if(!(e==null||s==null)){var{chartData:c,computedData:h,dataStartIndex:d,dataEndIndex:m}=n,y=[];return t.reduce((v,_)=>{var E,{dataDefinedOnItem:T,settings:A}=_,I=kY(T,c),k=DY(I,d,m),D=(E=A?.dataKey)!==null&&E!==void 0?E:r?.dataKey,F=A?.nameKey,q;if(r!=null&&r.dataKey&&Array.isArray(k)&&!Array.isArray(k[0])&&u==="axis"?q=P8(k,r.dataKey,a):q=s(k,e,h,F),Array.isArray(q))q.forEach(N=>{var R=mR(mR({},A),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});v.push(QC({tooltipEntrySettings:R,dataKey:N.dataKey,payload:N.payload,value:Nt(N.payload,N.dataKey),name:N.name}))});else{var H;v.push(QC({tooltipEntrySettings:A,dataKey:D,payload:q,value:Nt(q,D),name:(H=Nt(q,F))!==null&&H!==void 0?H:A?.name}))}return v},y)}},wn=t=>{var e=st(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Wu=t=>t.tooltip.settings.axisId,Dn=t=>{var e=wn(t),n=Wu(t);return bh(t,e,n)},oE=te([Dn,st,TM,Mw,wn],jM),MY=te([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),jY=te([wn,Wu],qw),Ap=te([MY,Dn,jY],Fw),LY=te([Ap],Hw),il=te([LY,nl],Kw),lE=te([il,Dn,Ap],Gw),VY=te([Dn],Yw),UY=te([il,Ap,yh],xM),BY=te([UY,nl,wn],OM),zY=te([Ap],AM),qY=te([il,Dn,zY,wn],CM),$Y=te([IM,wn,Wu],Hu),FY=te([$Y,wn],NM),HY=te([RM,wn,Wu],Hu),KY=te([HY,wn],DM),GY=te([PM,wn,Wu],Hu),YY=te([GY,wn],kM),WY=te([FY,YY,KY],Ww),XY=te([Dn,VY,BY,qY,WY],Xw),ij=te([Dn,st,il,lE,yh,wn,XY],Qw),QY=te([ij,Dn,oE],eE),ZY=te([Dn,ij,QY,wn],nE),aj=t=>{var e=wn(t),n=Wu(t),r=!1;return wh(t,e,n,r)},sj=te([Dn,aj],vp),oj=te([Dn,oE,ZY,sj],Jw),JY=te([st,lE,Dn,wn],$M),eW=te([st,lE,Dn,wn],FM),tW=(t,e,n,r,a,s,u,c)=>{if(e){var{type:h}=e,d=Jo(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,y=h==="category"&&r.bandwidth?r.bandwidth()/m:0;return y=c==="angleAxis"&&a!=null&&a?.length>=2?Pn(a[0]-a[1])*2*y:y,d&&u?u.map((v,_)=>({coordinate:r(v)+y,value:v,index:_,offset:y})):r.domain().map((v,_)=>({coordinate:r(v)+y,value:s?s[v]:v,index:_,offset:y}))}}},Da=te([st,Dn,oE,oj,aj,JY,eW,wn],tW),uE=te([KM,GM,pY],(t,e,n)=>YM(n.shared,t,e)),lj=t=>t.tooltip.settings.trigger,cE=t=>t.tooltip.settings.defaultIndex,Sp=te([Yu,uE,lj,cE],ej),Wo=te([Sp,il],sE),uj=te([Da,Wo],WM),cj=te([Sp],t=>{if(t)return t.dataKey}),fj=te([Yu,uE,lj,cE],nj),nW=te([Ia,Ra,st,cn,Da,cE,fj,Eh],tj),rW=te([Sp,nW],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),iW=te([Sp],t=>t.active),aW=te([fj,Wo,nl,Dn,uj,Eh,uE],rj);te([aW],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){sW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sW(t,e,n){return(e=oW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oW(t){var e=lW(t,"string");return typeof e=="symbol"?e:e+""}function lW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uW=()=>Te(Dn),cW=()=>{var t=uW(),e=Te(Da),n=Te(oj);return rw(pR(pR({},t),{},{scale:n}),e)},fW=()=>Te(Mw),fE=(t,e)=>e,hj=(t,e,n)=>n,hE=(t,e,n,r)=>r,hW=te(Da,t=>ep(t,e=>e.coordinate)),dE=te([Yu,fE,hj,hE],ej),dj=te([dE,il],sE),dW=(t,e,n)=>{if(e!=null){var r=Yu(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},mj=te([Yu,fE,hj,hE],nj),vg=te([Ia,Ra,st,cn,Da,hE,mj,Eh],tj),mW=te([dE,vg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),gj=te(Da,dj,WM),gW=te([mj,dj,nl,Dn,gj,Eh,fE],rj),pW=te([dE],t=>({isActive:t.active,activeIndex:t.index})),yW=(t,e,n,r,a,s,u,c)=>{if(!(!t||!e||!r||!a||!s)){var h=Yq(t.chartX,t.chartY,e,n,c);if(h){var d=Xq(h,e),m=jq(d,u,s,r,a),y=Wq(e,s,m,h);return{activeIndex:String(m),activeCoordinate:y}}}};function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V_.apply(null,arguments)}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){vW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vW(t,e,n){return(e=bW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bW(t){var e=_W(t,"string");return typeof e=="symbol"?e:e+""}function _W(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wW(t){var{coordinate:e,payload:n,index:r,offset:a,tooltipAxisBandSize:s,layout:u,cursor:c,tooltipEventType:h,chartName:d}=t,m=e,y=n,v=r;if(!c||!m||d!=="ScatterChart"&&h!=="axis")return null;var _,E;if(d==="ScatterChart")_=m,E=j$;else if(d==="BarChart")_=L$(u,m,a,s),E=pk;else if(u==="radial"){var{cx:T,cy:A,radius:I,startAngle:k,endAngle:D}=yk(m);_={cx:T,cy:A,startAngle:k,endAngle:D,innerRadius:I,outerRadius:I},E=bk}else _={points:TF(u,m,a)},E=hk;var F=typeof c=="object"&&"className"in c?c.className:void 0,q=fm(fm(fm(fm({stroke:"#ccc",pointerEvents:"none"},a),_),mt(c,!1)),{},{payload:y,payloadIndex:v,className:dt("recharts-tooltip-cursor",F)});return O.isValidElement(c)?O.cloneElement(c,q):O.createElement(E,q)}function EW(t){var e=cW(),n=a$(),r=ow(),a=fW();return O.createElement(wW,V_({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var pj=O.createContext(null),TW=()=>O.useContext(pj),hb={exports:{}},vR;function AW(){return vR||(vR=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(h,d,m){this.fn=h,this.context=d,this.once=m||!1}function s(h,d,m,y,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new a(m,y||h,v),E=n?n+d:d;return h._events[E]?h._events[E].fn?h._events[E]=[h._events[E],_]:h._events[E].push(_):(h._events[E]=_,h._eventsCount++),h}function u(h,d){--h._eventsCount===0?h._events=new r:delete h._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],m,y;if(this._eventsCount===0)return d;for(y in m=this._events)e.call(m,y)&&d.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},c.prototype.listeners=function(d){var m=n?n+d:d,y=this._events[m];if(!y)return[];if(y.fn)return[y.fn];for(var v=0,_=y.length,E=new Array(_);v<_;v++)E[v]=y[v].fn;return E},c.prototype.listenerCount=function(d){var m=n?n+d:d,y=this._events[m];return y?y.fn?1:y.length:0},c.prototype.emit=function(d,m,y,v,_,E){var T=n?n+d:d;if(!this._events[T])return!1;var A=this._events[T],I=arguments.length,k,D;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),I){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,m),!0;case 3:return A.fn.call(A.context,m,y),!0;case 4:return A.fn.call(A.context,m,y,v),!0;case 5:return A.fn.call(A.context,m,y,v,_),!0;case 6:return A.fn.call(A.context,m,y,v,_,E),!0}for(D=1,k=new Array(I-1);D<I;D++)k[D-1]=arguments[D];A.fn.apply(A.context,k)}else{var F=A.length,q;for(D=0;D<F;D++)switch(A[D].once&&this.removeListener(d,A[D].fn,void 0,!0),I){case 1:A[D].fn.call(A[D].context);break;case 2:A[D].fn.call(A[D].context,m);break;case 3:A[D].fn.call(A[D].context,m,y);break;case 4:A[D].fn.call(A[D].context,m,y,v);break;default:if(!k)for(q=1,k=new Array(I-1);q<I;q++)k[q-1]=arguments[q];A[D].fn.apply(A[D].context,k)}}return!0},c.prototype.on=function(d,m,y){return s(this,d,m,y,!1)},c.prototype.once=function(d,m,y){return s(this,d,m,y,!0)},c.prototype.removeListener=function(d,m,y,v){var _=n?n+d:d;if(!this._events[_])return this;if(!m)return u(this,_),this;var E=this._events[_];if(E.fn)E.fn===m&&(!v||E.once)&&(!y||E.context===y)&&u(this,_);else{for(var T=0,A=[],I=E.length;T<I;T++)(E[T].fn!==m||v&&!E[T].once||y&&E[T].context!==y)&&A.push(E[T]);A.length?this._events[_]=A.length===1?A[0]:A:u(this,_)}return this},c.prototype.removeAllListeners=function(d){var m;return d?(m=n?n+d:d,this._events[m]&&u(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(hb)),hb.exports}var SW=AW();const xW=Sa(SW);var Kf=new xW,U_="recharts.syncEvent.tooltip",bR="recharts.syncEvent.brush";function yj(t,e){if(e){var n=Number.parseInt(e,10);if(!$r(n))return t?.[n]}}var OW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},vj=Kr({name:"options",initialState:OW,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),CW=vj.reducer,{createEventEmitter:IW}=vj.actions;function RW(t){return t.tooltip.syncInteraction}var PW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},bj=Kr({name:"chartData",initialState:PW,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:_R,setDataStartEndIndexes:NW,setComputedData:Jte}=bj.actions,DW=bj.reducer,_j=()=>{};function kW(){var t=Te(jw),e=Te(Lw),n=Dt(),r=Te(vM),a=Te(Da),s=ow(),u=sw(),c=Te(h=>h.rootProps.className);O.useEffect(()=>{if(t==null)return _j;var h=(d,m,y)=>{if(e!==y&&t===d){if(r==="index"){n(m);return}if(a!=null){var v;if(typeof r=="function"){var _={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},E=r(a,_);v=a[E]}else r==="value"&&(v=a.find(H=>String(H.value)===m.payload.label));var{coordinate:T}=m.payload;if(v==null||m.payload.active===!1||T==null||u==null){n(j_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:A,y:I}=T,k=Math.min(A,u.x+u.width),D=Math.min(I,u.y+u.height),F={x:s==="horizontal"?v.coordinate:k,y:s==="horizontal"?D:v.coordinate},q=j_({active:m.payload.active,coordinate:F,dataKey:m.payload.dataKey,index:String(v.index),label:m.payload.label});n(q)}}};return Kf.on(U_,h),()=>{Kf.off(U_,h)}},[c,n,e,t,r,a,s,u])}function MW(){var t=Te(jw),e=Te(Lw),n=Dt();O.useEffect(()=>{if(t==null)return _j;var r=(a,s,u)=>{e!==u&&t===a&&n(NW(s))};return Kf.on(bR,r),()=>{Kf.off(bR,r)}},[n,e,t])}function jW(){var t=Dt();O.useEffect(()=>{t(IW())},[t]),kW(),MW()}function LW(t,e,n,r,a,s){var u=Te(v=>dW(v,t,e)),c=Te(Lw),h=Te(jw),d=Te(vM),m=Te(RW),y=m?.active;O.useEffect(()=>{if(!y&&h!=null&&c!=null){var v=j_({active:s,coordinate:n,dataKey:u,index:a,label:typeof r=="number"?String(r):r});Kf.emit(U_,h,v,c)}},[y,n,u,a,r,c,h,d,s])}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ER(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){VW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VW(t,e,n){return(e=UW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UW(t){var e=BW(t,"string");return typeof e=="symbol"?e:e+""}function BW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zW(t){return t.dataKey}function qW(t,e){return O.isValidElement(t)?O.cloneElement(t,e):typeof t=="function"?O.createElement(t,e):O.createElement(m$,e)}var TR=[],$W={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!zu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function bg(t){var e=ji(t,$W),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,content:u,filterNull:c,isAnimationActive:h,offset:d,payloadUniqBy:m,position:y,reverseDirection:v,useTranslate3d:_,wrapperStyle:E,cursor:T,shared:A,trigger:I,defaultIndex:k,portal:D,axisId:F}=e,q=Dt(),H=typeof k=="number"?String(k):k;O.useEffect(()=>{q(_Y({shared:A,trigger:I,axisId:F,active:n,defaultIndex:H}))},[q,A,I,F,n,H]);var N=sw(),R=fk(),j=gY(A),{activeIndex:B,isActive:V}=Te(xe=>pW(xe,j,I,H)),U=Te(xe=>gW(xe,j,I,H)),L=Te(xe=>gj(xe,j,I,H)),_e=Te(xe=>mW(xe,j,I,H)),Se=U,Z=TW(),ue=n??V,[de,Ce]=x7([Se,ue]),$=j==="axis"?L:void 0;LW(j,I,_e,$,B,ue);var ae=D??Z;if(ae==null)return null;var re=Se??TR;ue||(re=TR),c&&re.length&&(re=Zz(Se.filter(xe=>xe.value!=null&&(xe.hide!==!0||e.includeHidden)),m,zW));var ce=re.length>0,be=O.createElement(w$,{allowEscapeViewBox:r,animationDuration:a,animationEasing:s,isAnimationActive:h,active:ue,coordinate:_e,hasPayload:ce,offset:d,position:y,reverseDirection:v,useTranslate3d:_,viewBox:N,wrapperStyle:E,lastBoundingBox:de,innerRef:Ce,hasPortalFromProps:!!D},qW(u,ER(ER({},e),{},{payload:re,label:$,active:ue,coordinate:_e,accessibilityLayer:R})));return O.createElement(O.Fragment,null,$8.createPortal(be,ae),ue&&O.createElement(EW,{cursor:T,tooltipEventType:j,coordinate:_e,payload:Se,index:B}))}var db={},mb={},gb={},AR;function FW(){return AR||(AR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:s}={}){let u,c=null;const h=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),m=()=>{c!==null&&(n.apply(u,c),u=void 0,c=null)},y=()=>{d&&m(),T()};let v=null;const _=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,y()},r)},E=()=>{v!==null&&(clearTimeout(v),v=null)},T=()=>{E(),u=void 0,c=null},A=()=>{m()},I=function(...k){if(a?.aborted)return;u=this,c=k;const D=v==null;_(),h&&D&&m()};return I.schedule=_,I.cancel=T,I.flush=A,a?.addEventListener("abort",T,{once:!0}),I}t.debounce=e}(gb)),gb}var SR;function HW(){return SR||(SR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FW();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:u=!1,trailing:c=!0,maxWait:h}=s,d=Array(2);u&&(d[0]="leading"),c&&(d[1]="trailing");let m,y=null;const v=e.debounce(function(...T){m=r.apply(this,T),y=null},a,{edges:d}),_=function(...T){return h!=null&&(y===null&&(y=Date.now()),Date.now()-y>=h)?(m=r.apply(this,T),y=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,T),m)},E=()=>(v.flush(),m);return _.cancel=v.cancel,_.flush=E,_}t.debounce=n}(mb)),mb}var xR;function KW(){return xR||(xR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HW();function n(r,a=0,s={}){const{leading:u=!0,trailing:c=!0}=s;return e.debounce(r,a,{leading:u,maxWait:a,trailing:c})}t.throttle=n}(db)),db}var pb,OR;function GW(){return OR||(OR=1,pb=KW().throttle),pb}var YW=GW();const WW=Sa(YW);var yb=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s]};function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){XW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XW(t,e,n){return(e=QW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QW(t){var e=ZW(t,"string");return typeof e=="symbol"?e:e+""}function ZW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _g=O.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:u=0,minHeight:c,maxHeight:h,children:d,debounce:m=0,id:y,className:v,onResize:_,style:E={}}=t,T=O.useRef(null),A=O.useRef();A.current=_,O.useImperativeHandle(e,()=>T.current);var[I,k]=O.useState({containerWidth:r.width,containerHeight:r.height}),D=O.useCallback((q,H)=>{k(N=>{var R=Math.round(q),j=Math.round(H);return N.containerWidth===R&&N.containerHeight===j?N:{containerWidth:R,containerHeight:j}})},[]);O.useEffect(()=>{var q=j=>{var B,{width:V,height:U}=j[0].contentRect;D(V,U),(B=A.current)===null||B===void 0||B.call(A,V,U)};m>0&&(q=WW(q,m,{trailing:!0,leading:!1}));var H=new ResizeObserver(q),{width:N,height:R}=T.current.getBoundingClientRect();return D(N,R),H.observe(T.current),()=>{H.disconnect()}},[D,m]);var F=O.useMemo(()=>{var{containerWidth:q,containerHeight:H}=I;if(q<0||H<0)return null;yb(Oo(a)||Oo(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,s),yb(!n||n>0,"The aspect(%s) must be greater than zero.",n);var N=Oo(a)?q:a,R=Oo(s)?H:s;return n&&n>0&&(N?R=N/n:R&&(N=R*n),h&&R>h&&(R=h)),yb(N>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,R,a,s,u,c,n),O.Children.map(d,j=>O.cloneElement(j,{width:N,height:R,style:vb({width:N,height:R},j.props.style)}))},[n,d,s,h,c,u,I,a]);return O.createElement("div",{id:y?"".concat(y):void 0,className:dt("recharts-responsive-container",v),style:vb(vb({},E),{},{width:a,height:s,minWidth:u,minHeight:c,maxHeight:h}),ref:T},O.createElement("div",{style:{width:0,height:0,overflow:"visible"}},F))}),Th=t=>null;Th.displayName="Cell";function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function B_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){JW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JW(t,e,n){return(e=eX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eX(t){var e=tX(t,"string");return typeof e=="symbol"?e:e+""}function tX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jl={widthCache:{},cacheCount:0},nX=2e3,rX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RR="recharts_measurement_span";function iX(t){var e=B_({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var If=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||zu.isSsr)return{width:0,height:0};var r=iX(n),a=JSON.stringify({text:e,copyStyle:r});if(Jl.widthCache[a])return Jl.widthCache[a];try{var s=document.getElementById(RR);s||(s=document.createElement("span"),s.setAttribute("id",RR),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var u=B_(B_({},rX),r);Object.assign(s.style,u),s.textContent="".concat(e);var c=s.getBoundingClientRect(),h={width:c.width,height:c.height};return Jl.widthCache[a]=h,++Jl.cacheCount>nX&&(Jl.cacheCount=0,Jl.widthCache={}),h}catch{return{width:0,height:0}}},PR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},oX=Object.keys(wj),au="NaN";function lX(t,e){return t*wj[e]}class Jn{static parse(e){var n,[,r,a]=(n=sX.exec(e))!==null&&n!==void 0?n:[];return new Jn(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,$r(e)&&(this.unit=""),n!==""&&!aX.test(n)&&(this.num=NaN,this.unit=""),oX.includes(n)&&(this.num=lX(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Jn(NaN,""):new Jn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Jn(NaN,""):new Jn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Jn(NaN,""):new Jn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Jn(NaN,""):new Jn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $r(this.num)}}function Ej(t){if(t.includes(au))return au;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,s]=(n=PR.exec(e))!==null&&n!==void 0?n:[],u=Jn.parse(r??""),c=Jn.parse(s??""),h=a==="*"?u.multiply(c):u.divide(c);if(h.isNaN())return au;e=e.replace(PR,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,m,y,v]=(d=NR.exec(e))!==null&&d!==void 0?d:[],_=Jn.parse(m??""),E=Jn.parse(v??""),T=y==="+"?_.add(E):_.subtract(E);if(T.isNaN())return au;e=e.replace(NR,T.toString())}return e}var DR=/\(([^()]*)\)/;function uX(t){for(var e=t,n;(n=DR.exec(e))!=null;){var[,r]=n;e=e.replace(DR,Ej(r))}return e}function cX(t){var e=t.replace(/\s+/g,"");return e=uX(e),e=Ej(e),e}function fX(t){try{return cX(t)}catch{return au}}function bb(t){var e=fX(t.slice(5,-1));return e===au?"":e}var hX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dX=["dx","dy","angle","className","breakAll"];function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z_.apply(null,arguments)}function kR(t,e){if(t==null)return{};var n,r,a=mX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function mX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tj=/[ \f\n\r\t\v\u2028\u2029]+/,Aj=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];Zt(e)||(n?a=e.toString().split(""):a=e.toString().split(Tj));var s=a.map(c=>({word:c,width:If(c,r).width})),u=n?0:If("",r).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},gX=(t,e,n,r,a)=>{var{maxLines:s,children:u,style:c,breakAll:h}=t,d=Ee(s),m=u,y=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce((U,L)=>{var{word:_e,width:Se}=L,Z=U[U.length-1];if(Z&&(r==null||a||Z.width+Se+n<Number(r)))Z.words.push(_e),Z.width+=Se+n;else{var ue={words:[_e],width:Se};U.push(ue)}return U},[])},v=y(e),_=B=>B.reduce((V,U)=>V.width>U.width?V:U);if(!d||a)return v;var E=v.length>s||_(v).width>Number(r);if(!E)return v;for(var T="",A=B=>{var V=m.slice(0,B),U=Aj({breakAll:h,style:c,children:V+T}).wordsWithComputedWidth,L=y(U),_e=L.length>s||_(L).width>Number(r);return[_e,L]},I=0,k=m.length-1,D=0,F;I<=k&&D<=m.length-1;){var q=Math.floor((I+k)/2),H=q-1,[N,R]=A(H),[j]=A(q);if(!N&&!j&&(I=q+1),N&&j&&(k=q-1),!N&&j){F=R;break}D++}return F||v},MR=t=>{var e=Zt(t)?[]:t.toString().split(Tj);return[{words:e}]},pX=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:u}=t;if((e||n)&&!zu.isSsr){var c,h,d=Aj({breakAll:s,children:r,style:a});if(d){var{wordsWithComputedWidth:m,spaceWidth:y}=d;c=m,h=y}else return MR(r);return gX({breakAll:s,children:r,maxLines:u,style:a},c,h,e,n)}return MR(r)},jR="#808080",xp=O.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:u=!1,textAnchor:c="start",verticalAnchor:h="end",fill:d=jR}=t,m=kR(t,hX),y=O.useMemo(()=>pX({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:v,dy:_,angle:E,className:T,breakAll:A}=m,I=kR(m,dX);if(!ki(n)||!ki(r))return null;var k=n+(Ee(v)?v:0),D=r+(Ee(_)?_:0),F;switch(h){case"start":F=bb("calc(".concat(s,")"));break;case"middle":F=bb("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:F=bb("calc(".concat(y.length-1," * -").concat(a,")"));break}var q=[];if(u){var H=y[0].width,{width:N}=m;q.push("scale(".concat(Ee(N)?N/H:1,")"))}return E&&q.push("rotate(".concat(E,", ").concat(k,", ").concat(D,")")),q.length&&(I.transform=q.join(" ")),O.createElement("text",z_({},mt(I,!0),{ref:e,x:k,y:D,className:dt("recharts-text",T),textAnchor:c,fill:d.includes("url")?jR:d}),y.map((R,j)=>{var B=R.words.join(A?"":" ");return O.createElement("tspan",{x:k,dy:j===0?F:a,key:"".concat(B,"-").concat(j)},B)}))});xp.displayName="Text";var yX=["offset"],vX=["labelRef"];function LR(t,e){if(t==null)return{};var n,r,a=bX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function bX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){_X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _X(t,e,n){return(e=wX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wX(t){var e=EX(t,"string");return typeof e=="symbol"?e:e+""}function EX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ua(){return ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ua.apply(null,arguments)}var TX=t=>{var{value:e,formatter:n}=t,r=Zt(t.children)?e:t.children;return typeof n=="function"?n(r):r},mE=t=>t!=null&&typeof t=="function",AX=(t,e)=>{var n=Pn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},SX=(t,e,n)=>{var{position:r,viewBox:a,offset:s,className:u}=t,{cx:c,cy:h,innerRadius:d,outerRadius:m,startAngle:y,endAngle:v,clockWise:_}=a,E=(d+m)/2,T=AX(y,v),A=T>=0?1:-1,I,k;r==="insideStart"?(I=y+A*s,k=_):r==="insideEnd"?(I=v-A*s,k=!_):r==="end"&&(I=v+A*s,k=_),k=T<=0?k:!k;var D=Qt(c,h,E,I),F=Qt(c,h,E,I+(k?1:-1)*359),q="M".concat(D.x,",").concat(D.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(k?0:1,`,
    `).concat(F.x,",").concat(F.y),H=Zt(t.id)?Eu("recharts-radial-line-"):t.id;return O.createElement("text",ua({},n,{dominantBaseline:"central",className:dt("recharts-radial-bar-label",u)}),O.createElement("defs",null,O.createElement("path",{id:H,d:q})),O.createElement("textPath",{xlinkHref:"#".concat(H)},e))},xX=t=>{var{viewBox:e,offset:n,position:r}=t,{cx:a,cy:s,innerRadius:u,outerRadius:c,startAngle:h,endAngle:d}=e,m=(h+d)/2;if(r==="outside"){var{x:y,y:v}=Qt(a,s,c+n,m);return{x:y,y:v,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var _=(u+c)/2,{x:E,y:T}=Qt(a,s,_,m);return{x:E,y:T,textAnchor:"middle",verticalAnchor:"middle"}},OX=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,{x:s,y:u,width:c,height:h}=e,d=h>=0?1:-1,m=d*r,y=d>0?"end":"start",v=d>0?"start":"end",_=c>=0?1:-1,E=_*r,T=_>0?"end":"start",A=_>0?"start":"end";if(a==="top"){var I={x:s+c/2,y:u-d*r,textAnchor:"middle",verticalAnchor:y};return Gt(Gt({},I),n?{height:Math.max(u-n.y,0),width:c}:{})}if(a==="bottom"){var k={x:s+c/2,y:u+h+m,textAnchor:"middle",verticalAnchor:v};return Gt(Gt({},k),n?{height:Math.max(n.y+n.height-(u+h),0),width:c}:{})}if(a==="left"){var D={x:s-E,y:u+h/2,textAnchor:T,verticalAnchor:"middle"};return Gt(Gt({},D),n?{width:Math.max(D.x-n.x,0),height:h}:{})}if(a==="right"){var F={x:s+c+E,y:u+h/2,textAnchor:A,verticalAnchor:"middle"};return Gt(Gt({},F),n?{width:Math.max(n.x+n.width-F.x,0),height:h}:{})}var q=n?{width:c,height:h}:{};return a==="insideLeft"?Gt({x:s+E,y:u+h/2,textAnchor:A,verticalAnchor:"middle"},q):a==="insideRight"?Gt({x:s+c-E,y:u+h/2,textAnchor:T,verticalAnchor:"middle"},q):a==="insideTop"?Gt({x:s+c/2,y:u+m,textAnchor:"middle",verticalAnchor:v},q):a==="insideBottom"?Gt({x:s+c/2,y:u+h-m,textAnchor:"middle",verticalAnchor:y},q):a==="insideTopLeft"?Gt({x:s+E,y:u+m,textAnchor:A,verticalAnchor:v},q):a==="insideTopRight"?Gt({x:s+c-E,y:u+m,textAnchor:T,verticalAnchor:v},q):a==="insideBottomLeft"?Gt({x:s+E,y:u+h-m,textAnchor:A,verticalAnchor:y},q):a==="insideBottomRight"?Gt({x:s+c-E,y:u+h-m,textAnchor:T,verticalAnchor:y},q):a&&typeof a=="object"&&(Ee(a.x)||Oo(a.x))&&(Ee(a.y)||Oo(a.y))?Gt({x:s+Yn(a.x,c),y:u+Yn(a.y,h),textAnchor:"end",verticalAnchor:"end"},q):Gt({x:s+c/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},q)},CX=t=>"cx"in t&&Ee(t.cx);function gr(t){var{offset:e=5}=t,n=LR(t,yX),r=Gt({offset:e},n),{viewBox:a,position:s,value:u,children:c,content:h,className:d="",textBreakAll:m,labelRef:y}=r,v=sw(),_=a||v;if(!_||Zt(u)&&Zt(c)&&!O.isValidElement(h)&&typeof h!="function")return null;if(O.isValidElement(h)){var{labelRef:E}=r,T=LR(r,vX);return O.cloneElement(h,T)}var A;if(typeof h=="function"){if(A=O.createElement(h,r),O.isValidElement(A))return A}else A=TX(r);var I=CX(_),k=mt(r,!0);if(I&&(s==="insideStart"||s==="insideEnd"||s==="end"))return SX(r,A,k);var D=I?xX(r):OX(r,_);return O.createElement(xp,ua({ref:y,className:dt("recharts-label",d)},k,D,{breakAll:m}),A)}gr.displayName="Label";var Sj=t=>{var{cx:e,cy:n,angle:r,startAngle:a,endAngle:s,r:u,radius:c,innerRadius:h,outerRadius:d,x:m,y,top:v,left:_,width:E,height:T,clockWise:A,labelViewBox:I}=t;if(I)return I;if(Ee(E)&&Ee(T)){if(Ee(m)&&Ee(y))return{x:m,y,width:E,height:T};if(Ee(v)&&Ee(_))return{x:v,y:_,width:E,height:T}}if(Ee(m)&&Ee(y))return{x:m,y,width:0,height:0};if(Ee(e)&&Ee(n))return{cx:e,cy:n,startAngle:a||r||0,endAngle:s||r||0,innerRadius:h||0,outerRadius:d||c||u||0,clockWise:A};if(t.viewBox)return t.viewBox},IX=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?O.createElement(gr,ua({key:"label-implicit"},r)):ki(t)?O.createElement(gr,ua({key:"label-implicit",value:t},r)):O.isValidElement(t)?t.type===gr?O.cloneElement(t,Gt({key:"label-implicit"},r)):O.createElement(gr,ua({key:"label-implicit",content:t},r)):mE(t)?O.createElement(gr,ua({key:"label-implicit",content:t},r)):t&&typeof t=="object"?O.createElement(gr,ua({},t,{key:"label-implicit"},r)):null},RX=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:a,labelRef:s}=e,u=Sj(e),c=fh(a,gr).map((d,m)=>O.cloneElement(d,{viewBox:n||u,key:"label-".concat(m)}));if(!r)return c;var h=IX(e.label,n||u,s);return[h,...c]};gr.parseViewBox=Sj;gr.renderCallByParent=RX;var _b={},wb={},UR;function PX(){return UR||(UR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e}(wb)),wb}var Eb={},BR;function NX(){return BR||(BR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e}(Eb)),Eb}var zR;function DX(){return zR||(zR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PX(),n=NX(),r=K1();function a(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=a}(_b)),_b}var Tb,qR;function kX(){return qR||(qR=1,Tb=DX().last),Tb}var MX=kX();const jX=Sa(MX);var LX=["valueAccessor"],VX=["data","dataKey","clockWise","id","textBreakAll"];function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wg.apply(null,arguments)}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function FR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){UX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UX(t,e,n){return(e=BX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BX(t){var e=zX(t,"string");return typeof e=="symbol"?e:e+""}function zX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HR(t,e){if(t==null)return{};var n,r,a=qX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function qX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $X=t=>Array.isArray(t.value)?jX(t.value):t.value;function Lo(t){var{valueAccessor:e=$X}=t,n=HR(t,LX),{data:r,dataKey:a,clockWise:s,id:u,textBreakAll:c}=n,h=HR(n,VX);return!r||!r.length?null:O.createElement(Wn,{className:"recharts-label-list"},r.map((d,m)=>{var y=Zt(a)?e(d,m):Nt(d&&d.payload,a),v=Zt(u)?{}:{id:"".concat(u,"-").concat(m)};return O.createElement(gr,wg({},mt(d,!0),h,v,{parentViewBox:d.parentViewBox,value:y,textBreakAll:c,viewBox:gr.parseViewBox(Zt(s)?d:FR(FR({},d),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}Lo.displayName="LabelList";function FX(t,e){return t?t===!0?O.createElement(Lo,{key:"labelList-implicit",data:e}):O.isValidElement(t)||mE(t)?O.createElement(Lo,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?O.createElement(Lo,wg({data:e},t,{key:"labelList-implicit"})):null:null}function HX(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,a=fh(r,Lo).map((u,c)=>O.cloneElement(u,{data:e,key:"labelList-".concat(c)}));if(!n)return a;var s=FX(t.label,e);return[s,...a]}Lo.renderCallByParent=HX;var xj=t=>t.graphicalItems.polarItems,KX=te([Ut,vh],qw),gE=te([xj,Bt,KX],Fw),GX=te([gE],Hw),pE=te([GX,Nw],Kw),YX=te([pE,Bt,gE],Gw),WX=te([pE,Bt,gE],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var s,u=Nt(r,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:u,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:Nt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),KR=()=>{},XX=te([Bt,MM,KR,WX,KR],Xw),Oj=te([Bt,st,pE,YX,yh,Ut,XX],Qw),QX=te([Oj,Bt,Ku],eE);te([Bt,Oj,QX,Ut],nE);var ZX={radiusAxis:{},angleAxis:{}},Cj=Kr({name:"polarAxis",initialState:ZX,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:ene,removeRadiusAxis:tne,addAngleAxis:nne,removeAngleAxis:rne}=Cj.actions,JX=Cj.reducer;function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function YR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){eQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eQ(t,e,n){return(e=tQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tQ(t){var e=nQ(t,"string");return typeof e=="symbol"?e:e+""}function nQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yE=(t,e)=>e,rQ=[],vE=(t,e,n)=>n?.length===0?rQ:n,Ij=te([Nw,yE,vE],(t,e,n)=>{var{chartData:r}=t,a;if(e?.data!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>YR(YR({},e.presentationProps),s.props))),a!=null)return a}),iQ=te([Ij,yE,vE],(t,e,n)=>{if(t!=null)return t.map((r,a)=>{var s,u=Nt(r,e.nameKey,e.name),c;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?c=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=e.fill,{value:op(u,e.dataKey),color:c,payload:r,type:e.legendType}})}),aQ=te([xj,yE],(t,e)=>{if(t.some(n=>n.type==="pie"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),sQ=te([Ij,aQ,vE,cn],(t,e,n,r)=>{if(!(e==null||t==null))return ZQ({offset:r,pieSettings:e,displayedData:t,cells:n})}),oQ={countOfBars:0,cartesianItems:[],polarItems:[]},Rj=Kr({name:"graphicalItems",initialState:oQ,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,a=ga(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},removeCartesianGraphicalItem(t,e){var n=ga(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=ga(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:lQ,removeBar:uQ,addCartesianGraphicalItem:cQ,replaceCartesianGraphicalItem:fQ,removeCartesianGraphicalItem:hQ,addPolarGraphicalItem:dQ,removePolarGraphicalItem:mQ}=Rj.actions,gQ=Rj.reducer;function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function XR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){pQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pQ(t,e,n){return(e=yQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yQ(t){var e=vQ(t,"string");return typeof e=="symbol"?e:e+""}function vQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bQ(t){var e=Dt(),n=O.useRef(null);return O.useEffect(()=>{var r=XR(XR({},t),{},{stackId:rk(t.stackId)});n.current===null?e(cQ(r)):n.current!==r&&e(fQ({prev:n.current,next:r})),n.current=r},[e,t]),O.useEffect(()=>()=>{n.current&&(e(hQ(n.current)),n.current=null)},[e]),null}function _Q(t){var e=Dt();return O.useEffect(()=>(e(dQ(t)),()=>{e(mQ(t))}),[e,t]),null}var Ab={},QR;function wQ(){return QR||(QR=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e}(Ab)),Ab}var Sb,ZR;function EQ(){return ZR||(ZR=1,Sb=wQ().isPlainObject),Sb}var TQ=EQ();const AQ=Sa(TQ);function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(null,arguments)}var JR=(t,e,n,r,a)=>{var s=n-r,u;return u="M ".concat(t,",").concat(e),u+="L ".concat(t+n,",").concat(e),u+="L ".concat(t+n-s/2,",").concat(e+a),u+="L ".concat(t+n-s/2-r,",").concat(e+a),u+="L ".concat(t,",").concat(e," Z"),u},SQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xQ=t=>{var e=ji(t,SQ),n=O.useRef(),[r,a]=O.useState(-1);O.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&a(A)}catch{}},[]);var{x:s,y:u,upperWidth:c,lowerWidth:h,height:d,className:m}=e,{animationEasing:y,animationDuration:v,animationBegin:_,isUpdateAnimationActive:E}=e;if(s!==+s||u!==+u||c!==+c||h!==+h||d!==+d||c===0&&h===0||d===0)return null;var T=dt("recharts-trapezoid",m);return E?O.createElement(Go,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:u},to:{upperWidth:c,lowerWidth:h,height:d,x:s,y:u},duration:v,animationEasing:y,isActive:E},A=>{var{upperWidth:I,lowerWidth:k,height:D,x:F,y:q}=A;return O.createElement(Go,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:v,easing:y},O.createElement("path",Eg({},mt(e,!0),{className:T,d:JR(F,q,I,k,D),ref:n})))}):O.createElement("g",null,O.createElement("path",Eg({},mt(e,!0),{className:T,d:JR(s,u,c,h,d)})))},OQ=["option","shapeType","propTransformer","activeClassName","isActive"];function CQ(t,e){if(t==null)return{};var n,r,a=IQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function IQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){RQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RQ(t,e,n){return(e=PQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PQ(t){var e=NQ(t,"string");return typeof e=="symbol"?e:e+""}function NQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DQ(t,e){return Tg(Tg({},e),t)}function kQ(t,e){return t==="symbols"}function tP(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return O.createElement(pk,n);case"trapezoid":return O.createElement(xQ,n);case"sector":return O.createElement(bk,n);case"symbols":if(kQ(e))return O.createElement(wD,n);break;default:return null}}function MQ(t){return O.isValidElement(t)?t.props:t}function Pj(t){var{option:e,shapeType:n,propTransformer:r=DQ,activeClassName:a="recharts-active-shape",isActive:s}=t,u=CQ(t,OQ),c;if(O.isValidElement(e))c=O.cloneElement(e,Tg(Tg({},u),MQ(e)));else if(typeof e=="function")c=e(u);else if(AQ(e)&&typeof e!="boolean"){var h=r(e,u);c=O.createElement(tP,{shapeType:n,elementProps:h})}else{var d=u;c=O.createElement(tP,{shapeType:n,elementProps:d})}return s?O.createElement(Wn,{className:a},c):c}var bE=(t,e)=>{var n=Dt();return(r,a)=>s=>{t?.(r,a,s),n(QM({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},_E=t=>{var e=Dt();return(n,r)=>a=>{t?.(n,r,a),e(wY())}},wE=(t,e)=>{var n=Dt();return(r,a)=>s=>{t?.(r,a,s),n(EY({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function Nj(t){var{fn:e,args:n}=t,r=Dt(),a=Er();return O.useEffect(()=>{if(!a){var s=e(n);return r(vY(s)),()=>{r(bY(s))}}},[e,n,r,a]),null}var Dj=()=>{};function jQ(t){var{legendPayload:e}=t,n=Dt(),r=Er();return O.useEffect(()=>r?Dj:(n(uk(e)),()=>{n(ck(e))}),[n,r,e]),null}function LQ(t){var{legendPayload:e}=t,n=Dt(),r=Te(st);return O.useEffect(()=>r!=="centric"&&r!=="radial"?Dj:(n(uk(e)),()=>{n(ck(e))}),[n,r,e]),null}function kj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=O.useRef(Eu(e)),r=O.useRef(t);return r.current!==t&&(n.current=Eu(e),r.current=t),n.current}var VQ=["onMouseEnter","onClick","onMouseLeave"];function UQ(t,e){if(t==null)return{};var n,r,a=BQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function BQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){Op(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Op(t,e,n){return(e=zQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zQ(t){var e=qQ(t,"string");return typeof e=="symbol"?e:e+""}function qQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xo.apply(null,arguments)}function $Q(t){var e=O.useMemo(()=>mt(t,!1),[t]),n=O.useMemo(()=>fh(t.children,Th),[t.children]),r=O.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:e}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,e]),a=Te(s=>iQ(s,r,n));return O.createElement(LQ,{legendPayload:a})}function FQ(t){var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:u,name:c,hide:h,tooltipType:d}=t;return{dataDefinedOnItem:r?.map(m=>m.tooltipPayload),positions:r?.map(m=>m.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:u,dataKey:e,nameKey:n,name:op(c,e),hide:h,type:d,color:u,unit:""}}}var HQ=(t,e)=>t>e?"start":t<e?"end":"middle",KQ=(t,e,n)=>typeof e=="function"?e(t):Yn(e,n,n*.8),GQ=(t,e,n)=>{var{top:r,left:a,width:s,height:u}=e,c=nk(s,u),h=a+Yn(t.cx,s,s/2),d=r+Yn(t.cy,u,u/2),m=Yn(t.innerRadius,c,0),y=KQ(n,t.outerRadius,c),v=t.maxRadius||Math.sqrt(s*s+u*u)/2;return{cx:h,cy:d,innerRadius:m,outerRadius:y,maxRadius:v}},YQ=(t,e)=>{var n=Pn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},WQ=(t,e)=>{if(O.isValidElement(t))return O.cloneElement(t,e);if(typeof t=="function")return t(e);var n=dt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return O.createElement(hk,Xo({},e,{type:"linear",className:n}))},XQ=(t,e,n)=>{if(O.isValidElement(t))return O.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),O.isValidElement(r)))return r;var a=dt("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return O.createElement(xp,Xo({},e,{alignmentBaseline:"middle",className:a}),r)};function QQ(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:s,dataKey:u}=n;if(!r||!a||!e)return null;var c=mt(n,!1),h=mt(a,!1),d=mt(s,!1),m=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,y=e.map((v,_)=>{var E=(v.startAngle+v.endAngle)/2,T=Qt(v.cx,v.cy,v.outerRadius+m,E),A=Pt(Pt(Pt(Pt({},c),v),{},{stroke:"none"},h),{},{index:_,textAnchor:HQ(T.x,v.cx)},T),I=Pt(Pt(Pt(Pt({},c),v),{},{fill:"none",stroke:v.fill},d),{},{index:_,points:[Qt(v.cx,v.cy,v.outerRadius,E),T],key:"line"});return O.createElement(Wn,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(_)},s&&WQ(s,I),XQ(a,A,Nt(v,u)))});return O.createElement(Wn,{className:"recharts-pie-labels"},y)}function Mj(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,showLabels:s}=t,u=Te(Wo),{onMouseEnter:c,onClick:h,onMouseLeave:d}=a,m=UQ(a,VQ),y=bE(c,a.dataKey),v=_E(d),_=wE(h,a.dataKey);return e==null?null:O.createElement(O.Fragment,null,e.map((E,T)=>{if(E?.startAngle===0&&E?.endAngle===0&&e.length!==1)return null;var A=n&&String(T)===u,I=u?r:null,k=A?n:I,D=Pt(Pt({},E),{},{stroke:E.stroke,tabIndex:-1,[ak]:T,[sk]:a.dataKey});return O.createElement(Wn,Xo({tabIndex:-1,className:"recharts-pie-sector"},Xg(m,E,T),{onMouseEnter:y(E,T),onMouseLeave:v(E,T),onClick:_(E,T),key:"sector-".concat(E?.startAngle,"-").concat(E?.endAngle,"-").concat(E.midAngle,"-").concat(T)}),O.createElement(Pj,Xo({option:k,isActive:A,shapeType:"sector"},D)))}),O.createElement(QQ,{sectors:e,props:a,showLabels:s}))}function ZQ(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:s}=t,{cornerRadius:u,startAngle:c,endAngle:h,dataKey:d,nameKey:m,tooltipType:y}=n,v=Math.abs(n.minAngle),_=YQ(c,h),E=Math.abs(_),T=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,A=r.filter(H=>Nt(H,d,0)!==0).length,I=(E>=360?A:A-1)*T,k=E-A*v-I,D=r.reduce((H,N)=>{var R=Nt(N,d,0);return H+(Ee(R)?R:0)},0),F;if(D>0){var q;F=r.map((H,N)=>{var R=Nt(H,d,0),j=Nt(H,m,N),B=GQ(n,s,H),V=(Ee(R)?R:0)/D,U,L=Pt(Pt({},H),a&&a[N]&&a[N].props);N?U=q.endAngle+Pn(_)*T*(R!==0?1:0):U=c;var _e=U+Pn(_)*((R!==0?v:0)+V*k),Se=(U+_e)/2,Z=(B.innerRadius+B.outerRadius)/2,ue=[{name:j,value:R,payload:L,dataKey:d,type:y}],de=Qt(B.cx,B.cy,Z,Se);return q=Pt(Pt(Pt(Pt({},n.presentationProps),{},{percent:V,cornerRadius:u,name:j,tooltipPayload:ue,midAngle:Se,middleRadius:Z,tooltipPosition:de},L),B),{},{value:Nt(H,d),startAngle:U,endAngle:_e,payload:L,paddingAngle:Pn(_)*T}),q})}return F}function JQ(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:a,animationBegin:s,animationDuration:u,animationEasing:c,activeShape:h,inactiveShape:d,onAnimationStart:m,onAnimationEnd:y}=e,v=kj(e,"recharts-pie-"),_=n.current,[E,T]=O.useState(!0),A=O.useCallback(()=>{typeof y=="function"&&y(),T(!1)},[y]),I=O.useCallback(()=>{typeof m=="function"&&m(),T(!0)},[m]);return O.createElement(Go,{begin:s,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},onAnimationStart:I,onAnimationEnd:A,key:v},k=>{var{t:D}=k,F=[],q=r&&r[0],H=q.startAngle;return r.forEach((N,R)=>{var j=_&&_[R],B=R>0?Ds(N,"paddingAngle",0):0;if(j){var V=fs(j.endAngle-j.startAngle,N.endAngle-N.startAngle),U=Pt(Pt({},N),{},{startAngle:H+B,endAngle:H+V(D)+B});F.push(U),H=U.endAngle}else{var{endAngle:L,startAngle:_e}=N,Se=fs(0,L-_e),Z=Se(D),ue=Pt(Pt({},N),{},{startAngle:H+B,endAngle:H+Z+B});F.push(ue),H=ue.endAngle}}),n.current=F,O.createElement(Wn,null,O.createElement(Mj,{sectors:F,activeShape:h,inactiveShape:d,allOtherPieProps:e,showLabels:!E}))})}function eZ(t){var{sectors:e,isAnimationActive:n,activeShape:r,inactiveShape:a}=t,s=O.useRef(null),u=s.current;return n&&e&&e.length&&(!u||u!==e)?O.createElement(JQ,{props:t,previousSectorsRef:s}):O.createElement(Mj,{sectors:e,activeShape:r,inactiveShape:a,allOtherPieProps:t,showLabels:!0})}function tZ(t){var{hide:e,className:n,rootTabIndex:r}=t,a=dt("recharts-pie",n);return e?null:O.createElement(Wn,{tabIndex:r,className:a},O.createElement(eZ,t))}var jj={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!zu.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function nZ(t){var e=ji(t,jj),n=O.useMemo(()=>fh(t.children,Th),[t.children]),r=mt(e,!1),a=O.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:r}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,r]),s=Te(u=>sQ(u,a,n));return O.createElement(O.Fragment,null,O.createElement(Nj,{fn:FQ,args:Pt(Pt({},e),{},{sectors:s})}),O.createElement(tZ,Xo({},e,{sectors:s})))}class EE extends O.PureComponent{constructor(){super(...arguments),Op(this,"id",Eu("recharts-pie-"))}render(){return O.createElement(O.Fragment,null,O.createElement(_Q,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),O.createElement($Q,this.props),O.createElement(nZ,this.props),this.props.children)}}Op(EE,"displayName","Pie");Op(EE,"defaultProps",jj);var rZ=te([cn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),iZ=te([rZ,Ia,Ra],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),aZ=t=>{var e=Er();return Te(n=>ks(n,"xAxis",t,e))},sZ=t=>{var e=Er();return Te(n=>ks(n,"yAxis",t,e))},Lj=()=>Te(iZ),oZ=()=>{var t=Dt();return O.useEffect(()=>(t(lQ()),()=>{t(uQ())})),null},lZ=["children"];function uZ(t,e){if(t==null)return{};var n,r,a=cZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function cZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rP=()=>{},Vj=O.createContext({addErrorBar:rP,removeErrorBar:rP}),fZ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Uj=O.createContext(fZ);function hZ(t){var{children:e}=t,n=uZ(t,lZ);return O.createElement(Uj.Provider,{value:n},e)}var dZ=()=>O.useContext(Uj),mZ=t=>{var{children:e,xAxisId:n,yAxisId:r,zAxisId:a,dataKey:s,data:u,stackId:c,hide:h,type:d,barSize:m}=t,[y,v]=O.useState([]),_=O.useCallback(A=>{v(I=>[...I,A])},[v]),E=O.useCallback(A=>{v(I=>I.filter(k=>k!==A))},[v]),T=Er();return O.createElement(Vj.Provider,{value:{addErrorBar:_,removeErrorBar:E}},O.createElement(bQ,{type:d,data:u,xAxisId:n,yAxisId:r,zAxisId:a,dataKey:s,errorBars:y,stackId:c,hide:h,barSize:m,isPanorama:T}),e)};function gZ(t){var{addErrorBar:e,removeErrorBar:n}=O.useContext(Vj);return O.useEffect(()=>(e(t),()=>{n(t)}),[e,n,t]),null}var pZ=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function Bj(t,e,n){return(e=yZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yZ(t){var e=vZ(t,"string");return typeof e=="symbol"?e:e+""}function vZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(null,arguments)}function bZ(t,e){if(t==null)return{};var n,r,a=_Z(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _Z(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wZ(t){var{direction:e,width:n,dataKey:r,isAnimationActive:a,animationBegin:s,animationDuration:u,animationEasing:c}=t,h=bZ(t,pZ),d=mt(h,!1),{data:m,dataPointFormatter:y,xAxisId:v,yAxisId:_,errorBarOffset:E}=dZ(),T=aZ(v),A=sZ(_);if(T?.scale==null||A?.scale==null||m==null||e==="x"&&T.type!=="number")return null;var I=m.map(k=>{var{x:D,y:F,value:q,errorVal:H}=y(k,r,e);if(!H)return null;var N=[],R,j;if(Array.isArray(H)?[R,j]=H:R=j=H,e==="x"){var{scale:B}=T,V=F+E,U=V+n,L=V-n,_e=B(q-R),Se=B(q+j);N.push({x1:Se,y1:U,x2:Se,y2:L}),N.push({x1:_e,y1:V,x2:Se,y2:V}),N.push({x1:_e,y1:U,x2:_e,y2:L})}else if(e==="y"){var{scale:Z}=A,ue=D+E,de=ue-n,Ce=ue+n,$=Z(q-R),ae=Z(q+j);N.push({x1:de,y1:ae,x2:Ce,y2:ae}),N.push({x1:ue,y1:$,x2:ue,y2:ae}),N.push({x1:de,y1:$,x2:Ce,y2:$})}var re="".concat(D+E,"px ").concat(F+E,"px");return O.createElement(Wn,Gf({className:"recharts-errorBar",key:"bar-".concat(N.map(ce=>"".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)))},d),N.map(ce=>{var be=a?{transformOrigin:"".concat(ce.x1-5,"px")}:void 0;return O.createElement(Go,{from:{transform:"scaleY(0)",transformOrigin:re},to:{transform:"scaleY(1)",transformOrigin:re},begin:s,easing:c,isActive:a,duration:u,key:"line-".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2),style:{transformOrigin:re}},O.createElement("line",Gf({},ce,{style:be})))}))});return O.createElement(Wn,{className:"recharts-errorBars"},I)}var zj=O.createContext(void 0);function EZ(t){var e=O.useContext(zj);return t??e??"x"}function TZ(t){var{direction:e,children:n}=t;return O.createElement(zj.Provider,{value:e},n)}var qj={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function AZ(t){var e=EZ(t.direction),{width:n,isAnimationActive:r,animationBegin:a,animationDuration:s,animationEasing:u}=ji(t,qj);return O.createElement(O.Fragment,null,O.createElement(gZ,{dataKey:t.dataKey,direction:e}),O.createElement(wZ,Gf({},t,{direction:e,width:n,isAnimationActive:r,animationBegin:a,animationDuration:s,animationEasing:u})))}class $j extends O.Component{render(){return O.createElement(AZ,this.props)}}Bj($j,"defaultProps",qj);Bj($j,"displayName","ErrorBar");var SZ="Invariant failed";function xZ(t,e){throw new Error(SZ)}var OZ=["x","y"];function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(null,arguments)}function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(r){CZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CZ(t,e,n){return(e=IZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IZ(t){var e=RZ(t,"string");return typeof e=="symbol"?e:e+""}function RZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PZ(t,e){if(t==null)return{};var n,r,a=NZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function NZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function DZ(t,e){var{x:n,y:r}=t,a=PZ(t,OZ),s="".concat(n),u=parseInt(s,10),c="".concat(r),h=parseInt(c,10),d="".concat(e.height||a.height),m=parseInt(d,10),y="".concat(e.width||a.width),v=parseInt(y,10);return mf(mf(mf(mf(mf({},e),a),u?{x:u}:{}),h?{y:h}:{}),{},{height:m,width:v,name:e.name,radius:e.radius})}function Fj(t){return O.createElement(Pj,q_({shapeType:"rectangle",propTransformer:DZ,activeClassName:"recharts-active-bar"},t))}var kZ=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Ee(e))return e;var s=Ee(r)||Zt(r);return s?e(r,a):(s||xZ(),n)}};function Hj(t,e){var n,r,a=Te(d=>Na(d,t)),s=Te(d=>Bs(d,e)),u=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:hr.allowDataOverflow,c=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:dr.allowDataOverflow,h=u||c;return{needClip:h,needClipX:u,needClipY:c}}function MZ(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=Lj(),{needClipX:s,needClipY:u,needClip:c}=Hj(e,n);if(!c)return null;var{x:h,y:d,width:m,height:y}=a;return O.createElement("clipPath",{id:"clipPath-".concat(r)},O.createElement("rect",{x:s?h:h-m/2,y:u?d:d-y/2,width:s?m:m*2,height:u?y:y*2}))}var jZ=["onMouseEnter","onMouseLeave","onClick"],LZ=["value","background","tooltipPosition"],VZ=["onMouseEnter","onClick","onMouseLeave"];function Yf(){return Yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yf.apply(null,arguments)}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){Cp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cp(t,e,n){return(e=UZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UZ(t){var e=BZ(t,"string");return typeof e=="symbol"?e:e+""}function BZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $_(t,e){if(t==null)return{};var n,r,a=zZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function zZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qZ=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:op(n,e),payload:t}]};function $Z(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:s,hide:u,unit:c}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:op(s,e),hide:u,type:t.tooltipType,color:t.fill,unit:c}}}function FZ(t){var e=Te(Wo),{data:n,dataKey:r,background:a,allOtherBarProps:s}=t,{onMouseEnter:u,onMouseLeave:c,onClick:h}=s,d=$_(s,jZ),m=bE(u,r),y=_E(c),v=wE(h,r);if(!a||n==null)return null;var _=mt(a,!1);return O.createElement(O.Fragment,null,n.map((E,T)=>{var{value:A,background:I,tooltipPosition:k}=E,D=$_(E,LZ);if(!I)return null;var F=m(E,T),q=y(E,T),H=v(E,T),N=zn(zn(zn(zn(zn({option:a,isActive:String(T)===e},D),{},{fill:"#eee"},I),_),Xg(d,E,T)),{},{onMouseEnter:F,onMouseLeave:q,onClick:H,dataKey:r,index:T,className:"recharts-bar-background-rectangle"});return O.createElement(Fj,Yf({key:"background-bar-".concat(T)},N))}))}function Kj(t){var{data:e,props:n,showLabels:r}=t,a=mt(n,!1),{shape:s,dataKey:u,activeBar:c}=n,h=Te(Wo),d=Te(cj),{onMouseEnter:m,onClick:y,onMouseLeave:v}=n,_=$_(n,VZ),E=bE(m,u),T=_E(v),A=wE(y,u);return e?O.createElement(O.Fragment,null,e.map((I,k)=>{var D=c&&String(k)===h&&(d==null||u===d),F=D?c:s,q=zn(zn(zn({},a),I),{},{isActive:D,option:F,index:k,dataKey:u});return O.createElement(Wn,Yf({className:"recharts-bar-rectangle"},Xg(_,I,k),{onMouseEnter:E(I,k),onMouseLeave:T(I,k),onClick:A(I,k),key:"rectangle-".concat(I?.x,"-").concat(I?.y,"-").concat(I?.value,"-").concat(k)}),O.createElement(Fj,q))}),r&&Lo.renderCallByParent(n,e)):null}function HZ(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:s,animationBegin:u,animationDuration:c,animationEasing:h,onAnimationEnd:d,onAnimationStart:m}=e,y=n.current,v=kj(e,"recharts-bar-"),[_,E]=O.useState(!1),T=O.useCallback(()=>{typeof d=="function"&&d(),E(!1)},[d]),A=O.useCallback(()=>{typeof m=="function"&&m(),E(!0)},[m]);return O.createElement(Go,{begin:u,duration:c,isActive:s,easing:h,from:{t:0},to:{t:1},onAnimationEnd:T,onAnimationStart:A,key:v},I=>{var{t:k}=I,D=k===1?r:r.map((F,q)=>{var H=y&&y[q];if(H){var N=fs(H.x,F.x),R=fs(H.y,F.y),j=fs(H.width,F.width),B=fs(H.height,F.height);return zn(zn({},F),{},{x:N(k),y:R(k),width:j(k),height:B(k)})}if(a==="horizontal"){var V=fs(0,F.height),U=V(k);return zn(zn({},F),{},{y:F.y+F.height-U,height:U})}var L=fs(0,F.width),_e=L(k);return zn(zn({},F),{},{width:_e})});return k>0&&(n.current=D),O.createElement(Wn,null,O.createElement(Kj,{props:e,data:D,showLabels:!_}))})}function KZ(t){var{data:e,isAnimationActive:n}=t,r=O.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?O.createElement(HZ,{previousRectanglesRef:r,props:t}):O.createElement(Kj,{props:t,data:e,showLabels:!0})}var Gj=0,GZ=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Nt(t,e)}};class YZ extends O.PureComponent{constructor(){super(...arguments),Cp(this,"id",Eu("recharts-bar-"))}render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:u,needClip:c,background:h,id:d,layout:m}=this.props;if(e)return null;var y=dt("recharts-bar",a),v=Zt(d)?this.id:d;return O.createElement(Wn,{className:y},c&&O.createElement("defs",null,O.createElement(MZ,{clipPathId:v,xAxisId:s,yAxisId:u})),O.createElement(Wn,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(v,")"):null},O.createElement(FZ,{data:n,dataKey:r,background:h,allOtherBarProps:this.props}),O.createElement(KZ,this.props)),O.createElement(TZ,{direction:m==="horizontal"?"y":"x"},this.props.children))}}var Yj={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!zu.isSsr,legendType:"rect",minPointSize:Gj,xAxisId:0,yAxisId:0};function WZ(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:u,animationBegin:c,animationDuration:h,animationEasing:d,isAnimationActive:m}=ji(t,Yj),{needClip:y}=Hj(e,n),v=ow(),_=Er(),E=O.useMemo(()=>({barSize:t.barSize,data:void 0,dataKey:t.dataKey,maxBarSize:t.maxBarSize,minPointSize:s,stackId:rk(t.stackId)}),[t.barSize,t.dataKey,t.maxBarSize,s,t.stackId]),T=fh(t.children,Th),A=Te(D=>TJ(D,e,n,_,E,T));if(v!=="vertical"&&v!=="horizontal")return null;var I,k=A?.[0];return k==null||k.height==null||k.width==null?I=0:I=v==="vertical"?k.height/2:k.width/2,O.createElement(hZ,{xAxisId:e,yAxisId:n,data:A,dataPointFormatter:GZ,errorBarOffset:I},O.createElement(YZ,Yf({},t,{layout:v,needClip:y,data:A,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:u,animationBegin:c,animationDuration:h,animationEasing:d,isAnimationActive:m})))}function XZ(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:u,yAxis:c,xAxisTicks:h,yAxisTicks:d,stackedData:m,displayedData:y,offset:v,cells:_}=t,E=e==="horizontal"?c:u,T=m?E.scale.domain():null,A=Fq({numericAxis:E});return y.map((I,k)=>{var D,F,q,H,N,R;m?D=Uq(m[k],T):(D=Nt(I,n),Array.isArray(D)||(D=[A,D]));var j=kZ(r,Gj)(D[1],k);if(e==="horizontal"){var B,[V,U]=[c.scale(D[0]),c.scale(D[1])];F=YC({axis:u,ticks:h,bandSize:s,offset:a.offset,entry:I,index:k}),q=(B=U??V)!==null&&B!==void 0?B:void 0,H=a.size;var L=V-U;if(N=$r(L)?0:L,R={x:F,y:v.top,width:H,height:v.height},Math.abs(j)>0&&Math.abs(N)<Math.abs(j)){var _e=Pn(N||j)*(Math.abs(j)-Math.abs(N));q-=_e,N+=_e}}else{var[Se,Z]=[u.scale(D[0]),u.scale(D[1])];if(F=Se,q=YC({axis:c,ticks:d,bandSize:s,offset:a.offset,entry:I,index:k}),H=Z-Se,N=a.size,R={x:v.left,y:q,width:v.width,height:N},Math.abs(j)>0&&Math.abs(H)<Math.abs(j)){var ue=Pn(H||j)*(Math.abs(j)-Math.abs(H));H+=ue}}var de=zn(zn({},I),{},{x:F,y:q,width:H,height:N,value:m?D:D[1],payload:I,background:R,tooltipPosition:{x:F+H/2,y:q+N/2}},_&&_[k]&&_[k].props);return de})}class Wf extends O.PureComponent{render(){return O.createElement(mZ,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},O.createElement(oZ,null),O.createElement(jQ,{legendPayload:qZ(this.props)}),O.createElement(Nj,{fn:$Z,args:this.props}),O.createElement(WZ,this.props))}}Cp(Wf,"displayName","Bar");Cp(Wf,"defaultProps",Yj);function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){QZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QZ(t,e,n){return(e=ZZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZZ(t){var e=JZ(t,"string");return typeof e=="symbol"?e:e+""}function JZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eJ=(t,e)=>e,tJ=(t,e,n)=>n,nJ=(t,e,n,r)=>r,TE=(t,e,n,r,a)=>a,rJ=(t,e,n,r,a)=>a.maxBarSize,iJ=(t,e,n,r,a,s)=>s,oP=(t,e,n)=>{var r=n??t;if(!Zt(r))return Yn(r,e,0)},aJ=te([st,$w,eJ,tJ,nJ],(t,e,n,r,a)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),sJ=(t,e,n,r)=>{var a=st(t);return a==="horizontal"?M_(t,"yAxis",n,r):M_(t,"xAxis",e,r)},oJ=(t,e,n)=>{var r=st(t);return r==="horizontal"?fR(t,"xAxis",e):fR(t,"yAxis",n)};function lJ(t){return t.stackId!=null&&t.dataKey!=null}var uJ=(t,e,n)=>{var r={},a=t.filter(lJ),s=t.filter(d=>d.stackId==null),u=a.reduce((d,m)=>(d[m.stackId]||(d[m.stackId]=[]),d[m.stackId].push(m),d),r),c=Object.entries(u).map(d=>{var[m,y]=d,v=y.map(E=>E.dataKey),_=oP(e,n,y[0].barSize);return{stackId:m,dataKeys:v,barSize:_}}),h=s.map(d=>{var m=[d.dataKey].filter(v=>v!=null),y=oP(e,n,d.barSize);return{stackId:void 0,dataKeys:m,barSize:y}});return[...c,...h]},cJ=te([aJ,yG,oJ],uJ),fJ=(t,e,n,r,a)=>{var s,u,c=st(t),h=pM(t),{maxBarSize:d}=a,m=Zt(d)?h:d,y,v;return c==="horizontal"?(y=ks(t,"xAxis",e,r),v=Ru(t,"xAxis",e,r)):(y=ks(t,"yAxis",n,r),v=Ru(t,"yAxis",n,r)),(s=(u=rw(y,v,!0))!==null&&u!==void 0?u:m)!==null&&s!==void 0?s:0},Wj=(t,e,n,r)=>{var a=st(t),s,u;return a==="horizontal"?(s=ks(t,"xAxis",e,r),u=Ru(t,"xAxis",e,r)):(s=ks(t,"yAxis",n,r),u=Ru(t,"yAxis",n,r)),rw(s,u)};function hJ(t,e,n,r,a){var s=r.length;if(!(s<1)){var u=Yn(t,n,0,!0),c,h=[];if(wr(r[0].barSize)){var d=!1,m=n/s,y=r.reduce((I,k)=>I+(k.barSize||0),0);y+=(s-1)*u,y>=n&&(y-=(s-1)*u,u=0),y>=n&&m>0&&(d=!0,m*=.9,y=s*m);var v=(n-y)/2>>0,_={offset:v-u,size:0};c=r.reduce((I,k)=>{var D,F={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:_.offset+_.size+u,size:d?m:(D=k.barSize)!==null&&D!==void 0?D:0}},q=[...I,F];return _=q[q.length-1].position,q},h)}else{var E=Yn(e,n,0,!0);n-2*E-(s-1)*u<=0&&(u=0);var T=(n-2*E-(s-1)*u)/s;T>1&&(T>>=0);var A=wr(a)?Math.min(T,a):T;c=r.reduce((I,k,D)=>[...I,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:E+(T+u)*D+(T-A)/2,size:A}}],h)}return c}}var dJ=(t,e,n,r,a,s,u)=>{var c=Zt(u)?e:u,h=hJ(n,r,a!==s?a:s,t,c);return a!==s&&h!=null&&(h=h.map(d=>hm(hm({},d),{},{position:hm(hm({},d.position),{},{offset:d.position.offset-a/2})}))),h},mJ=te([cJ,pM,pG,yM,fJ,Wj,rJ],dJ),gJ=(t,e,n,r)=>ks(t,"xAxis",e,r),pJ=(t,e,n,r)=>ks(t,"yAxis",n,r),yJ=(t,e,n,r)=>Ru(t,"xAxis",e,r),vJ=(t,e,n,r)=>Ru(t,"yAxis",n,r),bJ=te([mJ,TE],(t,e)=>{if(t!=null){var n=t.find(r=>r.stackId===e.stackId&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),_J=(t,e)=>{if(!(!t||e?.dataKey==null)){var{stackId:n}=e;if(n!=null){var r=t[n];if(r){var{stackedData:a}=r;if(a){var s=a.find(u=>u.key===e.dataKey);return s}}}}},wJ=te([$w,TE],(t,e)=>{if(t.some(n=>n.type==="bar"&&e.dataKey===n.dataKey&&e.stackId===n.stackId&&e.stackId===n.stackId))return e}),EJ=te([sJ,TE],_J),TJ=te([cn,gJ,pJ,yJ,vJ,bJ,st,tM,Wj,EJ,wJ,iJ],(t,e,n,r,a,s,u,c,h,d,m,y)=>{var{chartData:v,dataStartIndex:_,dataEndIndex:E}=c;if(!(m==null||s==null||u!=="horizontal"&&u!=="vertical"||e==null||n==null||r==null||a==null||h==null)){var{data:T}=m,A;if(T!=null&&T.length>0?A=T:A=v?.slice(_,E+1),A!=null)return XZ({layout:u,barSettings:m,pos:s,bandSize:h,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,stackedData:d,displayedData:A,offset:t,cells:y})}}),Xj=t=>{var{chartData:e}=t,n=Dt(),r=Er();return O.useEffect(()=>r?()=>{}:(n(_R(e)),()=>{n(_R(void 0))}),[e,n,r]),null},lP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Qj=Kr({name:"brush",initialState:lP,reducers:{setBrushSettings(t,e){return e.payload==null?lP:e.payload}}}),{setBrushSettings:ine}=Qj.actions,AJ=Qj.reducer;function SJ(t,e,n){return(e=xJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xJ(t){var e=OJ(t,"string");return typeof e=="symbol"?e:e+""}function OJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class AE{static create(e){return new AE(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+u}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}SJ(AE,"EPS",1e-4);function CJ(t){return(t%180+180)%180}var IJ=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=CJ(a),u=s*Math.PI/180,c=Math.atan(r/n),h=u>c&&u<Math.PI-c?r/Math.sin(u):n/Math.cos(u);return Math.abs(h)},RJ={dots:[],areas:[],lines:[]},Zj=Kr({name:"referenceElements",initialState:RJ,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ga(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ga(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ga(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:ane,removeDot:sne,addArea:one,removeArea:lne,addLine:une,removeLine:cne}=Zj.actions,PJ=Zj.reducer,NJ=O.createContext(void 0),DJ=t=>{var{children:e}=t,[n]=O.useState("".concat(Eu("recharts"),"-clip")),r=Lj();if(r==null)return null;var{x:a,y:s,width:u,height:c}=r;return O.createElement(NJ.Provider,{value:n},O.createElement("defs",null,O.createElement("clipPath",{id:n},O.createElement("rect",{x:a,y:s,height:c,width:u}))),e)};function xb(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Jj(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function kJ(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return IJ(r,n)}function MJ(t,e,n){var r=n==="width",{x:a,y:s,width:u,height:c}=t;return e===1?{start:r?a:s,end:r?a+u:s+c}:{start:r?a+u:s+c,end:r?a:s}}function Ag(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-a)<=0}function jJ(t,e){return Jj(t,e+1)}function LJ(t,e,n,r,a){for(var s=(r||[]).slice(),{start:u,end:c}=e,h=0,d=1,m=u,y=function(){var E=r?.[h];if(E===void 0)return{v:Jj(r,d)};var T=h,A,I=()=>(A===void 0&&(A=n(E,T)),A),k=E.coordinate,D=h===0||Ag(t,k,I,m,c);D||(h=0,m=u,d+=1),D&&(m=k+t*(I()/2+a),h+=d)},v;d<=s.length;)if(v=y(),v)return v.v;return[]}function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){VJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VJ(t,e,n){return(e=UJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UJ(t){var e=BJ(t,"string");return typeof e=="symbol"?e:e+""}function BJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zJ(t,e,n,r,a){for(var s=(r||[]).slice(),u=s.length,{start:c}=e,{end:h}=e,d=function(v){var _=s[v],E,T=()=>(E===void 0&&(E=n(_,v)),E);if(v===u-1){var A=t*(_.coordinate+t*T()/2-h);s[v]=_=Vn(Vn({},_),{},{tickCoord:A>0?_.coordinate-A*t:_.coordinate})}else s[v]=_=Vn(Vn({},_),{},{tickCoord:_.coordinate});var I=Ag(t,_.tickCoord,T,c,h);I&&(h=_.tickCoord-t*(T()/2+a),s[v]=Vn(Vn({},_),{},{isShow:!0}))},m=u-1;m>=0;m--)d(m);return s}function qJ(t,e,n,r,a,s){var u=(r||[]).slice(),c=u.length,{start:h,end:d}=e;if(s){var m=r[c-1],y=n(m,c-1),v=t*(m.coordinate+t*y/2-d);u[c-1]=m=Vn(Vn({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate});var _=Ag(t,m.tickCoord,()=>y,h,d);_&&(d=m.tickCoord-t*(y/2+a),u[c-1]=Vn(Vn({},m),{},{isShow:!0}))}for(var E=s?c-1:c,T=function(k){var D=u[k],F,q=()=>(F===void 0&&(F=n(D,k)),F);if(k===0){var H=t*(D.coordinate-t*q()/2-h);u[k]=D=Vn(Vn({},D),{},{tickCoord:H<0?D.coordinate-H*t:D.coordinate})}else u[k]=D=Vn(Vn({},D),{},{tickCoord:D.coordinate});var N=Ag(t,D.tickCoord,q,h,d);N&&(h=D.tickCoord+t*(q()/2+a),u[k]=Vn(Vn({},D),{},{isShow:!0}))},A=0;A<E;A++)T(A);return u}function $J(t,e,n){var{tick:r,ticks:a,viewBox:s,minTickGap:u,orientation:c,interval:h,tickFormatter:d,unit:m,angle:y}=t;if(!a||!a.length||!r)return[];if(Ee(h)||zu.isSsr){var v;return(v=jJ(a,Ee(h)?h:0))!==null&&v!==void 0?v:[]}var _=[],E=c==="top"||c==="bottom"?"width":"height",T=m&&E==="width"?If(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(D,F)=>{var q=typeof d=="function"?d(D.value,F):D.value;return E==="width"?kJ(If(q,{fontSize:e,letterSpacing:n}),T,y):If(q,{fontSize:e,letterSpacing:n})[E]},I=a.length>=2?Pn(a[1].coordinate-a[0].coordinate):1,k=MJ(s,I,E);return h==="equidistantPreserveStart"?LJ(I,k,A,a,u):(h==="preserveStart"||h==="preserveStartEnd"?_=qJ(I,k,A,a,u,h==="preserveStartEnd"):_=zJ(I,k,A,a,u),_.filter(D=>D.isShow))}var FJ=["viewBox"],HJ=["viewBox"];function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},su.apply(null,arguments)}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){SE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fP(t,e){if(t==null)return{};var n,r,a=KJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function KJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function SE(t,e,n){return(e=GJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GJ(t){var e=YJ(t,"string");return typeof e=="symbol"?e:e+""}function YJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Xu extends O.Component{constructor(e){super(e),this.tickRefs=O.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,a=fP(e,FJ),s=this.props,{viewBox:u}=s,c=fP(s,HJ);return!xb(r,u)||!xb(a,c)||!xb(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:a,height:s,orientation:u,tickSize:c,mirror:h,tickMargin:d}=this.props,m,y,v,_,E,T,A=h?-1:1,I=e.tickSize||c,k=Ee(e.tickCoord)?e.tickCoord:e.coordinate;switch(u){case"top":m=y=e.coordinate,_=r+ +!h*s,v=_-A*I,T=v-A*d,E=k;break;case"left":v=_=e.coordinate,y=n+ +!h*a,m=y-A*I,E=m-A*d,T=k;break;case"right":v=_=e.coordinate,y=n+ +h*a,m=y+A*I,E=m+A*d,T=k;break;default:m=y=e.coordinate,_=r+ +h*s,v=_+A*I,T=v+A*d,E=k;break}return{line:{x1:m,y1:v,x2:y,y2:_},tick:{x:E,y:T}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:a,orientation:s,mirror:u,axisLine:c}=this.props,h=ln(ln(ln({},mt(this.props,!1)),mt(c,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!u||s==="bottom"&&u);h=ln(ln({},h),{},{x1:e,y1:n+d*a,x2:e+r,y2:n+d*a})}else{var m=+(s==="left"&&!u||s==="right"&&u);h=ln(ln({},h),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+a})}return O.createElement("line",su({},h,{className:dt("recharts-cartesian-axis-line",Ds(c,"className"))}))}static renderTickItem(e,n,r){var a,s=dt(n.className,"recharts-cartesian-axis-tick-value");if(O.isValidElement(e))a=O.cloneElement(e,ln(ln({},n),{},{className:s}));else if(typeof e=="function")a=e(ln(ln({},n),{},{className:s}));else{var u="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(u=dt(u,e.className)),a=O.createElement(xp,su({},n,{className:u}),r)}return a}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:s,tick:u,tickFormatter:c,unit:h}=this.props,d=$J(ln(ln({},this.props),{},{ticks:r}),e,n),m=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=mt(this.props,!1),_=mt(u,!1),E=ln(ln({},v),{},{fill:"none"},mt(a,!1)),T=d.map((A,I)=>{var{line:k,tick:D}=this.getTickLineCoord(A),F=ln(ln(ln(ln({textAnchor:m,verticalAnchor:y},v),{},{stroke:"none",fill:s},_),D),{},{index:I,payload:A,visibleTicksCount:d.length,tickFormatter:c});return O.createElement(Wn,su({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Xg(this.props,A,I)),a&&O.createElement("line",su({},E,k,{className:dt("recharts-cartesian-axis-tick-line",Ds(a,"className"))})),u&&Xu.renderTickItem(u,F,"".concat(typeof c=="function"?c(A.value,I):A.value).concat(h||"")))});return T.length>0?O.createElement("g",{className:"recharts-cartesian-axis-ticks"},T):null}render(){var{axisLine:e,width:n,height:r,className:a,hide:s}=this.props;if(s)return null;var{ticks:u}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:O.createElement(Wn,{className:dt("recharts-cartesian-axis",a),ref:c=>{if(c){var h=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(h);var d=h[0];if(d){var m=window.getComputedStyle(d).fontSize,y=window.getComputedStyle(d).letterSpacing;(m!==this.state.fontSize||y!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,u),gr.renderCallByParent(this.props))}}SE(Xu,"displayName","CartesianAxis");SE(Xu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function dP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){WJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WJ(t,e,n){return(e=XJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XJ(t){var e=QJ(t,"string");return typeof e=="symbol"?e:e+""}function QJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZJ={xAxis:{},yAxis:{},zAxis:{}},e4=Kr({name:"cartesianAxis",initialState:ZJ,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=dP(dP({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:JJ,removeXAxis:eee,addYAxis:tee,removeYAxis:nee,addZAxis:fne,removeZAxis:hne,updateYAxisWidth:ree}=e4.actions,iee=e4.reducer,aee=["children"],see=["dangerouslySetInnerHTML","ticks"];function t4(t,e,n){return(e=oee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oee(t){var e=lee(t,"string");return typeof e=="symbol"?e:e+""}function lee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(null,arguments)}function n4(t,e){if(t==null)return{};var n,r,a=uee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function uee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cee(t){var e=Dt(),n=O.useMemo(()=>{var{children:s}=t,u=n4(t,aee);return u},[t]),r=Te(s=>Na(s,n.id)),a=n===r;return O.useEffect(()=>(e(JJ(n)),()=>{e(eee(n))}),[n,e]),a?t.children:null}var fee=t=>{var{xAxisId:e,className:n}=t,r=Te(ok),a=Er(),s="xAxis",u=Te(_=>Gu(_,s,e,a)),c=Te(_=>HM(_,s,e,a)),h=Te(_=>zM(_,e)),d=Te(_=>uY(_,e));if(h==null||d==null)return null;var{dangerouslySetInnerHTML:m,ticks:y}=t,v=n4(t,see);return O.createElement(Xu,F_({},v,{scale:u,x:d.x,y:d.y,width:h.width,height:h.height,className:dt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:c}))},hee=t=>{var e,n,r,a,s;return O.createElement(cee,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(a=t.minTickGap)!==null&&a!==void 0?a:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},O.createElement(fee,t))};class Xf extends O.Component{render(){return O.createElement(hee,this.props)}}t4(Xf,"displayName","XAxis");t4(Xf,"defaultProps",{allowDataOverflow:hr.allowDataOverflow,allowDecimals:hr.allowDecimals,allowDuplicatedCategory:hr.allowDuplicatedCategory,height:hr.height,hide:!1,mirror:hr.mirror,orientation:hr.orientation,padding:hr.padding,reversed:hr.reversed,scale:hr.scale,tickCount:hr.tickCount,type:hr.type,xAxisId:0});var dee=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=t,u=0;if(e){e.forEach(m=>{if(m){var y=m.getBoundingClientRect();y.width>u&&(u=y.width)}});var c=n?n.getBoundingClientRect().width:0,h=a+s,d=u+h+c+(n?r:0);return Math.round(d)}return 0},mee=["dangerouslySetInnerHTML","ticks"];function r4(t,e,n){return(e=gee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gee(t){var e=pee(t,"string");return typeof e=="symbol"?e:e+""}function pee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H_.apply(null,arguments)}function yee(t,e){if(t==null)return{};var n,r,a=vee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function vee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bee(t){var e=Dt();return O.useEffect(()=>(e(tee(t)),()=>{e(nee(t))}),[t,e]),null}var _ee=t=>{var e,{yAxisId:n,className:r,width:a,label:s}=t,u=O.useRef(null),c=O.useRef(null),h=Te(ok),d=Er(),m=Dt(),y="yAxis",v=Te(D=>Gu(D,y,n,d)),_=Te(D=>qM(D,n)),E=Te(D=>cY(D,n)),T=Te(D=>HM(D,y,n,d));if(O.useLayoutEffect(()=>{var D;if(!(a!=="auto"||!_||mE(s)||O.isValidElement(s))){var F=u.current,q=F==null||(D=F.tickRefs)===null||D===void 0?void 0:D.current,{tickSize:H,tickMargin:N}=F.props,R=dee({ticks:q,label:c.current,labelGapWithTick:5,tickSize:H,tickMargin:N});Math.round(_.width)!==Math.round(R)&&m(ree({id:n,width:R}))}},[u,u==null||(e=u.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,_?.width,_,m,s,n,a]),_==null||E==null)return null;var{dangerouslySetInnerHTML:A,ticks:I}=t,k=yee(t,mee);return O.createElement(Xu,H_({},k,{ref:u,labelRef:c,scale:v,x:E.x,y:E.y,width:_.width,height:_.height,className:dt("recharts-".concat(y," ").concat(y),r),viewBox:h,ticks:T}))},wee=t=>{var e,n,r,a,s;return O.createElement(O.Fragment,null,O.createElement(bee,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(a=t.minTickGap)!==null&&a!==void 0?a:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),O.createElement(_ee,t))},Eee={allowDataOverflow:dr.allowDataOverflow,allowDecimals:dr.allowDecimals,allowDuplicatedCategory:dr.allowDuplicatedCategory,hide:!1,mirror:dr.mirror,orientation:dr.orientation,padding:dr.padding,reversed:dr.reversed,scale:dr.scale,tickCount:dr.tickCount,type:dr.type,width:dr.width,yAxisId:0};class Qf extends O.Component{render(){return O.createElement(wee,this.props)}}r4(Qf,"displayName","YAxis");r4(Qf,"defaultProps",Eee);var Ob={exports:{}},Cb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mP;function Tee(){if(mP)return Cb;mP=1;var t=Pu();function e(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,u=t.useMemo,c=t.useDebugValue;return Cb.useSyncExternalStoreWithSelector=function(h,d,m,y,v){var _=a(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=u(function(){function A(q){if(!I){if(I=!0,k=q,q=y(q),v!==void 0&&E.hasValue){var H=E.value;if(v(H,q))return D=H}return D=q}if(H=D,n(k,q))return H;var N=y(q);return v!==void 0&&v(H,N)?(k=q,H):(k=q,D=N)}var I=!1,k,D,F=m===void 0?null:m;return[function(){return A(d())},F===null?void 0:function(){return A(F())}]},[d,m,y,v]);var T=r(h,_[0],_[1]);return s(function(){E.hasValue=!0,E.value=T},[T]),c(T),T},Cb}var gP;function Aee(){return gP||(gP=1,Ob.exports=Tee()),Ob.exports}Aee();function See(t){t()}function xee(){let t=null,e=null;return{clear(){t=null,e=null},notify(){See(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var pP={notify(){},get:()=>[]};function Oee(t,e){let n,r=pP,a=0,s=!1;function u(T){m();const A=r.subscribe(T);let I=!1;return()=>{I||(I=!0,A(),y())}}function c(){r.notify()}function h(){E.onStateChange&&E.onStateChange()}function d(){return s}function m(){a++,n||(n=t.subscribe(h),r=xee())}function y(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=pP)}function v(){s||(s=!0,m())}function _(){s&&(s=!1,y())}const E={addNestedSub:u,notifyNestedSubs:c,handleChangeWrapper:h,isSubscribed:d,trySubscribe:v,tryUnsubscribe:_,getListeners:()=>r};return E}var Cee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Iee=Cee(),Ree=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Pee=Ree(),Nee=()=>Iee||Pee?O.useLayoutEffect:O.useEffect,Dee=Nee(),kee=Symbol.for("react-redux-context"),Mee=typeof globalThis<"u"?globalThis:{};function jee(){if(!O.createContext)return{};const t=Mee[kee]??=new Map;let e=t.get(O.createContext);return e||(e=O.createContext(null),t.set(O.createContext,e)),e}var Lee=jee();function Vee(t){const{children:e,context:n,serverState:r,store:a}=t,s=O.useMemo(()=>{const h=Oee(a);return{store:a,subscription:h,getServerState:r?()=>r:void 0}},[a,r]),u=O.useMemo(()=>a.getState(),[a]);Dee(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),u!==a.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,u]);const c=n||Lee;return O.createElement(c.Provider,{value:s},e)}var Uee=Vee,Bee=(t,e)=>e,xE=te([Bee,st,TG,wn,sj,Da,hW,cn],yW),OE=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},i4=Fr("mouseClick"),a4=hh();a4.startListening({actionCreator:i4,effect:(t,e)=>{var n=t.payload,r=xE(e.getState(),OE(n));r?.activeIndex!=null&&e.dispatch(TY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var K_=Fr("mouseMove"),s4=hh();s4.startListening({actionCreator:K_,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=aE(r,r.tooltip.settings.shared),s=xE(r,OE(n));a==="axis"&&(s?.activeIndex!=null?e.dispatch(JM({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(ZM()))}});function zee(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var yP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},o4=Kr({name:"rootProps",initialState:yP,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:yP.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),qee=o4.reducer,{updateOptions:$ee}=o4.actions,l4=Kr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Fee}=l4.actions,Hee=l4.reducer,u4=Fr("keyDown"),c4=Fr("focus"),CE=hh();CE.startListening({actionCreator:u4,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var u=Number(sE(a,il(n))),c=Da(n);if(s==="Enter"){var h=vg(n,"axis","hover",String(a.index));e.dispatch(L_({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var d=mY(n),m=d==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,v=u+y*m;if(!(c==null||v>=c.length||v<0)){var _=vg(n,"axis","hover",String(v));e.dispatch(L_({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});CE.startListening({actionCreator:c4,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",u=vg(n,"axis","hover",String(s));e.dispatch(L_({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:u}))}}}});var Lr=Fr("externalEvent"),f4=hh();f4.startListening({actionCreator:Lr,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:rW(n),activeDataKey:cj(n),activeIndex:Wo(n),activeLabel:uj(n),activeTooltipIndex:Wo(n),isTooltipActive:iW(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Kee=te([Yu],t=>t.tooltipItemPayloads),Gee=te([Kee,Eh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(c=>c.settings.dataKey===r);if(a!=null){var{positions:s}=a;if(s!=null){var u=e(s,n);return u}}}),h4=Fr("touchMove"),d4=hh();d4.startListening({actionCreator:h4,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=aE(r,r.tooltip.settings.shared);if(a==="axis"){var s=xE(r,OE({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(JM({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var u,c=n.touches[0],h=document.elementFromPoint(c.clientX,c.clientY);if(!h||!h.getAttribute)return;var d=h.getAttribute(ak),m=(u=h.getAttribute(sk))!==null&&u!==void 0?u:void 0,y=Gee(e.getState(),d,m);e.dispatch(QM({activeDataKey:m,activeIndex:d,activeCoordinate:y}))}}});var Yee=DD({brush:AJ,cartesianAxis:iee,chartData:DW,graphicalItems:gQ,layout:Tq,legend:u$,options:CW,polarAxis:JX,polarOptions:Hee,referenceElements:PJ,rootProps:qee,tooltip:AY}),Wee=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Y7({reducer:Yee,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([a4.middleware,s4.middleware,CE.middleware,f4.middleware,d4.middleware]),devTools:{serialize:{replacer:zee},name:"recharts-".concat(n)}})};function m4(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Er(),s=O.useRef(null);if(a)return n;s.current==null&&(s.current=Wee(e,r));var u=Q1;return O.createElement(Uee,{context:u,store:s.current},n)}function g4(t){var{layout:e,width:n,height:r,margin:a}=t,s=Dt(),u=Er();return O.useEffect(()=>{u||(s(_q(e)),s(wq({width:n,height:r})),s(bq(a)))},[s,u,e,n,r,a]),null}function p4(t){var e=Dt();return O.useEffect(()=>{e($ee(t))},[e,t]),null}var Xee=["children"];function Qee(t,e){if(t==null)return{};var n,r,a=Zee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Zee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sg(){return Sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sg.apply(null,arguments)}var Jee={width:"100%",height:"100%"},ete=O.forwardRef((t,e)=>{var n=s$(),r=o$(),a=fk();if(!Su(n)||!Su(r))return null;var{children:s,otherAttributes:u,title:c,desc:h}=t,d,m;return typeof u.tabIndex=="number"?d=u.tabIndex:d=a?0:void 0,typeof u.role=="string"?m=u.role:m=a?"application":void 0,O.createElement(rD,Sg({},u,{title:c,desc:h,role:m,tabIndex:d,width:n,height:r,style:Jee,ref:e}),s)}),tte=t=>{var{children:e}=t,n=Te(cp);if(!n)return null;var{width:r,height:a,y:s,x:u}=n;return O.createElement(rD,{width:r,height:a,x:u,y:s},e)},vP=O.forwardRef((t,e)=>{var{children:n}=t,r=Qee(t,Xee),a=Er();return a?O.createElement(tte,null,n):O.createElement(ete,Sg({ref:e},r),n)});function nte(){var t=Dt(),[e,n]=O.useState(null),r=Te(Qq);return O.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;wr(s)&&s!==r&&t(Eq(s))}},[e,t,r]),n}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ite(t,e,n){return(e=ate(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ate(t){var e=ste(t,"string");return typeof e=="symbol"?e:e+""}function ste(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ote=O.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:u,onDoubleClick:c,onMouseDown:h,onMouseEnter:d,onMouseLeave:m,onMouseMove:y,onMouseUp:v,onTouchEnd:_,onTouchMove:E,onTouchStart:T,style:A,width:I}=t,k=Dt(),[D,F]=O.useState(null),[q,H]=O.useState(null);jW();var N=nte(),R=O.useCallback(re=>{N(re),typeof e=="function"&&e(re),F(re),H(re)},[N,e,F,H]),j=O.useCallback(re=>{k(i4(re)),k(Lr({handler:s,reactEvent:re}))},[k,s]),B=O.useCallback(re=>{k(K_(re)),k(Lr({handler:d,reactEvent:re}))},[k,d]),V=O.useCallback(re=>{k(ZM()),k(Lr({handler:m,reactEvent:re}))},[k,m]),U=O.useCallback(re=>{k(K_(re)),k(Lr({handler:y,reactEvent:re}))},[k,y]),L=O.useCallback(()=>{k(c4())},[k]),_e=O.useCallback(re=>{k(u4(re.key))},[k]),Se=O.useCallback(re=>{k(Lr({handler:u,reactEvent:re}))},[k,u]),Z=O.useCallback(re=>{k(Lr({handler:c,reactEvent:re}))},[k,c]),ue=O.useCallback(re=>{k(Lr({handler:h,reactEvent:re}))},[k,h]),de=O.useCallback(re=>{k(Lr({handler:v,reactEvent:re}))},[k,v]),Ce=O.useCallback(re=>{k(Lr({handler:T,reactEvent:re}))},[k,T]),$=O.useCallback(re=>{k(h4(re)),k(Lr({handler:E,reactEvent:re}))},[k,E]),ae=O.useCallback(re=>{k(Lr({handler:_,reactEvent:re}))},[k,_]);return O.createElement(pj.Provider,{value:D},O.createElement(F8.Provider,{value:q},O.createElement("div",{className:dt("recharts-wrapper",r),style:rte({position:"relative",cursor:"default",width:I,height:a},A),onClick:j,onContextMenu:Se,onDoubleClick:Z,onFocus:L,onKeyDown:_e,onMouseDown:ue,onMouseEnter:B,onMouseLeave:V,onMouseMove:U,onMouseUp:de,onTouchEnd:ae,onTouchMove:$,onTouchStart:Ce,ref:R},n)))}),lte=["children","className","width","height","style","compact","title","desc"];function ute(t,e){if(t==null)return{};var n,r,a=cte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function cte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var y4=O.forwardRef((t,e)=>{var{children:n,className:r,width:a,height:s,style:u,compact:c,title:h,desc:d}=t,m=ute(t,lte),y=mt(m,!1);return c?O.createElement(vP,{otherAttributes:y,title:h,desc:d},n):O.createElement(ote,{className:r,style:u,width:a,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},O.createElement(vP,{otherAttributes:y,title:h,desc:d,ref:e},O.createElement(DJ,null,n)))}),fte=["width","height"];function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(null,arguments)}function hte(t,e){if(t==null)return{};var n,r,a=dte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function dte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mte={top:5,right:5,bottom:5,left:5},gte={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:mte,reverseStackOrder:!1,syncMethod:"index"},pte=O.forwardRef(function(e,n){var r,a=ji(e.categoricalChartProps,gte),{width:s,height:u}=a,c=hte(a,fte);if(!Su(s)||!Su(u))return null;var{chartName:h,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:y,categoricalChartProps:v}=e,_={chartName:h,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:y,eventEmitter:void 0};return O.createElement(m4,{preloadedState:{options:_},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:h},O.createElement(Xj,{chartData:v.data}),O.createElement(g4,{width:s,height:u,layout:a.layout,margin:a.margin}),O.createElement(p4,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),O.createElement(y4,G_({},c,{width:s,height:u,ref:n})))}),yte=["axis","item"],Y_=O.forwardRef((t,e)=>O.createElement(pte,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yte,tooltipPayloadSearcher:yj,categoricalChartProps:t,ref:e}));function vte(t){var e=Dt();return O.useEffect(()=>{e(Fee(t))},[e,t]),null}var bte=["width","height","layout"];function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(null,arguments)}function _te(t,e){if(t==null)return{};var n,r,a=wte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function wte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ete={top:5,right:5,bottom:5,left:5},Tte={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ete,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Ate=O.forwardRef(function(e,n){var r,a=ji(e.categoricalChartProps,Tte),{width:s,height:u,layout:c}=a,h=_te(a,bte);if(!Su(s)||!Su(u))return null;var{chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:y,tooltipPayloadSearcher:v}=e,_={chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:y,tooltipPayloadSearcher:v,eventEmitter:void 0};return O.createElement(m4,{preloadedState:{options:_},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:d},O.createElement(Xj,{chartData:a.data}),O.createElement(g4,{width:s,height:u,layout:c,margin:a.margin}),O.createElement(p4,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),O.createElement(vte,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),O.createElement(y4,W_({width:s,height:u},h,{ref:n})))}),Ste=["item"],xte={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ote=O.forwardRef((t,e)=>{var n=ji(t,xte);return O.createElement(Ate,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ste,tooltipPayloadSearcher:yj,categoricalChartProps:n,ref:e})});const Cte={apiKey:"AIzaSyB82KNkYF7YvQKnXs1tx38rzcIJPN3x8LU",authDomain:"vit-hostel-complaint-new.firebaseapp.com",projectId:"vit-hostel-complaint-new",storageBucket:"vit-hostel-complaint-new.firebasestorage.app",messagingSenderId:"76683307577",appId:"1:76683307577:web:b8f76b79c1d4247b4fbbe8",measurementId:"G-Q1B54YBRKD"},v4=MP(Cte),Vo=r5(v4),Ai=i8(v4),b4=["tejassharma0102@gmail.com","suchetsanjeev.patil@gmail.com"],IE=["all","A","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T"],Ip=["all","Wi-fi Related Complaints","Carpenter Related Complaints","AC Related Complaints","Plumber Related Complaints","Electrician Related Complaints","Mess Related Complaints"],_P=async t=>{const n="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyDgNfRNtmk8PiRsTkZO8t3BKYVwwt_qNjc",r={contents:[{role:"user",parts:[{text:t}]}]};try{const a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok){const u=await a.text();throw console.error("Gemini API Error Response:",u),new Error(`API request failed with status ${a.status}`)}const s=await a.json();if(s.candidates&&s.candidates.length>0&&s.candidates[0].content&&s.candidates[0].content.parts&&s.candidates[0].content.parts.length>0)return s.candidates[0].content.parts[0].text;if(console.warn("Gemini API response structure unexpected:",s),s.promptFeedback&&s.promptFeedback.blockReason)throw new Error(`Request blocked: ${s.promptFeedback.blockReason}`);return"Could not generate a response. Please try again."}catch(a){return console.error("Error calling Gemini API:",a),`Error: ${a.message}`}},_4=()=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),wP=()=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),Ite=()=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Rte=()=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),EP=()=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5",viewBox:"0 0 20 20",fill:"currentColor",children:C.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v2.586l1.707-1.707a1 1 0 111.414 1.414L12.414 8H15a1 1 0 110 2h-2.586l1.707 1.707a1 1 0 11-1.414 1.414L11 11.414V14a1 1 0 11-2 0v-2.586l-1.707 1.707a1 1 0 11-1.414-1.414L7.586 10H5a1 1 0 110-2h2.586L5.879 6.293a1 1 0 111.414-1.414L9 6.586V4a1 1 0 011-1z",clipRule:"evenodd"})}),Pte=()=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V7a2 2 0 012-2h10a2 2 0 012 2v10a2 2 0 01-2 2z"})}),w4=({filled:t,onClick:e})=>C.jsx("svg",{onClick:e,xmlns:"http://www.w3.org/2000/svg",className:`h-8 w-8 cursor-pointer ${t?"text-yellow-400":"text-gray-300"}`,viewBox:"0 0 20 20",fill:"currentColor",children:C.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),Nte=()=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:C.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.707.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 14.95a1 1 0 010-1.414l.707-.707a1 1 0 011.414 1.414l-.707.707a1 1 0 01-1.414 0zM4 11a1 1 0 100-2H3a1 1 0 100 2h1z",clipRule:"evenodd"})}),Dte=()=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:C.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}),Rp=({theme:t,setTheme:e})=>{const n=()=>{e(t==="light"?"dark":"light")};return C.jsx("button",{onClick:n,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:t==="light"?C.jsx(Dte,{}):C.jsx(Nte,{})})};function kte(){const[t,e]=O.useState(null),[n,r]=O.useState(!0),[a,s]=O.useState("light");O.useEffect(()=>{a==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[a]),O.useEffect(()=>{const d=HV(Vo,m=>{e(m),r(!1)});return()=>d()},[]);const u=async()=>{await KV(Vo)};if(n)return C.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:C.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:"Loading..."})});const c=t&&b4.includes(t.email),h=t&&t.emailVerified;return C.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200 font-sans",children:t?c?C.jsx(Vte,{user:t,onLogout:u,theme:a,setTheme:s}):h?C.jsx(Lte,{user:t,onLogout:u,theme:a,setTheme:s}):C.jsx(jte,{user:t,onLogout:u,theme:a,setTheme:s}):C.jsx(Mte,{theme:a,setTheme:s})})}function Mte({theme:t,setTheme:e}){const[n,r]=O.useState(""),[a,s]=O.useState(""),[u,c]=O.useState(""),[h,d]=O.useState(""),[m,y]=O.useState(""),[v,_]=O.useState("login"),[E,T]=O.useState(""),[A,I]=O.useState(""),k=()=>a!==u?(T("Passwords do not match."),!1):/^\d{2}[A-Z]{3}\d{4}$/.test(m)?!0:(T("Invalid Registration Number format. Example: 22BCE3947"),!1),D=async()=>{if(k())try{if(b4.includes(n)){T("Registration is not allowed for this email address.");return}const j=(await zV(Vo,n,a)).user;await c2(j),await _8(As(Ai,"users",j.uid),{name:h,regNo:m,email:j.email})}catch(R){T(R.message)}},F=async()=>{try{await qV(Vo,n,a)}catch(R){T(R.message)}},q=R=>{R.preventDefault(),T(""),v==="register"?D():F()},H=async R=>{R.preventDefault(),T(""),I("");try{await BV(Vo,n),I("Password reset link sent! Please check your email.")}catch(j){T(j.message)}},N=R=>{_(R),T(""),I(""),r(""),s(""),c("")};return C.jsxs("div",{className:"relative flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:[C.jsx("div",{className:"absolute top-4 right-4 z-10",children:C.jsx(Rp,{theme:t,setTheme:e})}),C.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-gray-800 rounded-xl shadow-md m-4",children:[C.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[C.jsx("img",{src:"https://i.pinimg.com/736x/c6/c2/e9/c6c2e9022f25f404fe108a4cfefab222.jpg",alt:"VIT Vellore Logo",className:"h-48 w-auto",onError:R=>{R.target.onerror=null,R.target.src="https://placehold.co/200x80?text=VIT+Logo"}}),C.jsxs("h2",{className:"text-2xl font-bold text-center text-gray-700 dark:text-gray-200",children:[v==="login"&&"Login to Your Account",v==="register"&&"Create a New Account",v==="reset"&&"Reset Your Password"]}),v!=="reset"&&C.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"VIT Men's Hostel Complaint System"})]}),v==="reset"?C.jsxs("form",{onSubmit:H,className:"space-y-4 pt-4",children:[C.jsx("p",{className:"text-sm text-center text-gray-600 dark:text-gray-300",children:"Enter your email address and we will send you a link to reset your password."}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-600 dark:text-gray-300",children:"Email"}),C.jsx("input",{type:"email",value:n,onChange:R=>r(R.target.value),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg",placeholder:"your.email@vitstudent.ac.in",required:!0})]}),E&&C.jsx("p",{className:"text-red-500 text-sm text-center",children:E.replace("Firebase: ","")}),A&&C.jsx("p",{className:"text-green-600 text-sm text-center",children:A}),C.jsx("button",{type:"submit",className:"w-full py-2.5 px-4 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition",children:"Send Reset Link"}),C.jsx("p",{className:"text-sm text-center",children:C.jsx("button",{type:"button",onClick:()=>N("login"),className:"font-medium text-blue-600 hover:underline dark:text-blue-500",children:"Back to Login"})})]}):C.jsxs(C.Fragment,{children:[C.jsxs("form",{onSubmit:q,className:"space-y-4 pt-4",children:[v==="register"&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-600 dark:text-gray-300",children:"Full Name"}),C.jsx("input",{type:"text",value:h,onChange:R=>d(R.target.value),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg",placeholder:"John Doe",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-600 dark:text-gray-300",children:"Registration Number"}),C.jsx("input",{type:"text",value:m,onChange:R=>y(R.target.value.toUpperCase()),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg",placeholder:"22BCE3947",required:!0})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-600 dark:text-gray-300",children:"Email"}),C.jsx("input",{type:"email",value:n,onChange:R=>r(R.target.value),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg",placeholder:"your.email@vitstudent.ac.in",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-600 dark:text-gray-300",children:"Password"}),C.jsx("input",{type:"password",value:a,onChange:R=>s(R.target.value),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg",placeholder:"",required:!0})]}),v==="register"&&C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-600 dark:text-gray-300",children:"Confirm Password"}),C.jsx("input",{type:"password",value:u,onChange:R=>c(R.target.value),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg",placeholder:"",required:!0})]}),v==="login"&&C.jsx("div",{className:"text-right",children:C.jsx("button",{type:"button",onClick:()=>N("reset"),className:"text-sm font-medium text-blue-600 hover:underline dark:text-blue-500",children:"Forgot Password?"})}),E&&C.jsx("p",{className:"text-red-500 text-sm text-center",children:E.replace("Firebase: ","")}),C.jsx("button",{type:"submit",className:"w-full py-2.5 px-4 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition",children:v==="register"?"Register":"Login"})]}),C.jsxs("p",{className:"text-sm text-center text-gray-500 dark:text-gray-400",children:[v==="register"?"Already have an account?":"Don't have an account?",C.jsx("button",{onClick:()=>N(v==="register"?"login":"register"),className:"ml-1 font-medium text-blue-600 hover:underline dark:text-blue-500",children:v==="register"?"Login":"Register"})]})]})]})]})}function jte({user:t,onLogout:e,theme:n,setTheme:r}){const[a,s]=O.useState("");O.useEffect(()=>{const c=setInterval(async()=>{Vo.currentUser&&await Vo.currentUser.reload()},3e3);return()=>clearInterval(c)},[]);const u=async()=>{try{await c2(t),s("A new verification email has been sent. Please check your inbox (and spam folder).")}catch(c){s(`Error: ${c.message}`)}};return C.jsxs("div",{className:"relative flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:[C.jsx("div",{className:"absolute top-4 right-4 z-10",children:C.jsx(Rp,{theme:n,setTheme:r})}),C.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-gray-800 rounded-xl shadow-md m-4 text-center",children:[C.jsx("h2",{className:"text-2xl font-bold text-gray-700 dark:text-gray-200",children:"Verify Your Email"}),C.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["A verification link has been sent to ",C.jsx("strong",{children:t.email}),". Please click the link to activate your account."]}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Once verified, please click the button below to log in."}),C.jsxs("div",{className:"space-y-4 pt-4",children:[C.jsx("button",{onClick:e,className:"w-full py-2.5 px-4 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition",children:"Proceed to Login"}),C.jsx("button",{onClick:u,className:"w-full py-2.5 px-4 font-semibold text-gray-700 bg-gray-200 dark:bg-gray-600 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700 transition",children:"Resend Verification Email"})]}),a&&C.jsx("p",{className:"text-green-600 text-sm mt-4",children:a})]})]})}function Lte({user:t,onLogout:e,theme:n,setTheme:r}){const[a,s]=O.useState([]),[u,c]=O.useState(null),[h,d]=O.useState("dashboard"),[m,y]=O.useState(!1),[v,_]=O.useState({isOpen:!1,complaintId:null});O.useEffect(()=>{if(t){const A=As(Ai,"users",t.uid),I=n_(A,F=>{F.exists()&&c(F.data())}),k=GN(D1(Ai,"complaints"),y8("userId","==",t.uid)),D=n_(k,F=>{const q=F.docs.map(H=>({id:H.id,...H.data()}));q.sort((H,N)=>(N.createdAt?.toDate()||0)-(H.createdAt?.toDate()||0)),s(q)});return()=>{I(),D()}}},[t]);const E=async A=>{await QN(As(Ai,"complaints",A))},T=async(A,I,k)=>{const D=As(Ai,"complaints",A);await t_(D,{feedback:{rating:I,review:k,submittedAt:new Date},feedbackSubmitted:!0}),_({isOpen:!1,complaintId:null})};return C.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[v.isOpen&&C.jsx(Gte,{complaintId:v.complaintId,onSubmit:T,onClose:()=>_({isOpen:!1,complaintId:null})}),C.jsx(E4,{onLogout:e,setView:d,isSidebarOpen:m,setSidebarOpen:y,isAdmin:!1,profile:u}),C.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[C.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm p-4 flex-shrink-0 flex justify-between items-center",children:[C.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:"Student Portal"}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx(Rp,{theme:n,setTheme:r}),C.jsx("button",{onClick:()=>y(!m),className:"md:hidden",children:C.jsx(_4,{})})]})]}),C.jsxs("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[h==="dashboard"&&C.jsx(Kte,{complaints:a,setView:d,onDelete:E,onOpenFeedback:A=>_({isOpen:!0,complaintId:A})}),h==="form"&&C.jsx(Yte,{user:t,setView:d,profile:u})]})]})]})}function Vte({user:t,onLogout:e,theme:n,setTheme:r}){const[a,s]=O.useState([]),[u,c]=O.useState("dashboard"),[h,d]=O.useState(!1);return O.useEffect(()=>{const m=GN(D1(Ai,"complaints")),y=n_(m,v=>{const _=v.docs.map(E=>({id:E.id,...E.data()}));_.sort((E,T)=>(T.createdAt?.toDate()||0)-(E.createdAt?.toDate()||0)),s(_)},v=>console.error("Error fetching all complaints (Admin): ",v));return()=>y()},[]),C.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[C.jsx(E4,{onLogout:e,setView:c,isSidebarOpen:h,setSidebarOpen:d,isAdmin:!0}),C.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[C.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm p-4 flex-shrink-0 flex justify-between items-center",children:[C.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:"Admin Portal"}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx(Rp,{theme:n,setTheme:r}),C.jsx("button",{onClick:()=>d(!h),className:"md:hidden",children:C.jsx(_4,{})})]})]}),C.jsxs("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[u==="dashboard"&&C.jsx(Ute,{complaints:a}),u==="reports"&&C.jsx(Bte,{complaints:a})]})]})]})}function Ute({complaints:t}){const[e,n]=O.useState([]),[r,a]=O.useState({category:"",block:"",status:"",search:""}),[s,u]=O.useState({isOpen:!1,content:"",title:""}),c=["all","Submitted","In Progress","Resolved"];O.useEffect(()=>{n(t)},[t]),O.useEffect(()=>{let v=t;if(r.category&&r.category!=="all"&&(v=v.filter(_=>_.category===r.category)),r.block&&r.block!=="all"&&(v=v.filter(_=>_.block===r.block)),r.status&&r.status!=="all"&&(v=v.filter(_=>_.status===r.status)),r.search){const _=r.search.toLowerCase();v=v.filter(E=>E.name?.toLowerCase().includes(_)||E.regNo?.toLowerCase().includes(_)||E.subject?.toLowerCase().includes(_)||E.description?.toLowerCase().includes(_))}n(v)},[r,t]);const h=v=>a(_=>({..._,[v.target.name]:v.target.value})),d=async(v,_)=>await t_(As(Ai,"complaints",v),{status:_}),m=async(v,_)=>{_.trim()&&await t_(As(Ai,"complaints",v),{notes:T8({text:_,author:"Admin",createdAt:new Date})})},y=async v=>await QN(As(Ai,"complaints",v));return C.jsxs(C.Fragment,{children:[C.jsx(Fte,{...s,onClose:()=>u({isOpen:!1,content:"",title:""})}),C.jsx(zte,{complaints:t}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 my-6",children:[C.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:C.jsx(qte,{complaints:t})}),C.jsx("div",{className:"lg:col-span-3 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:C.jsx($te,{complaints:t})})]}),C.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 mb-6",children:C.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 items-end",children:[C.jsx("input",{type:"text",name:"search",placeholder:"Search...",value:r.search,onChange:h,className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),C.jsxs("select",{name:"category",value:r.category,onChange:h,className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg",children:[C.jsx("option",{value:"",disabled:!0,children:"Filter by Category"}),Ip.map(v=>C.jsx("option",{value:v,children:v==="all"?"All Categories":v},v))]}),C.jsxs("select",{name:"block",value:r.block,onChange:h,className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg",children:[C.jsx("option",{value:"",disabled:!0,children:"Filter by Block"}),IE.map(v=>C.jsx("option",{value:v,children:v==="all"?"All Blocks":v},v))]}),C.jsxs("select",{name:"status",value:r.status,onChange:h,className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg",children:[C.jsx("option",{value:"",disabled:!0,children:"Filter by Status"}),c.map(v=>C.jsx("option",{value:v,children:v==="all"?"All Statuses":v},v))]})]})}),C.jsxs("div",{className:"space-y-4",children:[e.map(v=>C.jsx(Hte,{complaint:v,onStatusChange:d,onAddNote:m,onDelete:y,setModalState:u},v.id)),e.length===0&&C.jsx("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-600",children:C.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No complaints match the current filters."})})]})]})}function Bte({complaints:t}){const e=t.filter(s=>s.feedbackSubmitted),n=e.reduce((s,u)=>s+u.feedback.rating,0)/(e.length||1),r=[1,2,3,4,5].map(s=>({name:`${s} Star`,count:e.filter(u=>u.feedback.rating===s).length})),a=Ip.slice(1).map(s=>{const u=e.filter(h=>h.category===s),c=u.reduce((h,d)=>h+d.feedback.rating,0)/(u.length||1);return{name:s.split(" ")[0],"Average Rating":c.toFixed(2)}}).filter(s=>s["Average Rating"]>0);return C.jsxs("div",{children:[C.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200 mb-6",children:"Feedback Reports"}),C.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[C.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Feedback"}),C.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:e.length})]}),C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[C.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Average Rating"}),C.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[n.toFixed(2)," / 5"]})]})]}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 my-6",children:[C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[C.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Rating Distribution"}),C.jsx(_g,{width:"100%",height:250,children:C.jsxs(Y_,{data:r,children:[C.jsx(Xf,{dataKey:"name",fontSize:12,tick:{fill:"#a0aec0"}}),C.jsx(Qf,{allowDecimals:!1,tick:{fill:"#a0aec0"}}),C.jsx(bg,{contentStyle:{backgroundColor:"#2d3748",border:"none"}}),C.jsx(Wf,{dataKey:"count",fill:"#8884d8"})]})})]}),C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[C.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Average Rating by Category"}),C.jsx(_g,{width:"100%",height:250,children:C.jsxs(Y_,{data:a,children:[C.jsx(Xf,{dataKey:"name",fontSize:12,tick:{fill:"#a0aec0"}}),C.jsx(Qf,{domain:[0,5],tick:{fill:"#a0aec0"}}),C.jsx(bg,{contentStyle:{backgroundColor:"#2d3748",border:"none"}}),C.jsx(Wf,{dataKey:"Average Rating",fill:"#82ca9d"})]})})]})]}),C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[C.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-4",children:"Recent Feedback"}),C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[C.jsx("thead",{className:"text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-50 dark:bg-gray-700",children:C.jsxs("tr",{children:[C.jsx("th",{scope:"col",className:"px-6 py-3",children:"Student"}),C.jsx("th",{scope:"col",className:"px-6 py-3",children:"Complaint"}),C.jsx("th",{scope:"col",className:"px-6 py-3",children:"Rating"}),C.jsx("th",{scope:"col",className:"px-6 py-3",children:"Review"})]})}),C.jsx("tbody",{children:e.map(s=>C.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:[C.jsxs("td",{className:"px-6 py-4",children:[s.name," (",s.regNo,")"]}),C.jsx("td",{className:"px-6 py-4",children:s.subject}),C.jsxs("td",{className:"px-6 py-4",children:[s.feedback.rating," / 5"]}),C.jsx("td",{className:"px-6 py-4 max-w-sm truncate",children:s.feedback.review})]},s.id))})]})})]})]})}function zte({complaints:t}){const e=t.length,n=t.filter(s=>s.status==="Submitted").length,r=t.filter(s=>s.status==="In Progress").length,a=t.filter(s=>s.status==="Resolved").length;return C.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[C.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Complaints"}),C.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:e})]}),C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[C.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Pending"}),C.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:n})]}),C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[C.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"In Progress"}),C.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:r})]}),C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[C.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Resolved"}),C.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:a})]})]})}const TP=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943"];function qte({complaints:t}){const e=Ip.slice(1).map(n=>({name:n.split(" ")[0],value:t.filter(r=>r.category===n).length})).filter(n=>n.value>0);return C.jsxs(C.Fragment,{children:[C.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Complaints by Category"}),C.jsx(_g,{width:"100%",height:200,children:C.jsxs(Ote,{children:[C.jsx(EE,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:{fill:"#fff"},children:e.map((n,r)=>C.jsx(Th,{fill:TP[r%TP.length]},`cell-${r}`))}),C.jsx(bg,{contentStyle:{backgroundColor:"#2d3748",border:"none"}})]})})]})}function $te({complaints:t}){const e=IE.slice(1).map(n=>({name:`Block ${n}`,complaints:t.filter(r=>r.block===n).length}));return C.jsxs(C.Fragment,{children:[C.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Complaints by Block"}),C.jsx(_g,{width:"100%",height:200,children:C.jsxs(Y_,{data:e,margin:{top:5,right:20,left:-10,bottom:5},children:[C.jsx(Xf,{dataKey:"name",fontSize:12,tick:{fill:"#a0aec0"}}),C.jsx(Qf,{tick:{fill:"#a0aec0"}}),C.jsx(bg,{contentStyle:{backgroundColor:"#2d3748",border:"none"}}),C.jsx(Wf,{dataKey:"complaints",fill:"#8884d8"})]})})]})}function Fte({isOpen:t,onClose:e,title:n,content:r}){return t?C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:C.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg m-4",children:[C.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:C.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:n})}),C.jsx("div",{className:"p-4 whitespace-pre-wrap text-gray-600 dark:text-gray-300 text-sm max-h-96 overflow-y-auto",children:r}),C.jsx("div",{className:"p-4 border-t dark:border-gray-700 flex justify-end",children:C.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700",children:"Close"})})]})}):null}function Hte({complaint:t,onStatusChange:e,onAddNote:n,onDelete:r,setModalState:a}){const[s,u]=O.useState(""),[c,h]=O.useState(!1),[d,m]=O.useState(!1),[y,v]=O.useState({summarize:!1,draft:!1}),_=I=>{I.preventDefault(),n(t.id,s),u("")},E=()=>{d?r(t.id):(m(!0),setTimeout(()=>m(!1),3e3))},T=async()=>{v(D=>({...D,summarize:!0}));const I=`Summarize the following student hostel complaint in 2-3 sentences:

Category: ${t.category}
Subject: ${t.subject}
Description: ${t.description}`,k=await _P(I);a({isOpen:!0,title:"Complaint Summary",content:k}),v(D=>({...D,summarize:!1}))},A=async()=>{v(D=>({...D,draft:!0}));const I=`You are a helpful hostel admin. A student filed the following complaint:

Category: ${t.category}
Subject: ${t.subject}
Description: ${t.description}

Draft a polite and professional initial response to add as a note, acknowledging the complaint and assuring them it's being looked into.`,k=await _P(I);u(k),h(!0),v(D=>({...D,draft:!1}))};return C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-lg border border-gray-200 dark:border-gray-700",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[C.jsxs("div",{className:"md:col-span-2",children:[C.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-3",children:[C.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-2 sm:mb-0",children:t.subject}),C.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full whitespace-nowrap ${t.status==="Resolved"?"bg-green-100 text-green-800":t.status==="In Progress"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:t.status})]}),C.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium text-sm mb-3",children:t.category}),C.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4",children:t.description}),C.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-700 pt-3 text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[C.jsxs("p",{children:[C.jsx("strong",{children:"Student:"})," ",t.name," (",t.regNo,")"]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Location:"})," Room ",t.roomNumber,", Block ",t.block]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Contact:"})," ",t.phone]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Submitted:"})," ",new Date(t.createdAt?.toDate()).toLocaleString()]})]})]}),C.jsxs("div",{className:"md:col-span-1 flex flex-col justify-between items-start md:items-end border-t md:border-t-0 md:border-l border-gray-100 dark:border-gray-700 pt-4 md:pt-0 md:pl-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-2",children:"Update Status"}),C.jsxs("select",{value:t.status,onChange:I=>e(t.id,I.target.value),className:"w-full max-w-xs px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[C.jsx("option",{value:"Submitted",children:"Submitted"}),C.jsx("option",{value:"In Progress",children:"In Progress"}),C.jsx("option",{value:"Resolved",children:"Resolved"})]})]}),C.jsxs("div",{className:"flex flex-col items-start md:items-end gap-2 mt-4",children:[C.jsxs("button",{onClick:T,disabled:y.summarize,className:"flex items-center justify-center text-xs font-semibold text-purple-700 bg-purple-100 rounded-full px-3 py-1 hover:bg-purple-200 disabled:opacity-50 disabled:cursor-wait",children:[C.jsx(EP,{})," ",y.summarize?"Summarizing...":"Summarize"]}),C.jsxs("button",{onClick:()=>h(!c),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:[" ",c?"Hide":"Show/Add"," Notes (",t.notes?.length||0,")"]}),C.jsx("button",{onClick:E,className:`text-sm ${d?"text-red-700 font-bold":"text-red-500"} hover:underline`,children:d?"Confirm?":"Delete"})]})]})]}),c&&C.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[C.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Notes"}),C.jsxs("div",{className:"space-y-2 mb-3 max-h-40 overflow-y-auto",children:[t.notes?.map((I,k)=>C.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded-md text-sm",children:[C.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:I.text}),C.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-right",children:[" - ",I.author," on ",new Date(I.createdAt?.toDate()).toLocaleDateString()]})]},k)),!t.notes?.length&&C.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No notes yet."})]}),C.jsxs("form",{onSubmit:_,className:"flex items-center gap-2",children:[C.jsx("input",{type:"text",value:s,onChange:I=>u(I.target.value),placeholder:"Add a new note...",className:"flex-grow px-3 py-1.5 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"}),C.jsx("button",{type:"button",onClick:A,disabled:y.draft,className:"p-1.5 text-purple-700 bg-purple-100 rounded-full hover:bg-purple-200 disabled:opacity-50 disabled:cursor-wait",title:"Draft Note with AI",children:C.jsx(EP,{})}),C.jsx("button",{type:"submit",className:"px-4 py-1.5 text-sm font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:"Add"})]})]})]})}function E4({onLogout:t,setView:e,isSidebarOpen:n,setSidebarOpen:r,isAdmin:a,profile:s}){const u=c=>{e(c),window.innerWidth<768&&r(!1)};return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden transition-opacity ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),C.jsxs("div",{className:`w-64 bg-white dark:bg-gray-800 shadow-lg flex flex-col justify-between fixed md:relative inset-y-0 left-0 z-40 transform ${n?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out`,children:[C.jsxs("div",{children:[C.jsx("div",{className:"flex items-center justify-center p-4 border-b dark:border-gray-700",children:C.jsx("img",{src:"https://i.pinimg.com/736x/c6/c2/e9/c6c2e9022f25f404fe108a4cfefab222.jpg",alt:"VIT Logo",className:"h-24",onError:c=>{c.target.onerror=null,c.target.src="https://placehold.co/150x40?text=VIT+Logo"}})}),C.jsxs("div",{className:"p-4 border-b dark:border-gray-700",children:[C.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:"Welcome,"}),C.jsx("p",{className:"text-center font-semibold text-blue-700 dark:text-blue-400 truncate",children:a?"Admin":s?.name||"Student"}),!a&&C.jsx("p",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:s?.regNo})]}),C.jsx("nav",{className:"mt-4",children:C.jsx("ul",{children:a?C.jsxs(C.Fragment,{children:[C.jsx("li",{className:"px-4 mb-2",children:C.jsxs("button",{onClick:()=>u("dashboard"),className:"w-full flex items-center px-4 py-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-600 dark:hover:text-blue-400 transition",children:[C.jsx(wP,{})," Dashboard"]})}),C.jsx("li",{className:"px-4 mb-2",children:C.jsxs("button",{onClick:()=>u("reports"),className:"w-full flex items-center px-4 py-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-600 dark:hover:text-blue-400 transition",children:[C.jsx(Pte,{})," Reports"]})})]}):C.jsxs(C.Fragment,{children:[C.jsx("li",{className:"px-4 mb-2",children:C.jsxs("button",{onClick:()=>u("dashboard"),className:"w-full flex items-center px-4 py-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-600 dark:hover:text-blue-400 transition",children:[C.jsx(wP,{})," Dashboard"]})}),C.jsx("li",{className:"px-4 mb-2",children:C.jsxs("button",{onClick:()=>u("form"),className:"w-full flex items-center px-4 py-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 hover:text-blue-600 dark:hover:text-blue-400 transition",children:[C.jsx(Ite,{})," New Complaint"]})})]})})})]}),C.jsx("div",{className:"p-4 border-t dark:border-gray-700 flex justify-between items-center",children:C.jsx("button",{onClick:t,className:"flex-grow py-2 px-4 font-semibold text-white bg-red-500 rounded-lg hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition duration-300",children:"Logout"})})]})]})}function Kte({complaints:t,setView:e,onDelete:n,onOpenFeedback:r}){const[a,s]=O.useState(null),u=c=>{a===c?(n(c),s(null)):(s(c),setTimeout(()=>s(null),3e3))};return C.jsxs("div",{children:[C.jsxs("div",{className:"flex justify-between items-center mb-6",children:[C.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200",children:"Your Complaints"}),C.jsx("button",{onClick:()=>e("form"),className:"hidden sm:block px-4 py-2 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-300",children:"+ New Complaint"})]}),t.length===0?C.jsxs("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-600",children:[C.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"You haven't submitted any complaints yet."}),C.jsx("button",{onClick:()=>e("form"),className:"mt-4 px-5 py-2.5 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition",children:"File Your First Complaint"})]}):C.jsx("div",{className:"space-y-4",children:t.map(c=>C.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow duration-300",children:[C.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-3",children:[C.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-2 sm:mb-0",children:c.subject}),C.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full whitespace-nowrap ${c.status==="Resolved"?"bg-green-100 text-green-800":c.status==="In Progress"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:c.status})]}),C.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium text-sm mb-3",children:c.category}),C.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4",children:c.description}),c.status==="Resolved"&&!c.feedbackSubmitted&&C.jsx("div",{className:"my-4 text-center",children:C.jsx("button",{onClick:()=>r(c.id),className:"px-4 py-2 text-sm font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition",children:"Leave Feedback"})}),c.feedbackSubmitted&&C.jsxs("div",{className:"my-4 p-3 bg-blue-50 dark:bg-blue-900/50 rounded-lg border border-blue-200 dark:border-blue-800 text-sm",children:[C.jsx("p",{className:"font-semibold text-blue-800 dark:text-blue-300",children:"Your Feedback:"}),C.jsx("div",{className:"flex items-center my-1",children:[...Array(5)].map((h,d)=>C.jsx(w4,{filled:d<c.feedback.rating},d))}),C.jsxs("p",{className:"text-blue-700 dark:text-blue-400",children:['"',c.feedback.review,'"']})]}),c.notes&&c.notes.length>0&&C.jsxs("div",{className:"my-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border dark:border-gray-600",children:[C.jsx("h4",{className:"font-semibold text-xs text-gray-600 dark:text-gray-300 mb-2",children:"Admin Notes:"}),C.jsx("div",{className:"space-y-2",children:c.notes.map((h,d)=>C.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[C.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:['"',h.text,'"']}),C.jsxs("p",{className:"text-right",children:["- ",new Date(h.createdAt?.toDate()).toLocaleDateString()]})]},d))})]}),C.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-700 pt-3 flex justify-between items-center text-xs text-gray-500 dark:text-gray-400",children:[C.jsxs("span",{children:["Room ",c.roomNumber,", Block ",c.block]}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("span",{children:new Date(c.createdAt?.toDate()).toLocaleString()}),C.jsxs("button",{onClick:()=>u(c.id),className:`flex items-center text-xs ${a===c.id?"text-red-700 font-bold":"text-red-500"} hover:underline`,children:[C.jsx(Rte,{})," ",a===c.id?"Confirm?":"Delete"]})]})]})]},c.id))})]})}function Gte({complaintId:t,onSubmit:e,onClose:n}){const[r,a]=O.useState(0),[s,u]=O.useState(""),c=h=>{h.preventDefault(),r>0&&e(t,r,s)};return C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:C.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md m-4",children:C.jsxs("form",{onSubmit:c,children:[C.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:C.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Provide Feedback"})}),C.jsxs("div",{className:"p-4 space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-2",children:"How would you rate the service?"}),C.jsx("div",{className:"flex items-center justify-center",children:[...Array(5)].map((h,d)=>C.jsx(w4,{filled:d<r,onClick:()=>a(d+1)},d))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Comments (optional)"}),C.jsx("textarea",{value:s,onChange:h=>u(h.target.value),rows:"3",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg"})]})]}),C.jsxs("div",{className:"p-4 border-t dark:border-gray-700 flex justify-end gap-3",children:[C.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700",children:"Cancel"}),C.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",disabled:r===0,children:"Submit"})]})]})})})}function Yte({user:t,setView:e,profile:n}){const[r,a]=O.useState({name:"",regNo:"",block:"A",roomNumber:"",phone:"",countryCode:"+91",category:"Wi-fi Related Complaints",subject:"",description:""}),[s,u]=O.useState(""),c=["+91","+1","+44","+61","+81"];O.useEffect(()=>{n&&a(m=>({...m,name:n.name||"",regNo:n.regNo||""}))},[n]);const h=m=>{const{name:y,value:v}=m.target;if(y==="roomNumber"){const _=v.replace(/[^0-9]/g,"");_.length<=4&&a(E=>({...E,[y]:_}))}else a(_=>({..._,[y]:v}))},d=async m=>{if(m.preventDefault(),u(""),!/^\d{10}$/.test(r.phone)){u("Phone number must be exactly 10 digits.");return}if(!t){alert("You must be logged in to submit a complaint.");return}try{const v=`${r.countryCode}${r.phone}`;await w8(D1(Ai,"complaints"),{...r,phone:v,userId:t.uid,status:"Submitted",createdAt:new Date}),e("dashboard")}catch(v){console.error("Error adding document: ",v),alert("Failed to submit complaint.")}};return C.jsxs("div",{children:[C.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:"Register a New Complaint"}),C.jsxs("form",{onSubmit:d,className:"space-y-6 bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-600 dark:text-gray-300",children:"Name"}),C.jsx("input",{type:"text",name:"name",value:r.name,className:"w-full px-4 py-2 bg-gray-200 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg cursor-not-allowed",required:!0,disabled:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-600 dark:text-gray-300",children:"Registration No."}),C.jsx("input",{type:"text",name:"regNo",value:r.regNo,className:"w-full px-4 py-2 bg-gray-200 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg cursor-not-allowed",required:!0,disabled:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-600 dark:text-gray-300",children:"Block"}),C.jsx("select",{name:"block",value:r.block,onChange:h,className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg",required:!0,children:IE.slice(1).map(m=>C.jsx("option",{value:m,children:m},m))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-600 dark:text-gray-300",children:"Room Number"}),C.jsx("input",{type:"text",name:"roomNumber",value:r.roomNumber,onChange:h,className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-600 dark:text-gray-300",children:"Phone Number"}),C.jsxs("div",{className:"flex",children:[C.jsx("select",{name:"countryCode",value:r.countryCode,onChange:h,className:"px-2 bg-gray-50 dark:bg-gray-700 border border-r-0 border-gray-300 dark:border-gray-600 rounded-l-lg focus:outline-none",children:c.map(m=>C.jsx("option",{value:m,children:m},m))}),C.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:h,className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-r-lg",required:!0})]}),s&&C.jsx("p",{className:"text-red-500 text-xs mt-1",children:s})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-600 dark:text-gray-300",children:"Category"}),C.jsx("select",{name:"category",value:r.category,onChange:h,className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg",required:!0,children:Ip.slice(1).map(m=>C.jsx("option",{value:m,children:m},m))})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-600 dark:text-gray-300",children:"Subject"}),C.jsx("input",{type:"text",name:"subject",value:r.subject,onChange:h,className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-600 dark:text-gray-300",children:"Description"}),C.jsx("textarea",{name:"description",value:r.description,onChange:h,rows:"4",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg",required:!0})]}),C.jsxs("div",{className:"flex justify-end",children:[C.jsx("button",{type:"button",onClick:()=>e("dashboard"),className:"px-6 py-2 mr-3 font-semibold text-gray-700 bg-gray-200 dark:bg-gray-600 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700 transition",children:"Cancel"}),C.jsx("button",{type:"submit",className:"px-6 py-2 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition",children:"Submit Complaint"})]})]})]})}tL.createRoot(document.getElementById("root")).render(C.jsx(O.StrictMode,{children:C.jsx(kte,{})}));
